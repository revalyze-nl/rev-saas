function hd(e,t){for(var r=0;r<t.length;r++){const l=t[r];if(typeof l!="string"&&!Array.isArray(l)){for(const s in l)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(l,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>l[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();function fd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pd={exports:{}},ia={},xd={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _l=Symbol.for("react.element"),hh=Symbol.for("react.portal"),fh=Symbol.for("react.fragment"),ph=Symbol.for("react.strict_mode"),xh=Symbol.for("react.profiler"),gh=Symbol.for("react.provider"),vh=Symbol.for("react.context"),yh=Symbol.for("react.forward_ref"),bh=Symbol.for("react.suspense"),jh=Symbol.for("react.memo"),wh=Symbol.for("react.lazy"),Lc=Symbol.iterator;function Nh(e){return e===null||typeof e!="object"?null:(e=Lc&&e[Lc]||e["@@iterator"],typeof e=="function"?e:null)}var gd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vd=Object.assign,yd={};function Ln(e,t,r){this.props=e,this.context=t,this.refs=yd,this.updater=r||gd}Ln.prototype.isReactComponent={};Ln.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ln.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bd(){}bd.prototype=Ln.prototype;function xo(e,t,r){this.props=e,this.context=t,this.refs=yd,this.updater=r||gd}var go=xo.prototype=new bd;go.constructor=xo;vd(go,Ln.prototype);go.isPureReactComponent=!0;var _c=Array.isArray,jd=Object.prototype.hasOwnProperty,vo={current:null},wd={key:!0,ref:!0,__self:!0,__source:!0};function Nd(e,t,r){var l,s={},a=null,i=null;if(t!=null)for(l in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)jd.call(t,l)&&!wd.hasOwnProperty(l)&&(s[l]=t[l]);var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){for(var o=Array(c),u=0;u<c;u++)o[u]=arguments[u+2];s.children=o}if(e&&e.defaultProps)for(l in c=e.defaultProps,c)s[l]===void 0&&(s[l]=c[l]);return{$$typeof:_l,type:e,key:a,ref:i,props:s,_owner:vo.current}}function kh(e,t){return{$$typeof:_l,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yo(e){return typeof e=="object"&&e!==null&&e.$$typeof===_l}function Ch(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Rc=/\/+/g;function za(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ch(""+e.key):t.toString(36)}function ps(e,t,r,l,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case _l:case hh:i=!0}}if(i)return i=e,s=s(i),e=l===""?"."+za(i,0):l,_c(s)?(r="",e!=null&&(r=e.replace(Rc,"$&/")+"/"),ps(s,t,r,"",function(u){return u})):s!=null&&(yo(s)&&(s=kh(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Rc,"$&/")+"/")+e)),t.push(s)),1;if(i=0,l=l===""?".":l+":",_c(e))for(var c=0;c<e.length;c++){a=e[c];var o=l+za(a,c);i+=ps(a,t,r,o,s)}else if(o=Nh(e),typeof o=="function")for(e=o.call(e),c=0;!(a=e.next()).done;)a=a.value,o=l+za(a,c++),i+=ps(a,t,r,o,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Gl(e,t,r){if(e==null)return e;var l=[],s=0;return ps(e,l,"","",function(a){return t.call(r,a,s++)}),l}function Sh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tt={current:null},xs={transition:null},Eh={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:xs,ReactCurrentOwner:vo};function kd(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:Gl,forEach:function(e,t,r){Gl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Gl(e,function(){t++}),t},toArray:function(e){return Gl(e,function(t){return t})||[]},only:function(e){if(!yo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};oe.Component=Ln;oe.Fragment=fh;oe.Profiler=xh;oe.PureComponent=xo;oe.StrictMode=ph;oe.Suspense=bh;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Eh;oe.act=kd;oe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var l=vd({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=vo.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(o in t)jd.call(t,o)&&!wd.hasOwnProperty(o)&&(l[o]=t[o]===void 0&&c!==void 0?c[o]:t[o])}var o=arguments.length-2;if(o===1)l.children=r;else if(1<o){c=Array(o);for(var u=0;u<o;u++)c[u]=arguments[u+2];l.children=c}return{$$typeof:_l,type:e.type,key:s,ref:a,props:l,_owner:i}};oe.createContext=function(e){return e={$$typeof:vh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gh,_context:e},e.Consumer=e};oe.createElement=Nd;oe.createFactory=function(e){var t=Nd.bind(null,e);return t.type=e,t};oe.createRef=function(){return{current:null}};oe.forwardRef=function(e){return{$$typeof:yh,render:e}};oe.isValidElement=yo;oe.lazy=function(e){return{$$typeof:wh,_payload:{_status:-1,_result:e},_init:Sh}};oe.memo=function(e,t){return{$$typeof:jh,type:e,compare:t===void 0?null:t}};oe.startTransition=function(e){var t=xs.transition;xs.transition={};try{e()}finally{xs.transition=t}};oe.unstable_act=kd;oe.useCallback=function(e,t){return tt.current.useCallback(e,t)};oe.useContext=function(e){return tt.current.useContext(e)};oe.useDebugValue=function(){};oe.useDeferredValue=function(e){return tt.current.useDeferredValue(e)};oe.useEffect=function(e,t){return tt.current.useEffect(e,t)};oe.useId=function(){return tt.current.useId()};oe.useImperativeHandle=function(e,t,r){return tt.current.useImperativeHandle(e,t,r)};oe.useInsertionEffect=function(e,t){return tt.current.useInsertionEffect(e,t)};oe.useLayoutEffect=function(e,t){return tt.current.useLayoutEffect(e,t)};oe.useMemo=function(e,t){return tt.current.useMemo(e,t)};oe.useReducer=function(e,t,r){return tt.current.useReducer(e,t,r)};oe.useRef=function(e){return tt.current.useRef(e)};oe.useState=function(e){return tt.current.useState(e)};oe.useSyncExternalStore=function(e,t,r){return tt.current.useSyncExternalStore(e,t,r)};oe.useTransition=function(){return tt.current.useTransition()};oe.version="18.3.1";xd.exports=oe;var g=xd.exports;const Cd=fd(g),Ph=hd({__proto__:null,default:Cd},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lh=g,_h=Symbol.for("react.element"),Rh=Symbol.for("react.fragment"),Mh=Object.prototype.hasOwnProperty,Th=Lh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dh={key:!0,ref:!0,__self:!0,__source:!0};function Sd(e,t,r){var l,s={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(l in t)Mh.call(t,l)&&!Dh.hasOwnProperty(l)&&(s[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps,t)s[l]===void 0&&(s[l]=t[l]);return{$$typeof:_h,type:e,key:a,ref:i,props:s,_owner:Th.current}}ia.Fragment=Rh;ia.jsx=Sd;ia.jsxs=Sd;pd.exports=ia;var n=pd.exports,xi={},Ed={exports:{}},ft={},Pd={exports:{}},Ld={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,G){var H=I.length;I.push(G);e:for(;0<H;){var P=H-1>>>1,F=I[P];if(0<s(F,G))I[P]=G,I[H]=F,H=P;else break e}}function r(I){return I.length===0?null:I[0]}function l(I){if(I.length===0)return null;var G=I[0],H=I.pop();if(H!==G){I[0]=H;e:for(var P=0,F=I.length,q=F>>>1;P<q;){var he=2*(P+1)-1,le=I[he],ye=he+1,U=I[ye];if(0>s(le,H))ye<F&&0>s(U,le)?(I[P]=U,I[ye]=H,P=ye):(I[P]=le,I[he]=H,P=he);else if(ye<F&&0>s(U,H))I[P]=U,I[ye]=H,P=ye;else break e}}return G}function s(I,G){var H=I.sortIndex-G.sortIndex;return H!==0?H:I.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,c=i.now();e.unstable_now=function(){return i.now()-c}}var o=[],u=[],m=1,h=null,x=3,y=!1,j=!1,b=!1,C=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(I){for(var G=r(u);G!==null;){if(G.callback===null)l(u);else if(G.startTime<=I)l(u),G.sortIndex=G.expirationTime,t(o,G);else break;G=r(u)}}function w(I){if(b=!1,p(I),!j)if(r(o)!==null)j=!0,me(k);else{var G=r(u);G!==null&&ue(w,G.startTime-I)}}function k(I,G){j=!1,b&&(b=!1,f(_),_=-1),y=!0;var H=x;try{for(p(G),h=r(o);h!==null&&(!(h.expirationTime>G)||I&&!O());){var P=h.callback;if(typeof P=="function"){h.callback=null,x=h.priorityLevel;var F=P(h.expirationTime<=G);G=e.unstable_now(),typeof F=="function"?h.callback=F:h===r(o)&&l(o),p(G)}else l(o);h=r(o)}if(h!==null)var q=!0;else{var he=r(u);he!==null&&ue(w,he.startTime-G),q=!1}return q}finally{h=null,x=H,y=!1}}var S=!1,v=null,_=-1,M=5,L=-1;function O(){return!(e.unstable_now()-L<M)}function $(){if(v!==null){var I=e.unstable_now();L=I;var G=!0;try{G=v(!0,I)}finally{G?ee():(S=!1,v=null)}}else S=!1}var ee;if(typeof d=="function")ee=function(){d($)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,te=z.port2;z.port1.onmessage=$,ee=function(){te.postMessage(null)}}else ee=function(){C($,0)};function me(I){v=I,S||(S=!0,ee())}function ue(I,G){_=C(function(){I(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){j||y||(j=!0,me(k))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(o)},e.unstable_next=function(I){switch(x){case 1:case 2:case 3:var G=3;break;default:G=x}var H=x;x=G;try{return I()}finally{x=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,G){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var H=x;x=I;try{return G()}finally{x=H}},e.unstable_scheduleCallback=function(I,G,H){var P=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?P+H:P):H=P,I){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=H+F,I={id:m++,callback:G,priorityLevel:I,startTime:H,expirationTime:F,sortIndex:-1},H>P?(I.sortIndex=H,t(u,I),r(o)===null&&I===r(u)&&(b?(f(_),_=-1):b=!0,ue(w,H-P))):(I.sortIndex=F,t(o,I),j||y||(j=!0,me(k))),I},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(I){var G=x;return function(){var H=x;x=G;try{return I.apply(this,arguments)}finally{x=H}}}})(Ld);Pd.exports=Ld;var Ih=Pd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ah=g,ht=Ih;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _d=new Set,dl={};function Qr(e,t){jn(e,t),jn(e+"Capture",t)}function jn(e,t){for(dl[e]=t,e=0;e<t.length;e++)_d.add(t[e])}var Zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gi=Object.prototype.hasOwnProperty,zh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mc={},Tc={};function Fh(e){return gi.call(Tc,e)?!0:gi.call(Mc,e)?!1:zh.test(e)?Tc[e]=!0:(Mc[e]=!0,!1)}function Uh(e,t,r,l){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Bh(e,t,r,l){if(t===null||typeof t>"u"||Uh(e,t,r,l))return!0;if(l)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rt(e,t,r,l,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qe[e]=new rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qe[t]=new rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qe[e]=new rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qe[e]=new rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qe[e]=new rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qe[e]=new rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qe[e]=new rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qe[e]=new rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qe[e]=new rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var bo=/[\-:]([a-z])/g;function jo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bo,jo);Qe[t]=new rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bo,jo);Qe[t]=new rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bo,jo);Qe[t]=new rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qe[e]=new rt(e,1,!1,e.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qe[e]=new rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function wo(e,t,r,l){var s=Qe.hasOwnProperty(t)?Qe[t]:null;(s!==null?s.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Bh(t,r,s,l)&&(r=null),l||s===null?Fh(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,l=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,l?e.setAttributeNS(l,t,r):e.setAttribute(t,r))))}var nr=Ah.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ql=Symbol.for("react.element"),tn=Symbol.for("react.portal"),rn=Symbol.for("react.fragment"),No=Symbol.for("react.strict_mode"),vi=Symbol.for("react.profiler"),Rd=Symbol.for("react.provider"),Md=Symbol.for("react.context"),ko=Symbol.for("react.forward_ref"),yi=Symbol.for("react.suspense"),bi=Symbol.for("react.suspense_list"),Co=Symbol.for("react.memo"),or=Symbol.for("react.lazy"),Td=Symbol.for("react.offscreen"),Dc=Symbol.iterator;function Un(e){return e===null||typeof e!="object"?null:(e=Dc&&e[Dc]||e["@@iterator"],typeof e=="function"?e:null)}var Le=Object.assign,Fa;function Jn(e){if(Fa===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Fa=t&&t[1]||""}return`
`+Fa+e}var Ua=!1;function Ba(e,t){if(!e||Ua)return"";Ua=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var l=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){l=u}e.call(t.prototype)}else{try{throw Error()}catch(u){l=u}e()}}catch(u){if(u&&l&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=l.stack.split(`
`),i=s.length-1,c=a.length-1;1<=i&&0<=c&&s[i]!==a[c];)c--;for(;1<=i&&0<=c;i--,c--)if(s[i]!==a[c]){if(i!==1||c!==1)do if(i--,c--,0>c||s[i]!==a[c]){var o=`
`+s[i].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=i&&0<=c);break}}}finally{Ua=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Jn(e):""}function Oh(e){switch(e.tag){case 5:return Jn(e.type);case 16:return Jn("Lazy");case 13:return Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 2:case 15:return e=Ba(e.type,!1),e;case 11:return e=Ba(e.type.render,!1),e;case 1:return e=Ba(e.type,!0),e;default:return""}}function ji(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rn:return"Fragment";case tn:return"Portal";case vi:return"Profiler";case No:return"StrictMode";case yi:return"Suspense";case bi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Md:return(e.displayName||"Context")+".Consumer";case Rd:return(e._context.displayName||"Context")+".Provider";case ko:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Co:return t=e.displayName||null,t!==null?t:ji(e.type)||"Memo";case or:t=e._payload,e=e._init;try{return ji(e(t))}catch{}}return null}function Wh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ji(t);case 8:return t===No?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $h(e){var t=Dd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){l=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(i){l=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kl(e){e._valueTracker||(e._valueTracker=$h(e))}function Id(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),l="";return e&&(l=Dd(e)?e.checked?"true":"false":e.value),e=l,e!==r?(t.setValue(e),!0):!1}function Ps(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wi(e,t){var r=t.checked;return Le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ic(e,t){var r=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;r=Nr(t.value!=null?t.value:r),e._wrapperState={initialChecked:l,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ad(e,t){t=t.checked,t!=null&&wo(e,"checked",t,!1)}function Ni(e,t){Ad(e,t);var r=Nr(t.value),l=t.type;if(r!=null)l==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ki(e,t.type,r):t.hasOwnProperty("defaultValue")&&ki(e,t.type,Nr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ac(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ki(e,t,r){(t!=="number"||Ps(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Zn=Array.isArray;function fn(e,t,r,l){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&l&&(e[r].defaultSelected=!0)}else{for(r=""+Nr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,l&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ci(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return Le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(A(92));if(Zn(r)){if(1<r.length)throw Error(A(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Nr(r)}}function zd(e,t){var r=Nr(t.value),l=Nr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),l!=null&&(e.defaultValue=""+l)}function Fc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Si(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xl,Ud=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,l,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,l,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xl=Xl||document.createElement("div"),Xl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ml(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var rl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vh=["Webkit","ms","Moz","O"];Object.keys(rl).forEach(function(e){Vh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),rl[t]=rl[e]})});function Bd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||rl.hasOwnProperty(e)&&rl[e]?(""+t).trim():t+"px"}function Od(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var l=r.indexOf("--")===0,s=Bd(r,t[r],l);r==="float"&&(r="cssFloat"),l?e.setProperty(r,s):e[r]=s}}var Hh=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ei(e,t){if(t){if(Hh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function Pi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Li=null;function So(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _i=null,pn=null,xn=null;function Uc(e){if(e=Tl(e)){if(typeof _i!="function")throw Error(A(280));var t=e.stateNode;t&&(t=ma(t),_i(e.stateNode,e.type,t))}}function Wd(e){pn?xn?xn.push(e):xn=[e]:pn=e}function $d(){if(pn){var e=pn,t=xn;if(xn=pn=null,Uc(e),t)for(e=0;e<t.length;e++)Uc(t[e])}}function Vd(e,t){return e(t)}function Hd(){}var Oa=!1;function Yd(e,t,r){if(Oa)return e(t,r);Oa=!0;try{return Vd(e,t,r)}finally{Oa=!1,(pn!==null||xn!==null)&&(Hd(),$d())}}function hl(e,t){var r=e.stateNode;if(r===null)return null;var l=ma(r);if(l===null)return null;r=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(A(231,t,typeof r));return r}var Ri=!1;if(Zt)try{var Bn={};Object.defineProperty(Bn,"passive",{get:function(){Ri=!0}}),window.addEventListener("test",Bn,Bn),window.removeEventListener("test",Bn,Bn)}catch{Ri=!1}function Yh(e,t,r,l,s,a,i,c,o){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(m){this.onError(m)}}var nl=!1,Ls=null,_s=!1,Mi=null,Gh={onError:function(e){nl=!0,Ls=e}};function Qh(e,t,r,l,s,a,i,c,o){nl=!1,Ls=null,Yh.apply(Gh,arguments)}function Kh(e,t,r,l,s,a,i,c,o){if(Qh.apply(this,arguments),nl){if(nl){var u=Ls;nl=!1,Ls=null}else throw Error(A(198));_s||(_s=!0,Mi=u)}}function Kr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Gd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bc(e){if(Kr(e)!==e)throw Error(A(188))}function Xh(e){var t=e.alternate;if(!t){if(t=Kr(e),t===null)throw Error(A(188));return t!==e?null:e}for(var r=e,l=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(l=s.return,l!==null){r=l;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return Bc(s),e;if(a===l)return Bc(s),t;a=a.sibling}throw Error(A(188))}if(r.return!==l.return)r=s,l=a;else{for(var i=!1,c=s.child;c;){if(c===r){i=!0,r=s,l=a;break}if(c===l){i=!0,l=s,r=a;break}c=c.sibling}if(!i){for(c=a.child;c;){if(c===r){i=!0,r=a,l=s;break}if(c===l){i=!0,l=a,r=s;break}c=c.sibling}if(!i)throw Error(A(189))}}if(r.alternate!==l)throw Error(A(190))}if(r.tag!==3)throw Error(A(188));return r.stateNode.current===r?e:t}function Qd(e){return e=Xh(e),e!==null?Kd(e):null}function Kd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Kd(e);if(t!==null)return t;e=e.sibling}return null}var Xd=ht.unstable_scheduleCallback,Oc=ht.unstable_cancelCallback,Jh=ht.unstable_shouldYield,Zh=ht.unstable_requestPaint,De=ht.unstable_now,qh=ht.unstable_getCurrentPriorityLevel,Eo=ht.unstable_ImmediatePriority,Jd=ht.unstable_UserBlockingPriority,Rs=ht.unstable_NormalPriority,ef=ht.unstable_LowPriority,Zd=ht.unstable_IdlePriority,oa=null,Bt=null;function tf(e){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(oa,e,void 0,(e.current.flags&128)===128)}catch{}}var Rt=Math.clz32?Math.clz32:lf,rf=Math.log,nf=Math.LN2;function lf(e){return e>>>=0,e===0?32:31-(rf(e)/nf|0)|0}var Jl=64,Zl=4194304;function qn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ms(e,t){var r=e.pendingLanes;if(r===0)return 0;var l=0,s=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var c=i&~s;c!==0?l=qn(c):(a&=i,a!==0&&(l=qn(a)))}else i=r&~s,i!==0?l=qn(i):a!==0&&(l=qn(a));if(l===0)return 0;if(t!==0&&t!==l&&!(t&s)&&(s=l&-l,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(l&4&&(l|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)r=31-Rt(t),s=1<<r,l|=e[r],t&=~s;return l}function sf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function af(e,t){for(var r=e.suspendedLanes,l=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Rt(a),c=1<<i,o=s[i];o===-1?(!(c&r)||c&l)&&(s[i]=sf(c,t)):o<=t&&(e.expiredLanes|=c),a&=~c}}function Ti(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qd(){var e=Jl;return Jl<<=1,!(Jl&4194240)&&(Jl=64),e}function Wa(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Rl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Rt(t),e[t]=r}function of(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Rt(r),a=1<<s;t[s]=0,l[s]=-1,e[s]=-1,r&=~a}}function Po(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var l=31-Rt(r),s=1<<l;s&t|e[l]&t&&(e[l]|=t),r&=~s}}var ve=0;function e0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var t0,Lo,r0,n0,l0,Di=!1,ql=[],pr=null,xr=null,gr=null,fl=new Map,pl=new Map,ur=[],cf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wc(e,t){switch(e){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":fl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(t.pointerId)}}function On(e,t,r,l,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:l,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Tl(t),t!==null&&Lo(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function uf(e,t,r,l,s){switch(t){case"focusin":return pr=On(pr,e,t,r,l,s),!0;case"dragenter":return xr=On(xr,e,t,r,l,s),!0;case"mouseover":return gr=On(gr,e,t,r,l,s),!0;case"pointerover":var a=s.pointerId;return fl.set(a,On(fl.get(a)||null,e,t,r,l,s)),!0;case"gotpointercapture":return a=s.pointerId,pl.set(a,On(pl.get(a)||null,e,t,r,l,s)),!0}return!1}function s0(e){var t=Ir(e.target);if(t!==null){var r=Kr(t);if(r!==null){if(t=r.tag,t===13){if(t=Gd(r),t!==null){e.blockedOn=t,l0(e.priority,function(){r0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ii(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);Li=l,r.target.dispatchEvent(l),Li=null}else return t=Tl(r),t!==null&&Lo(t),e.blockedOn=r,!1;t.shift()}return!0}function $c(e,t,r){gs(e)&&r.delete(t)}function df(){Di=!1,pr!==null&&gs(pr)&&(pr=null),xr!==null&&gs(xr)&&(xr=null),gr!==null&&gs(gr)&&(gr=null),fl.forEach($c),pl.forEach($c)}function Wn(e,t){e.blockedOn===t&&(e.blockedOn=null,Di||(Di=!0,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,df)))}function xl(e){function t(s){return Wn(s,e)}if(0<ql.length){Wn(ql[0],e);for(var r=1;r<ql.length;r++){var l=ql[r];l.blockedOn===e&&(l.blockedOn=null)}}for(pr!==null&&Wn(pr,e),xr!==null&&Wn(xr,e),gr!==null&&Wn(gr,e),fl.forEach(t),pl.forEach(t),r=0;r<ur.length;r++)l=ur[r],l.blockedOn===e&&(l.blockedOn=null);for(;0<ur.length&&(r=ur[0],r.blockedOn===null);)s0(r),r.blockedOn===null&&ur.shift()}var gn=nr.ReactCurrentBatchConfig,Ts=!0;function mf(e,t,r,l){var s=ve,a=gn.transition;gn.transition=null;try{ve=1,_o(e,t,r,l)}finally{ve=s,gn.transition=a}}function hf(e,t,r,l){var s=ve,a=gn.transition;gn.transition=null;try{ve=4,_o(e,t,r,l)}finally{ve=s,gn.transition=a}}function _o(e,t,r,l){if(Ts){var s=Ii(e,t,r,l);if(s===null)Za(e,t,l,Ds,r),Wc(e,l);else if(uf(s,e,t,r,l))l.stopPropagation();else if(Wc(e,l),t&4&&-1<cf.indexOf(e)){for(;s!==null;){var a=Tl(s);if(a!==null&&t0(a),a=Ii(e,t,r,l),a===null&&Za(e,t,l,Ds,r),a===s)break;s=a}s!==null&&l.stopPropagation()}else Za(e,t,l,null,r)}}var Ds=null;function Ii(e,t,r,l){if(Ds=null,e=So(l),e=Ir(e),e!==null)if(t=Kr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Gd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ds=e,null}function a0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qh()){case Eo:return 1;case Jd:return 4;case Rs:case ef:return 16;case Zd:return 536870912;default:return 16}default:return 16}}var mr=null,Ro=null,vs=null;function i0(){if(vs)return vs;var e,t=Ro,r=t.length,l,s="value"in mr?mr.value:mr.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(l=1;l<=i&&t[r-l]===s[a-l];l++);return vs=s.slice(e,1<l?1-l:void 0)}function ys(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function es(){return!0}function Vc(){return!1}function pt(e){function t(r,l,s,a,i){this._reactName=r,this._targetInst=s,this.type=l,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?es:Vc,this.isPropagationStopped=Vc,this}return Le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),t}var _n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mo=pt(_n),Ml=Le({},_n,{view:0,detail:0}),ff=pt(Ml),$a,Va,$n,ca=Le({},Ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:To,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$n&&($n&&e.type==="mousemove"?($a=e.screenX-$n.screenX,Va=e.screenY-$n.screenY):Va=$a=0,$n=e),$a)},movementY:function(e){return"movementY"in e?e.movementY:Va}}),Hc=pt(ca),pf=Le({},ca,{dataTransfer:0}),xf=pt(pf),gf=Le({},Ml,{relatedTarget:0}),Ha=pt(gf),vf=Le({},_n,{animationName:0,elapsedTime:0,pseudoElement:0}),yf=pt(vf),bf=Le({},_n,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jf=pt(bf),wf=Le({},_n,{data:0}),Yc=pt(wf),Nf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cf[e])?!!t[e]:!1}function To(){return Sf}var Ef=Le({},Ml,{key:function(e){if(e.key){var t=Nf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:To,charCode:function(e){return e.type==="keypress"?ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pf=pt(Ef),Lf=Le({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gc=pt(Lf),_f=Le({},Ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:To}),Rf=pt(_f),Mf=Le({},_n,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tf=pt(Mf),Df=Le({},ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),If=pt(Df),Af=[9,13,27,32],Do=Zt&&"CompositionEvent"in window,ll=null;Zt&&"documentMode"in document&&(ll=document.documentMode);var zf=Zt&&"TextEvent"in window&&!ll,o0=Zt&&(!Do||ll&&8<ll&&11>=ll),Qc=" ",Kc=!1;function c0(e,t){switch(e){case"keyup":return Af.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function u0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nn=!1;function Ff(e,t){switch(e){case"compositionend":return u0(t);case"keypress":return t.which!==32?null:(Kc=!0,Qc);case"textInput":return e=t.data,e===Qc&&Kc?null:e;default:return null}}function Uf(e,t){if(nn)return e==="compositionend"||!Do&&c0(e,t)?(e=i0(),vs=Ro=mr=null,nn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return o0&&t.locale!=="ko"?null:t.data;default:return null}}var Bf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Bf[e.type]:t==="textarea"}function d0(e,t,r,l){Wd(l),t=Is(t,"onChange"),0<t.length&&(r=new Mo("onChange","change",null,r,l),e.push({event:r,listeners:t}))}var sl=null,gl=null;function Of(e){w0(e,0)}function ua(e){var t=an(e);if(Id(t))return e}function Wf(e,t){if(e==="change")return t}var m0=!1;if(Zt){var Ya;if(Zt){var Ga="oninput"in document;if(!Ga){var Jc=document.createElement("div");Jc.setAttribute("oninput","return;"),Ga=typeof Jc.oninput=="function"}Ya=Ga}else Ya=!1;m0=Ya&&(!document.documentMode||9<document.documentMode)}function Zc(){sl&&(sl.detachEvent("onpropertychange",h0),gl=sl=null)}function h0(e){if(e.propertyName==="value"&&ua(gl)){var t=[];d0(t,gl,e,So(e)),Yd(Of,t)}}function $f(e,t,r){e==="focusin"?(Zc(),sl=t,gl=r,sl.attachEvent("onpropertychange",h0)):e==="focusout"&&Zc()}function Vf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ua(gl)}function Hf(e,t){if(e==="click")return ua(t)}function Yf(e,t){if(e==="input"||e==="change")return ua(t)}function Gf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:Gf;function vl(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),l=Object.keys(t);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var s=r[l];if(!gi.call(t,s)||!Tt(e[s],t[s]))return!1}return!0}function qc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function eu(e,t){var r=qc(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=t&&l>=t)return{node:r,offset:t-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=qc(r)}}function f0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?f0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function p0(){for(var e=window,t=Ps();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ps(e.document)}return t}function Io(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Qf(e){var t=p0(),r=e.focusedElem,l=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&f0(r.ownerDocument.documentElement,r)){if(l!==null&&Io(r)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(l.start,s);l=l.end===void 0?a:Math.min(l.end,s),!e.extend&&a>l&&(s=l,l=a,a=s),s=eu(r,a);var i=eu(r,l);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>l?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Kf=Zt&&"documentMode"in document&&11>=document.documentMode,ln=null,Ai=null,al=null,zi=!1;function tu(e,t,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zi||ln==null||ln!==Ps(l)||(l=ln,"selectionStart"in l&&Io(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&vl(al,l)||(al=l,l=Is(Ai,"onSelect"),0<l.length&&(t=new Mo("onSelect","select",null,t,r),e.push({event:t,listeners:l}),t.target=ln)))}function ts(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var sn={animationend:ts("Animation","AnimationEnd"),animationiteration:ts("Animation","AnimationIteration"),animationstart:ts("Animation","AnimationStart"),transitionend:ts("Transition","TransitionEnd")},Qa={},x0={};Zt&&(x0=document.createElement("div").style,"AnimationEvent"in window||(delete sn.animationend.animation,delete sn.animationiteration.animation,delete sn.animationstart.animation),"TransitionEvent"in window||delete sn.transitionend.transition);function da(e){if(Qa[e])return Qa[e];if(!sn[e])return e;var t=sn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in x0)return Qa[e]=t[r];return e}var g0=da("animationend"),v0=da("animationiteration"),y0=da("animationstart"),b0=da("transitionend"),j0=new Map,ru="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(e,t){j0.set(e,t),Qr(t,[e])}for(var Ka=0;Ka<ru.length;Ka++){var Xa=ru[Ka],Xf=Xa.toLowerCase(),Jf=Xa[0].toUpperCase()+Xa.slice(1);Cr(Xf,"on"+Jf)}Cr(g0,"onAnimationEnd");Cr(v0,"onAnimationIteration");Cr(y0,"onAnimationStart");Cr("dblclick","onDoubleClick");Cr("focusin","onFocus");Cr("focusout","onBlur");Cr(b0,"onTransitionEnd");jn("onMouseEnter",["mouseout","mouseover"]);jn("onMouseLeave",["mouseout","mouseover"]);jn("onPointerEnter",["pointerout","pointerover"]);jn("onPointerLeave",["pointerout","pointerover"]);Qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zf=new Set("cancel close invalid load scroll toggle".split(" ").concat(el));function nu(e,t,r){var l=e.type||"unknown-event";e.currentTarget=r,Kh(l,t,void 0,e),e.currentTarget=null}function w0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],s=l.event;l=l.listeners;e:{var a=void 0;if(t)for(var i=l.length-1;0<=i;i--){var c=l[i],o=c.instance,u=c.currentTarget;if(c=c.listener,o!==a&&s.isPropagationStopped())break e;nu(s,c,u),a=o}else for(i=0;i<l.length;i++){if(c=l[i],o=c.instance,u=c.currentTarget,c=c.listener,o!==a&&s.isPropagationStopped())break e;nu(s,c,u),a=o}}}if(_s)throw e=Mi,_s=!1,Mi=null,e}function Ne(e,t){var r=t[Wi];r===void 0&&(r=t[Wi]=new Set);var l=e+"__bubble";r.has(l)||(N0(t,e,2,!1),r.add(l))}function Ja(e,t,r){var l=0;t&&(l|=4),N0(r,e,l,t)}var rs="_reactListening"+Math.random().toString(36).slice(2);function yl(e){if(!e[rs]){e[rs]=!0,_d.forEach(function(r){r!=="selectionchange"&&(Zf.has(r)||Ja(r,!1,e),Ja(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rs]||(t[rs]=!0,Ja("selectionchange",!1,t))}}function N0(e,t,r,l){switch(a0(t)){case 1:var s=mf;break;case 4:s=hf;break;default:s=_o}r=s.bind(null,t,r,e),s=void 0,!Ri||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),l?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Za(e,t,r,l,s){var a=l;if(!(t&1)&&!(t&2)&&l!==null)e:for(;;){if(l===null)return;var i=l.tag;if(i===3||i===4){var c=l.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(i===4)for(i=l.return;i!==null;){var o=i.tag;if((o===3||o===4)&&(o=i.stateNode.containerInfo,o===s||o.nodeType===8&&o.parentNode===s))return;i=i.return}for(;c!==null;){if(i=Ir(c),i===null)return;if(o=i.tag,o===5||o===6){l=a=i;continue e}c=c.parentNode}}l=l.return}Yd(function(){var u=a,m=So(r),h=[];e:{var x=j0.get(e);if(x!==void 0){var y=Mo,j=e;switch(e){case"keypress":if(ys(r)===0)break e;case"keydown":case"keyup":y=Pf;break;case"focusin":j="focus",y=Ha;break;case"focusout":j="blur",y=Ha;break;case"beforeblur":case"afterblur":y=Ha;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Hc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=xf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Rf;break;case g0:case v0:case y0:y=yf;break;case b0:y=Tf;break;case"scroll":y=ff;break;case"wheel":y=If;break;case"copy":case"cut":case"paste":y=jf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Gc}var b=(t&4)!==0,C=!b&&e==="scroll",f=b?x!==null?x+"Capture":null:x;b=[];for(var d=u,p;d!==null;){p=d;var w=p.stateNode;if(p.tag===5&&w!==null&&(p=w,f!==null&&(w=hl(d,f),w!=null&&b.push(bl(d,w,p)))),C)break;d=d.return}0<b.length&&(x=new y(x,j,null,r,m),h.push({event:x,listeners:b}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",x&&r!==Li&&(j=r.relatedTarget||r.fromElement)&&(Ir(j)||j[qt]))break e;if((y||x)&&(x=m.window===m?m:(x=m.ownerDocument)?x.defaultView||x.parentWindow:window,y?(j=r.relatedTarget||r.toElement,y=u,j=j?Ir(j):null,j!==null&&(C=Kr(j),j!==C||j.tag!==5&&j.tag!==6)&&(j=null)):(y=null,j=u),y!==j)){if(b=Hc,w="onMouseLeave",f="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(b=Gc,w="onPointerLeave",f="onPointerEnter",d="pointer"),C=y==null?x:an(y),p=j==null?x:an(j),x=new b(w,d+"leave",y,r,m),x.target=C,x.relatedTarget=p,w=null,Ir(m)===u&&(b=new b(f,d+"enter",j,r,m),b.target=p,b.relatedTarget=C,w=b),C=w,y&&j)t:{for(b=y,f=j,d=0,p=b;p;p=qr(p))d++;for(p=0,w=f;w;w=qr(w))p++;for(;0<d-p;)b=qr(b),d--;for(;0<p-d;)f=qr(f),p--;for(;d--;){if(b===f||f!==null&&b===f.alternate)break t;b=qr(b),f=qr(f)}b=null}else b=null;y!==null&&lu(h,x,y,b,!1),j!==null&&C!==null&&lu(h,C,j,b,!0)}}e:{if(x=u?an(u):window,y=x.nodeName&&x.nodeName.toLowerCase(),y==="select"||y==="input"&&x.type==="file")var k=Wf;else if(Xc(x))if(m0)k=Yf;else{k=Vf;var S=$f}else(y=x.nodeName)&&y.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(k=Hf);if(k&&(k=k(e,u))){d0(h,k,r,m);break e}S&&S(e,x,u),e==="focusout"&&(S=x._wrapperState)&&S.controlled&&x.type==="number"&&ki(x,"number",x.value)}switch(S=u?an(u):window,e){case"focusin":(Xc(S)||S.contentEditable==="true")&&(ln=S,Ai=u,al=null);break;case"focusout":al=Ai=ln=null;break;case"mousedown":zi=!0;break;case"contextmenu":case"mouseup":case"dragend":zi=!1,tu(h,r,m);break;case"selectionchange":if(Kf)break;case"keydown":case"keyup":tu(h,r,m)}var v;if(Do)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else nn?c0(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(o0&&r.locale!=="ko"&&(nn||_!=="onCompositionStart"?_==="onCompositionEnd"&&nn&&(v=i0()):(mr=m,Ro="value"in mr?mr.value:mr.textContent,nn=!0)),S=Is(u,_),0<S.length&&(_=new Yc(_,e,null,r,m),h.push({event:_,listeners:S}),v?_.data=v:(v=u0(r),v!==null&&(_.data=v)))),(v=zf?Ff(e,r):Uf(e,r))&&(u=Is(u,"onBeforeInput"),0<u.length&&(m=new Yc("onBeforeInput","beforeinput",null,r,m),h.push({event:m,listeners:u}),m.data=v))}w0(h,t)})}function bl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Is(e,t){for(var r=t+"Capture",l=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=hl(e,r),a!=null&&l.unshift(bl(e,a,s)),a=hl(e,t),a!=null&&l.push(bl(e,a,s))),e=e.return}return l}function qr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lu(e,t,r,l,s){for(var a=t._reactName,i=[];r!==null&&r!==l;){var c=r,o=c.alternate,u=c.stateNode;if(o!==null&&o===l)break;c.tag===5&&u!==null&&(c=u,s?(o=hl(r,a),o!=null&&i.unshift(bl(r,o,c))):s||(o=hl(r,a),o!=null&&i.push(bl(r,o,c)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var qf=/\r\n?/g,ep=/\u0000|\uFFFD/g;function su(e){return(typeof e=="string"?e:""+e).replace(qf,`
`).replace(ep,"")}function ns(e,t,r){if(t=su(t),su(e)!==t&&r)throw Error(A(425))}function As(){}var Fi=null,Ui=null;function Bi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Oi=typeof setTimeout=="function"?setTimeout:void 0,tp=typeof clearTimeout=="function"?clearTimeout:void 0,au=typeof Promise=="function"?Promise:void 0,rp=typeof queueMicrotask=="function"?queueMicrotask:typeof au<"u"?function(e){return au.resolve(null).then(e).catch(np)}:Oi;function np(e){setTimeout(function(){throw e})}function qa(e,t){var r=t,l=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(l===0){e.removeChild(s),xl(t);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=s}while(r);xl(t)}function vr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function iu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Rn=Math.random().toString(36).slice(2),Ut="__reactFiber$"+Rn,jl="__reactProps$"+Rn,qt="__reactContainer$"+Rn,Wi="__reactEvents$"+Rn,lp="__reactListeners$"+Rn,sp="__reactHandles$"+Rn;function Ir(e){var t=e[Ut];if(t)return t;for(var r=e.parentNode;r;){if(t=r[qt]||r[Ut]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=iu(e);e!==null;){if(r=e[Ut])return r;e=iu(e)}return t}e=r,r=e.parentNode}return null}function Tl(e){return e=e[Ut]||e[qt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function an(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function ma(e){return e[jl]||null}var $i=[],on=-1;function Sr(e){return{current:e}}function ke(e){0>on||(e.current=$i[on],$i[on]=null,on--)}function je(e,t){on++,$i[on]=e.current,e.current=t}var kr={},Ze=Sr(kr),at=Sr(!1),Or=kr;function wn(e,t){var r=e.type.contextTypes;if(!r)return kr;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function it(e){return e=e.childContextTypes,e!=null}function zs(){ke(at),ke(Ze)}function ou(e,t,r){if(Ze.current!==kr)throw Error(A(168));je(Ze,t),je(at,r)}function k0(e,t,r){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return r;l=l.getChildContext();for(var s in l)if(!(s in t))throw Error(A(108,Wh(e)||"Unknown",s));return Le({},r,l)}function Fs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kr,Or=Ze.current,je(Ze,e),je(at,at.current),!0}function cu(e,t,r){var l=e.stateNode;if(!l)throw Error(A(169));r?(e=k0(e,t,Or),l.__reactInternalMemoizedMergedChildContext=e,ke(at),ke(Ze),je(Ze,e)):ke(at),je(at,r)}var Gt=null,ha=!1,ei=!1;function C0(e){Gt===null?Gt=[e]:Gt.push(e)}function ap(e){ha=!0,C0(e)}function Er(){if(!ei&&Gt!==null){ei=!0;var e=0,t=ve;try{var r=Gt;for(ve=1;e<r.length;e++){var l=r[e];do l=l(!0);while(l!==null)}Gt=null,ha=!1}catch(s){throw Gt!==null&&(Gt=Gt.slice(e+1)),Xd(Eo,Er),s}finally{ve=t,ei=!1}}return null}var cn=[],un=0,Us=null,Bs=0,vt=[],yt=0,Wr=null,Qt=1,Kt="";function Rr(e,t){cn[un++]=Bs,cn[un++]=Us,Us=e,Bs=t}function S0(e,t,r){vt[yt++]=Qt,vt[yt++]=Kt,vt[yt++]=Wr,Wr=e;var l=Qt;e=Kt;var s=32-Rt(l)-1;l&=~(1<<s),r+=1;var a=32-Rt(t)+s;if(30<a){var i=s-s%5;a=(l&(1<<i)-1).toString(32),l>>=i,s-=i,Qt=1<<32-Rt(t)+s|r<<s|l,Kt=a+e}else Qt=1<<a|r<<s|l,Kt=e}function Ao(e){e.return!==null&&(Rr(e,1),S0(e,1,0))}function zo(e){for(;e===Us;)Us=cn[--un],cn[un]=null,Bs=cn[--un],cn[un]=null;for(;e===Wr;)Wr=vt[--yt],vt[yt]=null,Kt=vt[--yt],vt[yt]=null,Qt=vt[--yt],vt[yt]=null}var mt=null,dt=null,Se=!1,_t=null;function E0(e,t){var r=bt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function uu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mt=e,dt=vr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mt=e,dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Wr!==null?{id:Qt,overflow:Kt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=bt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,mt=e,dt=null,!0):!1;default:return!1}}function Vi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hi(e){if(Se){var t=dt;if(t){var r=t;if(!uu(e,t)){if(Vi(e))throw Error(A(418));t=vr(r.nextSibling);var l=mt;t&&uu(e,t)?E0(l,r):(e.flags=e.flags&-4097|2,Se=!1,mt=e)}}else{if(Vi(e))throw Error(A(418));e.flags=e.flags&-4097|2,Se=!1,mt=e}}}function du(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mt=e}function ls(e){if(e!==mt)return!1;if(!Se)return du(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bi(e.type,e.memoizedProps)),t&&(t=dt)){if(Vi(e))throw P0(),Error(A(418));for(;t;)E0(e,t),t=vr(t.nextSibling)}if(du(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){dt=vr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}dt=null}}else dt=mt?vr(e.stateNode.nextSibling):null;return!0}function P0(){for(var e=dt;e;)e=vr(e.nextSibling)}function Nn(){dt=mt=null,Se=!1}function Fo(e){_t===null?_t=[e]:_t.push(e)}var ip=nr.ReactCurrentBatchConfig;function Vn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(A(309));var l=r.stateNode}if(!l)throw Error(A(147,e));var s=l,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var c=s.refs;i===null?delete c[a]:c[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(A(284));if(!r._owner)throw Error(A(290,e))}return e}function ss(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mu(e){var t=e._init;return t(e._payload)}function L0(e){function t(f,d){if(e){var p=f.deletions;p===null?(f.deletions=[d],f.flags|=16):p.push(d)}}function r(f,d){if(!e)return null;for(;d!==null;)t(f,d),d=d.sibling;return null}function l(f,d){for(f=new Map;d!==null;)d.key!==null?f.set(d.key,d):f.set(d.index,d),d=d.sibling;return f}function s(f,d){return f=wr(f,d),f.index=0,f.sibling=null,f}function a(f,d,p){return f.index=p,e?(p=f.alternate,p!==null?(p=p.index,p<d?(f.flags|=2,d):p):(f.flags|=2,d)):(f.flags|=1048576,d)}function i(f){return e&&f.alternate===null&&(f.flags|=2),f}function c(f,d,p,w){return d===null||d.tag!==6?(d=ii(p,f.mode,w),d.return=f,d):(d=s(d,p),d.return=f,d)}function o(f,d,p,w){var k=p.type;return k===rn?m(f,d,p.props.children,w,p.key):d!==null&&(d.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===or&&mu(k)===d.type)?(w=s(d,p.props),w.ref=Vn(f,d,p),w.return=f,w):(w=Ss(p.type,p.key,p.props,null,f.mode,w),w.ref=Vn(f,d,p),w.return=f,w)}function u(f,d,p,w){return d===null||d.tag!==4||d.stateNode.containerInfo!==p.containerInfo||d.stateNode.implementation!==p.implementation?(d=oi(p,f.mode,w),d.return=f,d):(d=s(d,p.children||[]),d.return=f,d)}function m(f,d,p,w,k){return d===null||d.tag!==7?(d=Br(p,f.mode,w,k),d.return=f,d):(d=s(d,p),d.return=f,d)}function h(f,d,p){if(typeof d=="string"&&d!==""||typeof d=="number")return d=ii(""+d,f.mode,p),d.return=f,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Ql:return p=Ss(d.type,d.key,d.props,null,f.mode,p),p.ref=Vn(f,null,d),p.return=f,p;case tn:return d=oi(d,f.mode,p),d.return=f,d;case or:var w=d._init;return h(f,w(d._payload),p)}if(Zn(d)||Un(d))return d=Br(d,f.mode,p,null),d.return=f,d;ss(f,d)}return null}function x(f,d,p,w){var k=d!==null?d.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return k!==null?null:c(f,d,""+p,w);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ql:return p.key===k?o(f,d,p,w):null;case tn:return p.key===k?u(f,d,p,w):null;case or:return k=p._init,x(f,d,k(p._payload),w)}if(Zn(p)||Un(p))return k!==null?null:m(f,d,p,w,null);ss(f,p)}return null}function y(f,d,p,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return f=f.get(p)||null,c(d,f,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ql:return f=f.get(w.key===null?p:w.key)||null,o(d,f,w,k);case tn:return f=f.get(w.key===null?p:w.key)||null,u(d,f,w,k);case or:var S=w._init;return y(f,d,p,S(w._payload),k)}if(Zn(w)||Un(w))return f=f.get(p)||null,m(d,f,w,k,null);ss(d,w)}return null}function j(f,d,p,w){for(var k=null,S=null,v=d,_=d=0,M=null;v!==null&&_<p.length;_++){v.index>_?(M=v,v=null):M=v.sibling;var L=x(f,v,p[_],w);if(L===null){v===null&&(v=M);break}e&&v&&L.alternate===null&&t(f,v),d=a(L,d,_),S===null?k=L:S.sibling=L,S=L,v=M}if(_===p.length)return r(f,v),Se&&Rr(f,_),k;if(v===null){for(;_<p.length;_++)v=h(f,p[_],w),v!==null&&(d=a(v,d,_),S===null?k=v:S.sibling=v,S=v);return Se&&Rr(f,_),k}for(v=l(f,v);_<p.length;_++)M=y(v,f,_,p[_],w),M!==null&&(e&&M.alternate!==null&&v.delete(M.key===null?_:M.key),d=a(M,d,_),S===null?k=M:S.sibling=M,S=M);return e&&v.forEach(function(O){return t(f,O)}),Se&&Rr(f,_),k}function b(f,d,p,w){var k=Un(p);if(typeof k!="function")throw Error(A(150));if(p=k.call(p),p==null)throw Error(A(151));for(var S=k=null,v=d,_=d=0,M=null,L=p.next();v!==null&&!L.done;_++,L=p.next()){v.index>_?(M=v,v=null):M=v.sibling;var O=x(f,v,L.value,w);if(O===null){v===null&&(v=M);break}e&&v&&O.alternate===null&&t(f,v),d=a(O,d,_),S===null?k=O:S.sibling=O,S=O,v=M}if(L.done)return r(f,v),Se&&Rr(f,_),k;if(v===null){for(;!L.done;_++,L=p.next())L=h(f,L.value,w),L!==null&&(d=a(L,d,_),S===null?k=L:S.sibling=L,S=L);return Se&&Rr(f,_),k}for(v=l(f,v);!L.done;_++,L=p.next())L=y(v,f,_,L.value,w),L!==null&&(e&&L.alternate!==null&&v.delete(L.key===null?_:L.key),d=a(L,d,_),S===null?k=L:S.sibling=L,S=L);return e&&v.forEach(function($){return t(f,$)}),Se&&Rr(f,_),k}function C(f,d,p,w){if(typeof p=="object"&&p!==null&&p.type===rn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Ql:e:{for(var k=p.key,S=d;S!==null;){if(S.key===k){if(k=p.type,k===rn){if(S.tag===7){r(f,S.sibling),d=s(S,p.props.children),d.return=f,f=d;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===or&&mu(k)===S.type){r(f,S.sibling),d=s(S,p.props),d.ref=Vn(f,S,p),d.return=f,f=d;break e}r(f,S);break}else t(f,S);S=S.sibling}p.type===rn?(d=Br(p.props.children,f.mode,w,p.key),d.return=f,f=d):(w=Ss(p.type,p.key,p.props,null,f.mode,w),w.ref=Vn(f,d,p),w.return=f,f=w)}return i(f);case tn:e:{for(S=p.key;d!==null;){if(d.key===S)if(d.tag===4&&d.stateNode.containerInfo===p.containerInfo&&d.stateNode.implementation===p.implementation){r(f,d.sibling),d=s(d,p.children||[]),d.return=f,f=d;break e}else{r(f,d);break}else t(f,d);d=d.sibling}d=oi(p,f.mode,w),d.return=f,f=d}return i(f);case or:return S=p._init,C(f,d,S(p._payload),w)}if(Zn(p))return j(f,d,p,w);if(Un(p))return b(f,d,p,w);ss(f,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,d!==null&&d.tag===6?(r(f,d.sibling),d=s(d,p),d.return=f,f=d):(r(f,d),d=ii(p,f.mode,w),d.return=f,f=d),i(f)):r(f,d)}return C}var kn=L0(!0),_0=L0(!1),Os=Sr(null),Ws=null,dn=null,Uo=null;function Bo(){Uo=dn=Ws=null}function Oo(e){var t=Os.current;ke(Os),e._currentValue=t}function Yi(e,t,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===r)break;e=e.return}}function vn(e,t){Ws=e,Uo=dn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(st=!0),e.firstContext=null)}function wt(e){var t=e._currentValue;if(Uo!==e)if(e={context:e,memoizedValue:t,next:null},dn===null){if(Ws===null)throw Error(A(308));dn=e,Ws.dependencies={lanes:0,firstContext:e}}else dn=dn.next=e;return t}var Ar=null;function Wo(e){Ar===null?Ar=[e]:Ar.push(e)}function R0(e,t,r,l){var s=t.interleaved;return s===null?(r.next=r,Wo(t)):(r.next=s.next,s.next=r),t.interleaved=r,er(e,l)}function er(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var cr=!1;function $o(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function M0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yr(e,t,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,fe&2){var s=l.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),l.pending=t,er(e,r)}return s=l.interleaved,s===null?(t.next=t,Wo(l)):(t.next=s.next,s.next=t),l.interleaved=t,er(e,r)}function bs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,Po(e,r)}}function hu(e,t){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:l.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:l.shared,effects:l.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function $s(e,t,r,l){var s=e.updateQueue;cr=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var o=c,u=o.next;o.next=null,i===null?a=u:i.next=u,i=o;var m=e.alternate;m!==null&&(m=m.updateQueue,c=m.lastBaseUpdate,c!==i&&(c===null?m.firstBaseUpdate=u:c.next=u,m.lastBaseUpdate=o))}if(a!==null){var h=s.baseState;i=0,m=u=o=null,c=a;do{var x=c.lane,y=c.eventTime;if((l&x)===x){m!==null&&(m=m.next={eventTime:y,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var j=e,b=c;switch(x=t,y=r,b.tag){case 1:if(j=b.payload,typeof j=="function"){h=j.call(y,h,x);break e}h=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=b.payload,x=typeof j=="function"?j.call(y,h,x):j,x==null)break e;h=Le({},h,x);break e;case 2:cr=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,x=s.effects,x===null?s.effects=[c]:x.push(c))}else y={eventTime:y,lane:x,tag:c.tag,payload:c.payload,callback:c.callback,next:null},m===null?(u=m=y,o=h):m=m.next=y,i|=x;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;x=c,c=x.next,x.next=null,s.lastBaseUpdate=x,s.shared.pending=null}}while(!0);if(m===null&&(o=h),s.baseState=o,s.firstBaseUpdate=u,s.lastBaseUpdate=m,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Vr|=i,e.lanes=i,e.memoizedState=h}}function fu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],s=l.callback;if(s!==null){if(l.callback=null,l=r,typeof s!="function")throw Error(A(191,s));s.call(l)}}}var Dl={},Ot=Sr(Dl),wl=Sr(Dl),Nl=Sr(Dl);function zr(e){if(e===Dl)throw Error(A(174));return e}function Vo(e,t){switch(je(Nl,t),je(wl,e),je(Ot,Dl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Si(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Si(t,e)}ke(Ot),je(Ot,t)}function Cn(){ke(Ot),ke(wl),ke(Nl)}function T0(e){zr(Nl.current);var t=zr(Ot.current),r=Si(t,e.type);t!==r&&(je(wl,e),je(Ot,r))}function Ho(e){wl.current===e&&(ke(Ot),ke(wl))}var Ee=Sr(0);function Vs(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function Yo(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var js=nr.ReactCurrentDispatcher,ri=nr.ReactCurrentBatchConfig,$r=0,Pe=null,Ue=null,Oe=null,Hs=!1,il=!1,kl=0,op=0;function Ke(){throw Error(A(321))}function Go(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Tt(e[r],t[r]))return!1;return!0}function Qo(e,t,r,l,s,a){if($r=a,Pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,js.current=e===null||e.memoizedState===null?mp:hp,e=r(l,s),il){a=0;do{if(il=!1,kl=0,25<=a)throw Error(A(301));a+=1,Oe=Ue=null,t.updateQueue=null,js.current=fp,e=r(l,s)}while(il)}if(js.current=Ys,t=Ue!==null&&Ue.next!==null,$r=0,Oe=Ue=Pe=null,Hs=!1,t)throw Error(A(300));return e}function Ko(){var e=kl!==0;return kl=0,e}function Ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?Pe.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function Nt(){if(Ue===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=Oe===null?Pe.memoizedState:Oe.next;if(t!==null)Oe=t,Ue=e;else{if(e===null)throw Error(A(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Oe===null?Pe.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function Cl(e,t){return typeof t=="function"?t(e):t}function ni(e){var t=Nt(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var l=Ue,s=l.baseQueue,a=r.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}l.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,l=l.baseState;var c=i=null,o=null,u=a;do{var m=u.lane;if(($r&m)===m)o!==null&&(o=o.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),l=u.hasEagerState?u.eagerState:e(l,u.action);else{var h={lane:m,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};o===null?(c=o=h,i=l):o=o.next=h,Pe.lanes|=m,Vr|=m}u=u.next}while(u!==null&&u!==a);o===null?i=l:o.next=c,Tt(l,t.memoizedState)||(st=!0),t.memoizedState=l,t.baseState=i,t.baseQueue=o,r.lastRenderedState=l}if(e=r.interleaved,e!==null){s=e;do a=s.lane,Pe.lanes|=a,Vr|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function li(e){var t=Nt(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var l=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);Tt(a,t.memoizedState)||(st=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,l]}function D0(){}function I0(e,t){var r=Pe,l=Nt(),s=t(),a=!Tt(l.memoizedState,s);if(a&&(l.memoizedState=s,st=!0),l=l.queue,Xo(F0.bind(null,r,l,e),[e]),l.getSnapshot!==t||a||Oe!==null&&Oe.memoizedState.tag&1){if(r.flags|=2048,Sl(9,z0.bind(null,r,l,s,t),void 0,null),We===null)throw Error(A(349));$r&30||A0(r,t,s)}return s}function A0(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function z0(e,t,r,l){t.value=r,t.getSnapshot=l,U0(t)&&B0(e)}function F0(e,t,r){return r(function(){U0(t)&&B0(e)})}function U0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Tt(e,r)}catch{return!0}}function B0(e){var t=er(e,1);t!==null&&Mt(t,e,1,-1)}function pu(e){var t=Ft();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cl,lastRenderedState:e},t.queue=e,e=e.dispatch=dp.bind(null,Pe,e),[t.memoizedState,e]}function Sl(e,t,r,l){return e={tag:e,create:t,destroy:r,deps:l,next:null},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,t.lastEffect=e)),e}function O0(){return Nt().memoizedState}function ws(e,t,r,l){var s=Ft();Pe.flags|=e,s.memoizedState=Sl(1|t,r,void 0,l===void 0?null:l)}function fa(e,t,r,l){var s=Nt();l=l===void 0?null:l;var a=void 0;if(Ue!==null){var i=Ue.memoizedState;if(a=i.destroy,l!==null&&Go(l,i.deps)){s.memoizedState=Sl(t,r,a,l);return}}Pe.flags|=e,s.memoizedState=Sl(1|t,r,a,l)}function xu(e,t){return ws(8390656,8,e,t)}function Xo(e,t){return fa(2048,8,e,t)}function W0(e,t){return fa(4,2,e,t)}function $0(e,t){return fa(4,4,e,t)}function V0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function H0(e,t,r){return r=r!=null?r.concat([e]):null,fa(4,4,V0.bind(null,t,e),r)}function Jo(){}function Y0(e,t){var r=Nt();t=t===void 0?null:t;var l=r.memoizedState;return l!==null&&t!==null&&Go(t,l[1])?l[0]:(r.memoizedState=[e,t],e)}function G0(e,t){var r=Nt();t=t===void 0?null:t;var l=r.memoizedState;return l!==null&&t!==null&&Go(t,l[1])?l[0]:(e=e(),r.memoizedState=[e,t],e)}function Q0(e,t,r){return $r&21?(Tt(r,t)||(r=qd(),Pe.lanes|=r,Vr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,st=!0),e.memoizedState=r)}function cp(e,t){var r=ve;ve=r!==0&&4>r?r:4,e(!0);var l=ri.transition;ri.transition={};try{e(!1),t()}finally{ve=r,ri.transition=l}}function K0(){return Nt().memoizedState}function up(e,t,r){var l=jr(e);if(r={lane:l,action:r,hasEagerState:!1,eagerState:null,next:null},X0(e))J0(t,r);else if(r=R0(e,t,r,l),r!==null){var s=et();Mt(r,e,l,s),Z0(r,t,l)}}function dp(e,t,r){var l=jr(e),s={lane:l,action:r,hasEagerState:!1,eagerState:null,next:null};if(X0(e))J0(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,c=a(i,r);if(s.hasEagerState=!0,s.eagerState=c,Tt(c,i)){var o=t.interleaved;o===null?(s.next=s,Wo(t)):(s.next=o.next,o.next=s),t.interleaved=s;return}}catch{}finally{}r=R0(e,t,s,l),r!==null&&(s=et(),Mt(r,e,l,s),Z0(r,t,l))}}function X0(e){var t=e.alternate;return e===Pe||t!==null&&t===Pe}function J0(e,t){il=Hs=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Z0(e,t,r){if(r&4194240){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,Po(e,r)}}var Ys={readContext:wt,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},mp={readContext:wt,useCallback:function(e,t){return Ft().memoizedState=[e,t===void 0?null:t],e},useContext:wt,useEffect:xu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ws(4194308,4,V0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ws(4194308,4,e,t)},useInsertionEffect:function(e,t){return ws(4,2,e,t)},useMemo:function(e,t){var r=Ft();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var l=Ft();return t=r!==void 0?r(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=up.bind(null,Pe,e),[l.memoizedState,e]},useRef:function(e){var t=Ft();return e={current:e},t.memoizedState=e},useState:pu,useDebugValue:Jo,useDeferredValue:function(e){return Ft().memoizedState=e},useTransition:function(){var e=pu(!1),t=e[0];return e=cp.bind(null,e[1]),Ft().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var l=Pe,s=Ft();if(Se){if(r===void 0)throw Error(A(407));r=r()}else{if(r=t(),We===null)throw Error(A(349));$r&30||A0(l,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,xu(F0.bind(null,l,a,e),[e]),l.flags|=2048,Sl(9,z0.bind(null,l,a,r,t),void 0,null),r},useId:function(){var e=Ft(),t=We.identifierPrefix;if(Se){var r=Kt,l=Qt;r=(l&~(1<<32-Rt(l)-1)).toString(32)+r,t=":"+t+"R"+r,r=kl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=op++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hp={readContext:wt,useCallback:Y0,useContext:wt,useEffect:Xo,useImperativeHandle:H0,useInsertionEffect:W0,useLayoutEffect:$0,useMemo:G0,useReducer:ni,useRef:O0,useState:function(){return ni(Cl)},useDebugValue:Jo,useDeferredValue:function(e){var t=Nt();return Q0(t,Ue.memoizedState,e)},useTransition:function(){var e=ni(Cl)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:D0,useSyncExternalStore:I0,useId:K0,unstable_isNewReconciler:!1},fp={readContext:wt,useCallback:Y0,useContext:wt,useEffect:Xo,useImperativeHandle:H0,useInsertionEffect:W0,useLayoutEffect:$0,useMemo:G0,useReducer:li,useRef:O0,useState:function(){return li(Cl)},useDebugValue:Jo,useDeferredValue:function(e){var t=Nt();return Ue===null?t.memoizedState=e:Q0(t,Ue.memoizedState,e)},useTransition:function(){var e=li(Cl)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:D0,useSyncExternalStore:I0,useId:K0,unstable_isNewReconciler:!1};function Et(e,t){if(e&&e.defaultProps){t=Le({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Gi(e,t,r,l){t=e.memoizedState,r=r(l,t),r=r==null?t:Le({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var pa={isMounted:function(e){return(e=e._reactInternals)?Kr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var l=et(),s=jr(e),a=Xt(l,s);a.payload=t,r!=null&&(a.callback=r),t=yr(e,a,s),t!==null&&(Mt(t,e,s,l),bs(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var l=et(),s=jr(e),a=Xt(l,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=yr(e,a,s),t!==null&&(Mt(t,e,s,l),bs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=et(),l=jr(e),s=Xt(r,l);s.tag=2,t!=null&&(s.callback=t),t=yr(e,s,l),t!==null&&(Mt(t,e,l,r),bs(t,e,l))}};function gu(e,t,r,l,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,a,i):t.prototype&&t.prototype.isPureReactComponent?!vl(r,l)||!vl(s,a):!0}function q0(e,t,r){var l=!1,s=kr,a=t.contextType;return typeof a=="object"&&a!==null?a=wt(a):(s=it(t)?Or:Ze.current,l=t.contextTypes,a=(l=l!=null)?wn(e,s):kr),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pa,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function vu(e,t,r,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,l),t.state!==e&&pa.enqueueReplaceState(t,t.state,null)}function Qi(e,t,r,l){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},$o(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=wt(a):(a=it(t)?Or:Ze.current,s.context=wn(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Gi(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&pa.enqueueReplaceState(s,s.state,null),$s(e,r,s,l),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Sn(e,t){try{var r="",l=t;do r+=Oh(l),l=l.return;while(l);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function si(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ki(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var pp=typeof WeakMap=="function"?WeakMap:Map;function em(e,t,r){r=Xt(-1,r),r.tag=3,r.payload={element:null};var l=t.value;return r.callback=function(){Qs||(Qs=!0,so=l),Ki(e,t)},r}function tm(e,t,r){r=Xt(-1,r),r.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var s=t.value;r.payload=function(){return l(s)},r.callback=function(){Ki(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Ki(e,t),typeof l!="function"&&(br===null?br=new Set([this]):br.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function yu(e,t,r){var l=e.pingCache;if(l===null){l=e.pingCache=new pp;var s=new Set;l.set(t,s)}else s=l.get(t),s===void 0&&(s=new Set,l.set(t,s));s.has(r)||(s.add(r),e=Lp.bind(null,e,t,r),t.then(e,e))}function bu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ju(e,t,r,l,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Xt(-1,1),t.tag=2,yr(r,t,1))),r.lanes|=1),e)}var xp=nr.ReactCurrentOwner,st=!1;function qe(e,t,r,l){t.child=e===null?_0(t,null,r,l):kn(t,e.child,r,l)}function wu(e,t,r,l,s){r=r.render;var a=t.ref;return vn(t,s),l=Qo(e,t,r,l,a,s),r=Ko(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,tr(e,t,s)):(Se&&r&&Ao(t),t.flags|=1,qe(e,t,l,s),t.child)}function Nu(e,t,r,l,s){if(e===null){var a=r.type;return typeof a=="function"&&!sc(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,rm(e,t,a,l,s)):(e=Ss(r.type,null,l,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:vl,r(i,l)&&e.ref===t.ref)return tr(e,t,s)}return t.flags|=1,e=wr(a,l),e.ref=t.ref,e.return=t,t.child=e}function rm(e,t,r,l,s){if(e!==null){var a=e.memoizedProps;if(vl(a,l)&&e.ref===t.ref)if(st=!1,t.pendingProps=l=a,(e.lanes&s)!==0)e.flags&131072&&(st=!0);else return t.lanes=e.lanes,tr(e,t,s)}return Xi(e,t,r,l,s)}function nm(e,t,r){var l=t.pendingProps,s=l.children,a=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(hn,ct),ct|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(hn,ct),ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=a!==null?a.baseLanes:r,je(hn,ct),ct|=l}else a!==null?(l=a.baseLanes|r,t.memoizedState=null):l=r,je(hn,ct),ct|=l;return qe(e,t,s,r),t.child}function lm(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Xi(e,t,r,l,s){var a=it(r)?Or:Ze.current;return a=wn(t,a),vn(t,s),r=Qo(e,t,r,l,a,s),l=Ko(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,tr(e,t,s)):(Se&&l&&Ao(t),t.flags|=1,qe(e,t,r,s),t.child)}function ku(e,t,r,l,s){if(it(r)){var a=!0;Fs(t)}else a=!1;if(vn(t,s),t.stateNode===null)Ns(e,t),q0(t,r,l),Qi(t,r,l,s),l=!0;else if(e===null){var i=t.stateNode,c=t.memoizedProps;i.props=c;var o=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=wt(u):(u=it(r)?Or:Ze.current,u=wn(t,u));var m=r.getDerivedStateFromProps,h=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==l||o!==u)&&vu(t,i,l,u),cr=!1;var x=t.memoizedState;i.state=x,$s(t,l,i,s),o=t.memoizedState,c!==l||x!==o||at.current||cr?(typeof m=="function"&&(Gi(t,r,m,l),o=t.memoizedState),(c=cr||gu(t,r,c,l,x,o,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=o),i.props=l,i.state=o,i.context=u,l=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{i=t.stateNode,M0(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:Et(t.type,c),i.props=u,h=t.pendingProps,x=i.context,o=r.contextType,typeof o=="object"&&o!==null?o=wt(o):(o=it(r)?Or:Ze.current,o=wn(t,o));var y=r.getDerivedStateFromProps;(m=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==h||x!==o)&&vu(t,i,l,o),cr=!1,x=t.memoizedState,i.state=x,$s(t,l,i,s);var j=t.memoizedState;c!==h||x!==j||at.current||cr?(typeof y=="function"&&(Gi(t,r,y,l),j=t.memoizedState),(u=cr||gu(t,r,u,l,x,j,o)||!1)?(m||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(l,j,o),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(l,j,o)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=j),i.props=l,i.state=j,i.context=o,l=u):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),l=!1)}return Ji(e,t,r,l,a,s)}function Ji(e,t,r,l,s,a){lm(e,t);var i=(t.flags&128)!==0;if(!l&&!i)return s&&cu(t,r,!1),tr(e,t,a);l=t.stateNode,xp.current=t;var c=i&&typeof r.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&i?(t.child=kn(t,e.child,null,a),t.child=kn(t,null,c,a)):qe(e,t,c,a),t.memoizedState=l.state,s&&cu(t,r,!0),t.child}function sm(e){var t=e.stateNode;t.pendingContext?ou(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ou(e,t.context,!1),Vo(e,t.containerInfo)}function Cu(e,t,r,l,s){return Nn(),Fo(s),t.flags|=256,qe(e,t,r,l),t.child}var Zi={dehydrated:null,treeContext:null,retryLane:0};function qi(e){return{baseLanes:e,cachePool:null,transitions:null}}function am(e,t,r){var l=t.pendingProps,s=Ee.current,a=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),je(Ee,s&1),e===null)return Hi(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=l.children,e=l.fallback,a?(l=t.mode,a=t.child,i={mode:"hidden",children:i},!(l&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=va(i,l,0,null),e=Br(e,l,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=qi(r),t.memoizedState=Zi,e):Zo(t,i));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return gp(e,t,i,l,c,s,r);if(a){a=l.fallback,i=t.mode,s=e.child,c=s.sibling;var o={mode:"hidden",children:l.children};return!(i&1)&&t.child!==s?(l=t.child,l.childLanes=0,l.pendingProps=o,t.deletions=null):(l=wr(s,o),l.subtreeFlags=s.subtreeFlags&14680064),c!==null?a=wr(c,a):(a=Br(a,i,r,null),a.flags|=2),a.return=t,l.return=t,l.sibling=a,t.child=l,l=a,a=t.child,i=e.child.memoizedState,i=i===null?qi(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=Zi,l}return a=e.child,e=a.sibling,l=wr(a,{mode:"visible",children:l.children}),!(t.mode&1)&&(l.lanes=r),l.return=t,l.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=l,t.memoizedState=null,l}function Zo(e,t){return t=va({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function as(e,t,r,l){return l!==null&&Fo(l),kn(t,e.child,null,r),e=Zo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gp(e,t,r,l,s,a,i){if(r)return t.flags&256?(t.flags&=-257,l=si(Error(A(422))),as(e,t,i,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=l.fallback,s=t.mode,l=va({mode:"visible",children:l.children},s,0,null),a=Br(a,s,i,null),a.flags|=2,l.return=t,a.return=t,l.sibling=a,t.child=l,t.mode&1&&kn(t,e.child,null,i),t.child.memoizedState=qi(i),t.memoizedState=Zi,a);if(!(t.mode&1))return as(e,t,i,null);if(s.data==="$!"){if(l=s.nextSibling&&s.nextSibling.dataset,l)var c=l.dgst;return l=c,a=Error(A(419)),l=si(a,l,void 0),as(e,t,i,l)}if(c=(i&e.childLanes)!==0,st||c){if(l=We,l!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(l.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,er(e,s),Mt(l,e,s,-1))}return lc(),l=si(Error(A(421))),as(e,t,i,l)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=_p.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,dt=vr(s.nextSibling),mt=t,Se=!0,_t=null,e!==null&&(vt[yt++]=Qt,vt[yt++]=Kt,vt[yt++]=Wr,Qt=e.id,Kt=e.overflow,Wr=t),t=Zo(t,l.children),t.flags|=4096,t)}function Su(e,t,r){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Yi(e.return,t,r)}function ai(e,t,r,l,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=l,a.tail=r,a.tailMode=s)}function im(e,t,r){var l=t.pendingProps,s=l.revealOrder,a=l.tail;if(qe(e,t,l.children,r),l=Ee.current,l&2)l=l&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Su(e,r,t);else if(e.tag===19)Su(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(je(Ee,l),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Vs(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ai(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Vs(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ai(t,!0,r,null,a);break;case"together":ai(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ns(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function tr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Vr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,r=wr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=wr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function vp(e,t,r){switch(t.tag){case 3:sm(t),Nn();break;case 5:T0(t);break;case 1:it(t.type)&&Fs(t);break;case 4:Vo(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,s=t.memoizedProps.value;je(Os,l._currentValue),l._currentValue=s;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?(je(Ee,Ee.current&1),t.flags|=128,null):r&t.child.childLanes?am(e,t,r):(je(Ee,Ee.current&1),e=tr(e,t,r),e!==null?e.sibling:null);je(Ee,Ee.current&1);break;case 19:if(l=(r&t.childLanes)!==0,e.flags&128){if(l)return im(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),je(Ee,Ee.current),l)break;return null;case 22:case 23:return t.lanes=0,nm(e,t,r)}return tr(e,t,r)}var om,eo,cm,um;om=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};eo=function(){};cm=function(e,t,r,l){var s=e.memoizedProps;if(s!==l){e=t.stateNode,zr(Ot.current);var a=null;switch(r){case"input":s=wi(e,s),l=wi(e,l),a=[];break;case"select":s=Le({},s,{value:void 0}),l=Le({},l,{value:void 0}),a=[];break;case"textarea":s=Ci(e,s),l=Ci(e,l),a=[];break;default:typeof s.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=As)}Ei(r,l);var i;r=null;for(u in s)if(!l.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var c=s[u];for(i in c)c.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(dl.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in l){var o=l[u];if(c=s!=null?s[u]:void 0,l.hasOwnProperty(u)&&o!==c&&(o!=null||c!=null))if(u==="style")if(c){for(i in c)!c.hasOwnProperty(i)||o&&o.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in o)o.hasOwnProperty(i)&&c[i]!==o[i]&&(r||(r={}),r[i]=o[i])}else r||(a||(a=[]),a.push(u,r)),r=o;else u==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(a=a||[]).push(u,o)):u==="children"?typeof o!="string"&&typeof o!="number"||(a=a||[]).push(u,""+o):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(dl.hasOwnProperty(u)?(o!=null&&u==="onScroll"&&Ne("scroll",e),a||c===o||(a=[])):(a=a||[]).push(u,o))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};um=function(e,t,r,l){r!==l&&(t.flags|=4)};function Hn(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,l|=s.subtreeFlags&14680064,l|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,l|=s.subtreeFlags,l|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=l,e.childLanes=r,t}function yp(e,t,r){var l=t.pendingProps;switch(zo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return it(t.type)&&zs(),Xe(t),null;case 3:return l=t.stateNode,Cn(),ke(at),ke(Ze),Yo(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(ls(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_t!==null&&(oo(_t),_t=null))),eo(e,t),Xe(t),null;case 5:Ho(t);var s=zr(Nl.current);if(r=t.type,e!==null&&t.stateNode!=null)cm(e,t,r,l,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(A(166));return Xe(t),null}if(e=zr(Ot.current),ls(t)){l=t.stateNode,r=t.type;var a=t.memoizedProps;switch(l[Ut]=t,l[jl]=a,e=(t.mode&1)!==0,r){case"dialog":Ne("cancel",l),Ne("close",l);break;case"iframe":case"object":case"embed":Ne("load",l);break;case"video":case"audio":for(s=0;s<el.length;s++)Ne(el[s],l);break;case"source":Ne("error",l);break;case"img":case"image":case"link":Ne("error",l),Ne("load",l);break;case"details":Ne("toggle",l);break;case"input":Ic(l,a),Ne("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!a.multiple},Ne("invalid",l);break;case"textarea":zc(l,a),Ne("invalid",l)}Ei(r,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="children"?typeof c=="string"?l.textContent!==c&&(a.suppressHydrationWarning!==!0&&ns(l.textContent,c,e),s=["children",c]):typeof c=="number"&&l.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&ns(l.textContent,c,e),s=["children",""+c]):dl.hasOwnProperty(i)&&c!=null&&i==="onScroll"&&Ne("scroll",l)}switch(r){case"input":Kl(l),Ac(l,a,!0);break;case"textarea":Kl(l),Fc(l);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(l.onclick=As)}l=s,t.updateQueue=l,l!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=i.createElement(r,{is:l.is}):(e=i.createElement(r),r==="select"&&(i=e,l.multiple?i.multiple=!0:l.size&&(i.size=l.size))):e=i.createElementNS(e,r),e[Ut]=t,e[jl]=l,om(e,t,!1,!1),t.stateNode=e;e:{switch(i=Pi(r,l),r){case"dialog":Ne("cancel",e),Ne("close",e),s=l;break;case"iframe":case"object":case"embed":Ne("load",e),s=l;break;case"video":case"audio":for(s=0;s<el.length;s++)Ne(el[s],e);s=l;break;case"source":Ne("error",e),s=l;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),s=l;break;case"details":Ne("toggle",e),s=l;break;case"input":Ic(e,l),s=wi(e,l),Ne("invalid",e);break;case"option":s=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},s=Le({},l,{value:void 0}),Ne("invalid",e);break;case"textarea":zc(e,l),s=Ci(e,l),Ne("invalid",e);break;default:s=l}Ei(r,s),c=s;for(a in c)if(c.hasOwnProperty(a)){var o=c[a];a==="style"?Od(e,o):a==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&Ud(e,o)):a==="children"?typeof o=="string"?(r!=="textarea"||o!=="")&&ml(e,o):typeof o=="number"&&ml(e,""+o):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(dl.hasOwnProperty(a)?o!=null&&a==="onScroll"&&Ne("scroll",e):o!=null&&wo(e,a,o,i))}switch(r){case"input":Kl(e),Ac(e,l,!1);break;case"textarea":Kl(e),Fc(e);break;case"option":l.value!=null&&e.setAttribute("value",""+Nr(l.value));break;case"select":e.multiple=!!l.multiple,a=l.value,a!=null?fn(e,!!l.multiple,a,!1):l.defaultValue!=null&&fn(e,!!l.multiple,l.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=As)}switch(r){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xe(t),null;case 6:if(e&&t.stateNode!=null)um(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(A(166));if(r=zr(Nl.current),zr(Ot.current),ls(t)){if(l=t.stateNode,r=t.memoizedProps,l[Ut]=t,(a=l.nodeValue!==r)&&(e=mt,e!==null))switch(e.tag){case 3:ns(l.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ns(l.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else l=(r.nodeType===9?r:r.ownerDocument).createTextNode(l),l[Ut]=t,t.stateNode=l}return Xe(t),null;case 13:if(ke(Ee),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&dt!==null&&t.mode&1&&!(t.flags&128))P0(),Nn(),t.flags|=98560,a=!1;else if(a=ls(t),l!==null&&l.dehydrated!==null){if(e===null){if(!a)throw Error(A(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(A(317));a[Ut]=t}else Nn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xe(t),a=!1}else _t!==null&&(oo(_t),_t=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,t.mode&1&&(e===null||Ee.current&1?Be===0&&(Be=3):lc())),t.updateQueue!==null&&(t.flags|=4),Xe(t),null);case 4:return Cn(),eo(e,t),e===null&&yl(t.stateNode.containerInfo),Xe(t),null;case 10:return Oo(t.type._context),Xe(t),null;case 17:return it(t.type)&&zs(),Xe(t),null;case 19:if(ke(Ee),a=t.memoizedState,a===null)return Xe(t),null;if(l=(t.flags&128)!==0,i=a.rendering,i===null)if(l)Hn(a,!1);else{if(Be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Vs(e),i!==null){for(t.flags|=128,Hn(a,!1),l=i.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=r,r=t.child;r!==null;)a=r,e=l,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return je(Ee,Ee.current&1|2),t.child}e=e.sibling}a.tail!==null&&De()>En&&(t.flags|=128,l=!0,Hn(a,!1),t.lanes=4194304)}else{if(!l)if(e=Vs(i),e!==null){if(t.flags|=128,l=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Hn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Se)return Xe(t),null}else 2*De()-a.renderingStartTime>En&&r!==1073741824&&(t.flags|=128,l=!0,Hn(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=De(),t.sibling=null,r=Ee.current,je(Ee,l?r&1|2:r&1),t):(Xe(t),null);case 22:case 23:return nc(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&t.mode&1?ct&1073741824&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function bp(e,t){switch(zo(t),t.tag){case 1:return it(t.type)&&zs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cn(),ke(at),ke(Ze),Yo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ho(t),null;case 13:if(ke(Ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));Nn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(Ee),null;case 4:return Cn(),null;case 10:return Oo(t.type._context),null;case 22:case 23:return nc(),null;case 24:return null;default:return null}}var is=!1,Je=!1,jp=typeof WeakSet=="function"?WeakSet:Set,W=null;function mn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(l){Me(e,t,l)}else r.current=null}function to(e,t,r){try{r()}catch(l){Me(e,t,l)}}var Eu=!1;function wp(e,t){if(Fi=Ts,e=p0(),Io(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var s=l.anchorOffset,a=l.focusNode;l=l.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,c=-1,o=-1,u=0,m=0,h=e,x=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(c=i+s),h!==a||l!==0&&h.nodeType!==3||(o=i+l),h.nodeType===3&&(i+=h.nodeValue.length),(y=h.firstChild)!==null;)x=h,h=y;for(;;){if(h===e)break t;if(x===r&&++u===s&&(c=i),x===a&&++m===l&&(o=i),(y=h.nextSibling)!==null)break;h=x,x=h.parentNode}h=y}r=c===-1||o===-1?null:{start:c,end:o}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ui={focusedElem:e,selectionRange:r},Ts=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var b=j.memoizedProps,C=j.memoizedState,f=t.stateNode,d=f.getSnapshotBeforeUpdate(t.elementType===t.type?b:Et(t.type,b),C);f.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(w){Me(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return j=Eu,Eu=!1,j}function ol(e,t,r){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var s=l=l.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&to(t,r,a)}s=s.next}while(s!==l)}}function xa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var l=r.create;r.destroy=l()}r=r.next}while(r!==t)}}function ro(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function dm(e){var t=e.alternate;t!==null&&(e.alternate=null,dm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ut],delete t[jl],delete t[Wi],delete t[lp],delete t[sp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mm(e){return e.tag===5||e.tag===3||e.tag===4}function Pu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function no(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=As));else if(l!==4&&(e=e.child,e!==null))for(no(e,t,r),e=e.sibling;e!==null;)no(e,t,r),e=e.sibling}function lo(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(lo(e,t,r),e=e.sibling;e!==null;)lo(e,t,r),e=e.sibling}var He=null,Pt=!1;function ar(e,t,r){for(r=r.child;r!==null;)hm(e,t,r),r=r.sibling}function hm(e,t,r){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(oa,r)}catch{}switch(r.tag){case 5:Je||mn(r,t);case 6:var l=He,s=Pt;He=null,ar(e,t,r),He=l,Pt=s,He!==null&&(Pt?(e=He,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):He.removeChild(r.stateNode));break;case 18:He!==null&&(Pt?(e=He,r=r.stateNode,e.nodeType===8?qa(e.parentNode,r):e.nodeType===1&&qa(e,r),xl(e)):qa(He,r.stateNode));break;case 4:l=He,s=Pt,He=r.stateNode.containerInfo,Pt=!0,ar(e,t,r),He=l,Pt=s;break;case 0:case 11:case 14:case 15:if(!Je&&(l=r.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){s=l=l.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&to(r,t,i),s=s.next}while(s!==l)}ar(e,t,r);break;case 1:if(!Je&&(mn(r,t),l=r.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=r.memoizedProps,l.state=r.memoizedState,l.componentWillUnmount()}catch(c){Me(r,t,c)}ar(e,t,r);break;case 21:ar(e,t,r);break;case 22:r.mode&1?(Je=(l=Je)||r.memoizedState!==null,ar(e,t,r),Je=l):ar(e,t,r);break;default:ar(e,t,r)}}function Lu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new jp),t.forEach(function(l){var s=Rp.bind(null,e,l);r.has(l)||(r.add(l),l.then(s,s))})}}function St(e,t){var r=t.deletions;if(r!==null)for(var l=0;l<r.length;l++){var s=r[l];try{var a=e,i=t,c=i;e:for(;c!==null;){switch(c.tag){case 5:He=c.stateNode,Pt=!1;break e;case 3:He=c.stateNode.containerInfo,Pt=!0;break e;case 4:He=c.stateNode.containerInfo,Pt=!0;break e}c=c.return}if(He===null)throw Error(A(160));hm(a,i,s),He=null,Pt=!1;var o=s.alternate;o!==null&&(o.return=null),s.return=null}catch(u){Me(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fm(t,e),t=t.sibling}function fm(e,t){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(St(t,e),zt(e),l&4){try{ol(3,e,e.return),xa(3,e)}catch(b){Me(e,e.return,b)}try{ol(5,e,e.return)}catch(b){Me(e,e.return,b)}}break;case 1:St(t,e),zt(e),l&512&&r!==null&&mn(r,r.return);break;case 5:if(St(t,e),zt(e),l&512&&r!==null&&mn(r,r.return),e.flags&32){var s=e.stateNode;try{ml(s,"")}catch(b){Me(e,e.return,b)}}if(l&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,c=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&Ad(s,a),Pi(c,i);var u=Pi(c,a);for(i=0;i<o.length;i+=2){var m=o[i],h=o[i+1];m==="style"?Od(s,h):m==="dangerouslySetInnerHTML"?Ud(s,h):m==="children"?ml(s,h):wo(s,m,h,u)}switch(c){case"input":Ni(s,a);break;case"textarea":zd(s,a);break;case"select":var x=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?fn(s,!!a.multiple,y,!1):x!==!!a.multiple&&(a.defaultValue!=null?fn(s,!!a.multiple,a.defaultValue,!0):fn(s,!!a.multiple,a.multiple?[]:"",!1))}s[jl]=a}catch(b){Me(e,e.return,b)}}break;case 6:if(St(t,e),zt(e),l&4){if(e.stateNode===null)throw Error(A(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(b){Me(e,e.return,b)}}break;case 3:if(St(t,e),zt(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{xl(t.containerInfo)}catch(b){Me(e,e.return,b)}break;case 4:St(t,e),zt(e);break;case 13:St(t,e),zt(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(tc=De())),l&4&&Lu(e);break;case 22:if(m=r!==null&&r.memoizedState!==null,e.mode&1?(Je=(u=Je)||m,St(t,e),Je=u):St(t,e),zt(e),l&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!m&&e.mode&1)for(W=e,m=e.child;m!==null;){for(h=W=m;W!==null;){switch(x=W,y=x.child,x.tag){case 0:case 11:case 14:case 15:ol(4,x,x.return);break;case 1:mn(x,x.return);var j=x.stateNode;if(typeof j.componentWillUnmount=="function"){l=x,r=x.return;try{t=l,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(b){Me(l,r,b)}}break;case 5:mn(x,x.return);break;case 22:if(x.memoizedState!==null){Ru(h);continue}}y!==null?(y.return=x,W=y):Ru(h)}m=m.sibling}e:for(m=null,h=e;;){if(h.tag===5){if(m===null){m=h;try{s=h.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=h.stateNode,o=h.memoizedProps.style,i=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=Bd("display",i))}catch(b){Me(e,e.return,b)}}}else if(h.tag===6){if(m===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(b){Me(e,e.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;m===h&&(m=null),h=h.return}m===h&&(m=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:St(t,e),zt(e),l&4&&Lu(e);break;case 21:break;default:St(t,e),zt(e)}}function zt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(mm(r)){var l=r;break e}r=r.return}throw Error(A(160))}switch(l.tag){case 5:var s=l.stateNode;l.flags&32&&(ml(s,""),l.flags&=-33);var a=Pu(e);lo(e,a,s);break;case 3:case 4:var i=l.stateNode.containerInfo,c=Pu(e);no(e,c,i);break;default:throw Error(A(161))}}catch(o){Me(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Np(e,t,r){W=e,pm(e)}function pm(e,t,r){for(var l=(e.mode&1)!==0;W!==null;){var s=W,a=s.child;if(s.tag===22&&l){var i=s.memoizedState!==null||is;if(!i){var c=s.alternate,o=c!==null&&c.memoizedState!==null||Je;c=is;var u=Je;if(is=i,(Je=o)&&!u)for(W=s;W!==null;)i=W,o=i.child,i.tag===22&&i.memoizedState!==null?Mu(s):o!==null?(o.return=i,W=o):Mu(s);for(;a!==null;)W=a,pm(a),a=a.sibling;W=s,is=c,Je=u}_u(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,W=a):_u(e)}}function _u(e){for(;W!==null;){var t=W;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Je||xa(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!Je)if(r===null)l.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Et(t.type,r.memoizedProps);l.componentDidUpdate(s,r.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&fu(t,a,l);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}fu(t,i,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&r.focus();break;case"img":o.src&&(r.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var m=u.memoizedState;if(m!==null){var h=m.dehydrated;h!==null&&xl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}Je||t.flags&512&&ro(t)}catch(x){Me(t,t.return,x)}}if(t===e){W=null;break}if(r=t.sibling,r!==null){r.return=t.return,W=r;break}W=t.return}}function Ru(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var r=t.sibling;if(r!==null){r.return=t.return,W=r;break}W=t.return}}function Mu(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{xa(4,t)}catch(o){Me(t,r,o)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var s=t.return;try{l.componentDidMount()}catch(o){Me(t,s,o)}}var a=t.return;try{ro(t)}catch(o){Me(t,a,o)}break;case 5:var i=t.return;try{ro(t)}catch(o){Me(t,i,o)}}}catch(o){Me(t,t.return,o)}if(t===e){W=null;break}var c=t.sibling;if(c!==null){c.return=t.return,W=c;break}W=t.return}}var kp=Math.ceil,Gs=nr.ReactCurrentDispatcher,qo=nr.ReactCurrentOwner,jt=nr.ReactCurrentBatchConfig,fe=0,We=null,ze=null,Ye=0,ct=0,hn=Sr(0),Be=0,El=null,Vr=0,ga=0,ec=0,cl=null,lt=null,tc=0,En=1/0,Yt=null,Qs=!1,so=null,br=null,os=!1,hr=null,Ks=0,ul=0,ao=null,ks=-1,Cs=0;function et(){return fe&6?De():ks!==-1?ks:ks=De()}function jr(e){return e.mode&1?fe&2&&Ye!==0?Ye&-Ye:ip.transition!==null?(Cs===0&&(Cs=qd()),Cs):(e=ve,e!==0||(e=window.event,e=e===void 0?16:a0(e.type)),e):1}function Mt(e,t,r,l){if(50<ul)throw ul=0,ao=null,Error(A(185));Rl(e,r,l),(!(fe&2)||e!==We)&&(e===We&&(!(fe&2)&&(ga|=r),Be===4&&dr(e,Ye)),ot(e,l),r===1&&fe===0&&!(t.mode&1)&&(En=De()+500,ha&&Er()))}function ot(e,t){var r=e.callbackNode;af(e,t);var l=Ms(e,e===We?Ye:0);if(l===0)r!==null&&Oc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(r!=null&&Oc(r),t===1)e.tag===0?ap(Tu.bind(null,e)):C0(Tu.bind(null,e)),rp(function(){!(fe&6)&&Er()}),r=null;else{switch(e0(l)){case 1:r=Eo;break;case 4:r=Jd;break;case 16:r=Rs;break;case 536870912:r=Zd;break;default:r=Rs}r=Nm(r,xm.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function xm(e,t){if(ks=-1,Cs=0,fe&6)throw Error(A(327));var r=e.callbackNode;if(yn()&&e.callbackNode!==r)return null;var l=Ms(e,e===We?Ye:0);if(l===0)return null;if(l&30||l&e.expiredLanes||t)t=Xs(e,l);else{t=l;var s=fe;fe|=2;var a=vm();(We!==e||Ye!==t)&&(Yt=null,En=De()+500,Ur(e,t));do try{Ep();break}catch(c){gm(e,c)}while(!0);Bo(),Gs.current=a,fe=s,ze!==null?t=0:(We=null,Ye=0,t=Be)}if(t!==0){if(t===2&&(s=Ti(e),s!==0&&(l=s,t=io(e,s))),t===1)throw r=El,Ur(e,0),dr(e,l),ot(e,De()),r;if(t===6)dr(e,l);else{if(s=e.current.alternate,!(l&30)&&!Cp(s)&&(t=Xs(e,l),t===2&&(a=Ti(e),a!==0&&(l=a,t=io(e,a))),t===1))throw r=El,Ur(e,0),dr(e,l),ot(e,De()),r;switch(e.finishedWork=s,e.finishedLanes=l,t){case 0:case 1:throw Error(A(345));case 2:Mr(e,lt,Yt);break;case 3:if(dr(e,l),(l&130023424)===l&&(t=tc+500-De(),10<t)){if(Ms(e,0)!==0)break;if(s=e.suspendedLanes,(s&l)!==l){et(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Oi(Mr.bind(null,e,lt,Yt),t);break}Mr(e,lt,Yt);break;case 4:if(dr(e,l),(l&4194240)===l)break;for(t=e.eventTimes,s=-1;0<l;){var i=31-Rt(l);a=1<<i,i=t[i],i>s&&(s=i),l&=~a}if(l=s,l=De()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*kp(l/1960))-l,10<l){e.timeoutHandle=Oi(Mr.bind(null,e,lt,Yt),l);break}Mr(e,lt,Yt);break;case 5:Mr(e,lt,Yt);break;default:throw Error(A(329))}}}return ot(e,De()),e.callbackNode===r?xm.bind(null,e):null}function io(e,t){var r=cl;return e.current.memoizedState.isDehydrated&&(Ur(e,t).flags|=256),e=Xs(e,t),e!==2&&(t=lt,lt=r,t!==null&&oo(t)),e}function oo(e){lt===null?lt=e:lt.push.apply(lt,e)}function Cp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var l=0;l<r.length;l++){var s=r[l],a=s.getSnapshot;s=s.value;try{if(!Tt(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dr(e,t){for(t&=~ec,t&=~ga,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Rt(t),l=1<<r;e[r]=-1,t&=~l}}function Tu(e){if(fe&6)throw Error(A(327));yn();var t=Ms(e,0);if(!(t&1))return ot(e,De()),null;var r=Xs(e,t);if(e.tag!==0&&r===2){var l=Ti(e);l!==0&&(t=l,r=io(e,l))}if(r===1)throw r=El,Ur(e,0),dr(e,t),ot(e,De()),r;if(r===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mr(e,lt,Yt),ot(e,De()),null}function rc(e,t){var r=fe;fe|=1;try{return e(t)}finally{fe=r,fe===0&&(En=De()+500,ha&&Er())}}function Hr(e){hr!==null&&hr.tag===0&&!(fe&6)&&yn();var t=fe;fe|=1;var r=jt.transition,l=ve;try{if(jt.transition=null,ve=1,e)return e()}finally{ve=l,jt.transition=r,fe=t,!(fe&6)&&Er()}}function nc(){ct=hn.current,ke(hn)}function Ur(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,tp(r)),ze!==null)for(r=ze.return;r!==null;){var l=r;switch(zo(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&zs();break;case 3:Cn(),ke(at),ke(Ze),Yo();break;case 5:Ho(l);break;case 4:Cn();break;case 13:ke(Ee);break;case 19:ke(Ee);break;case 10:Oo(l.type._context);break;case 22:case 23:nc()}r=r.return}if(We=e,ze=e=wr(e.current,null),Ye=ct=t,Be=0,El=null,ec=ga=Vr=0,lt=cl=null,Ar!==null){for(t=0;t<Ar.length;t++)if(r=Ar[t],l=r.interleaved,l!==null){r.interleaved=null;var s=l.next,a=r.pending;if(a!==null){var i=a.next;a.next=s,l.next=i}r.pending=l}Ar=null}return e}function gm(e,t){do{var r=ze;try{if(Bo(),js.current=Ys,Hs){for(var l=Pe.memoizedState;l!==null;){var s=l.queue;s!==null&&(s.pending=null),l=l.next}Hs=!1}if($r=0,Oe=Ue=Pe=null,il=!1,kl=0,qo.current=null,r===null||r.return===null){Be=1,El=t,ze=null;break}e:{var a=e,i=r.return,c=r,o=t;if(t=Ye,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var u=o,m=c,h=m.tag;if(!(m.mode&1)&&(h===0||h===11||h===15)){var x=m.alternate;x?(m.updateQueue=x.updateQueue,m.memoizedState=x.memoizedState,m.lanes=x.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=bu(i);if(y!==null){y.flags&=-257,ju(y,i,c,a,t),y.mode&1&&yu(a,u,t),t=y,o=u;var j=t.updateQueue;if(j===null){var b=new Set;b.add(o),t.updateQueue=b}else j.add(o);break e}else{if(!(t&1)){yu(a,u,t),lc();break e}o=Error(A(426))}}else if(Se&&c.mode&1){var C=bu(i);if(C!==null){!(C.flags&65536)&&(C.flags|=256),ju(C,i,c,a,t),Fo(Sn(o,c));break e}}a=o=Sn(o,c),Be!==4&&(Be=2),cl===null?cl=[a]:cl.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var f=em(a,o,t);hu(a,f);break e;case 1:c=o;var d=a.type,p=a.stateNode;if(!(a.flags&128)&&(typeof d.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(br===null||!br.has(p)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=tm(a,c,t);hu(a,w);break e}}a=a.return}while(a!==null)}bm(r)}catch(k){t=k,ze===r&&r!==null&&(ze=r=r.return);continue}break}while(!0)}function vm(){var e=Gs.current;return Gs.current=Ys,e===null?Ys:e}function lc(){(Be===0||Be===3||Be===2)&&(Be=4),We===null||!(Vr&268435455)&&!(ga&268435455)||dr(We,Ye)}function Xs(e,t){var r=fe;fe|=2;var l=vm();(We!==e||Ye!==t)&&(Yt=null,Ur(e,t));do try{Sp();break}catch(s){gm(e,s)}while(!0);if(Bo(),fe=r,Gs.current=l,ze!==null)throw Error(A(261));return We=null,Ye=0,Be}function Sp(){for(;ze!==null;)ym(ze)}function Ep(){for(;ze!==null&&!Jh();)ym(ze)}function ym(e){var t=wm(e.alternate,e,ct);e.memoizedProps=e.pendingProps,t===null?bm(e):ze=t,qo.current=null}function bm(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=bp(r,t),r!==null){r.flags&=32767,ze=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Be=6,ze=null;return}}else if(r=yp(r,t,ct),r!==null){ze=r;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);Be===0&&(Be=5)}function Mr(e,t,r){var l=ve,s=jt.transition;try{jt.transition=null,ve=1,Pp(e,t,r,l)}finally{jt.transition=s,ve=l}return null}function Pp(e,t,r,l){do yn();while(hr!==null);if(fe&6)throw Error(A(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(of(e,a),e===We&&(ze=We=null,Ye=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||os||(os=!0,Nm(Rs,function(){return yn(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=jt.transition,jt.transition=null;var i=ve;ve=1;var c=fe;fe|=4,qo.current=null,wp(e,r),fm(r,e),Qf(Ui),Ts=!!Fi,Ui=Fi=null,e.current=r,Np(r),Zh(),fe=c,ve=i,jt.transition=a}else e.current=r;if(os&&(os=!1,hr=e,Ks=s),a=e.pendingLanes,a===0&&(br=null),tf(r.stateNode),ot(e,De()),t!==null)for(l=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],l(s.value,{componentStack:s.stack,digest:s.digest});if(Qs)throw Qs=!1,e=so,so=null,e;return Ks&1&&e.tag!==0&&yn(),a=e.pendingLanes,a&1?e===ao?ul++:(ul=0,ao=e):ul=0,Er(),null}function yn(){if(hr!==null){var e=e0(Ks),t=jt.transition,r=ve;try{if(jt.transition=null,ve=16>e?16:e,hr===null)var l=!1;else{if(e=hr,hr=null,Ks=0,fe&6)throw Error(A(331));var s=fe;for(fe|=4,W=e.current;W!==null;){var a=W,i=a.child;if(W.flags&16){var c=a.deletions;if(c!==null){for(var o=0;o<c.length;o++){var u=c[o];for(W=u;W!==null;){var m=W;switch(m.tag){case 0:case 11:case 15:ol(8,m,a)}var h=m.child;if(h!==null)h.return=m,W=h;else for(;W!==null;){m=W;var x=m.sibling,y=m.return;if(dm(m),m===u){W=null;break}if(x!==null){x.return=y,W=x;break}W=y}}}var j=a.alternate;if(j!==null){var b=j.child;if(b!==null){j.child=null;do{var C=b.sibling;b.sibling=null,b=C}while(b!==null)}}W=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,W=i;else e:for(;W!==null;){if(a=W,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ol(9,a,a.return)}var f=a.sibling;if(f!==null){f.return=a.return,W=f;break e}W=a.return}}var d=e.current;for(W=d;W!==null;){i=W;var p=i.child;if(i.subtreeFlags&2064&&p!==null)p.return=i,W=p;else e:for(i=d;W!==null;){if(c=W,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:xa(9,c)}}catch(k){Me(c,c.return,k)}if(c===i){W=null;break e}var w=c.sibling;if(w!==null){w.return=c.return,W=w;break e}W=c.return}}if(fe=s,Er(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(oa,e)}catch{}l=!0}return l}finally{ve=r,jt.transition=t}}return!1}function Du(e,t,r){t=Sn(r,t),t=em(e,t,1),e=yr(e,t,1),t=et(),e!==null&&(Rl(e,1,t),ot(e,t))}function Me(e,t,r){if(e.tag===3)Du(e,e,r);else for(;t!==null;){if(t.tag===3){Du(t,e,r);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(br===null||!br.has(l))){e=Sn(r,e),e=tm(t,e,1),t=yr(t,e,1),e=et(),t!==null&&(Rl(t,1,e),ot(t,e));break}}t=t.return}}function Lp(e,t,r){var l=e.pingCache;l!==null&&l.delete(t),t=et(),e.pingedLanes|=e.suspendedLanes&r,We===e&&(Ye&r)===r&&(Be===4||Be===3&&(Ye&130023424)===Ye&&500>De()-tc?Ur(e,0):ec|=r),ot(e,t)}function jm(e,t){t===0&&(e.mode&1?(t=Zl,Zl<<=1,!(Zl&130023424)&&(Zl=4194304)):t=1);var r=et();e=er(e,t),e!==null&&(Rl(e,t,r),ot(e,r))}function _p(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),jm(e,r)}function Rp(e,t){var r=0;switch(e.tag){case 13:var l=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(A(314))}l!==null&&l.delete(t),jm(e,r)}var wm;wm=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||at.current)st=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return st=!1,vp(e,t,r);st=!!(e.flags&131072)}else st=!1,Se&&t.flags&1048576&&S0(t,Bs,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;Ns(e,t),e=t.pendingProps;var s=wn(t,Ze.current);vn(t,r),s=Qo(null,t,l,e,s,r);var a=Ko();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,it(l)?(a=!0,Fs(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$o(t),s.updater=pa,t.stateNode=s,s._reactInternals=t,Qi(t,l,e,r),t=Ji(null,t,l,!0,a,r)):(t.tag=0,Se&&a&&Ao(t),qe(null,t,s,r),t=t.child),t;case 16:l=t.elementType;e:{switch(Ns(e,t),e=t.pendingProps,s=l._init,l=s(l._payload),t.type=l,s=t.tag=Tp(l),e=Et(l,e),s){case 0:t=Xi(null,t,l,e,r);break e;case 1:t=ku(null,t,l,e,r);break e;case 11:t=wu(null,t,l,e,r);break e;case 14:t=Nu(null,t,l,Et(l.type,e),r);break e}throw Error(A(306,l,""))}return t;case 0:return l=t.type,s=t.pendingProps,s=t.elementType===l?s:Et(l,s),Xi(e,t,l,s,r);case 1:return l=t.type,s=t.pendingProps,s=t.elementType===l?s:Et(l,s),ku(e,t,l,s,r);case 3:e:{if(sm(t),e===null)throw Error(A(387));l=t.pendingProps,a=t.memoizedState,s=a.element,M0(e,t),$s(t,l,null,r);var i=t.memoizedState;if(l=i.element,a.isDehydrated)if(a={element:l,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Sn(Error(A(423)),t),t=Cu(e,t,l,r,s);break e}else if(l!==s){s=Sn(Error(A(424)),t),t=Cu(e,t,l,r,s);break e}else for(dt=vr(t.stateNode.containerInfo.firstChild),mt=t,Se=!0,_t=null,r=_0(t,null,l,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Nn(),l===s){t=tr(e,t,r);break e}qe(e,t,l,r)}t=t.child}return t;case 5:return T0(t),e===null&&Hi(t),l=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,Bi(l,s)?i=null:a!==null&&Bi(l,a)&&(t.flags|=32),lm(e,t),qe(e,t,i,r),t.child;case 6:return e===null&&Hi(t),null;case 13:return am(e,t,r);case 4:return Vo(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=kn(t,null,l,r):qe(e,t,l,r),t.child;case 11:return l=t.type,s=t.pendingProps,s=t.elementType===l?s:Et(l,s),wu(e,t,l,s,r);case 7:return qe(e,t,t.pendingProps,r),t.child;case 8:return qe(e,t,t.pendingProps.children,r),t.child;case 12:return qe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(l=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,je(Os,l._currentValue),l._currentValue=i,a!==null)if(Tt(a.value,i)){if(a.children===s.children&&!at.current){t=tr(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var c=a.dependencies;if(c!==null){i=a.child;for(var o=c.firstContext;o!==null;){if(o.context===l){if(a.tag===1){o=Xt(-1,r&-r),o.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var m=u.pending;m===null?o.next=o:(o.next=m.next,m.next=o),u.pending=o}}a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Yi(a.return,r,t),c.lanes|=r;break}o=o.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(A(341));i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Yi(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}qe(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,l=t.pendingProps.children,vn(t,r),s=wt(s),l=l(s),t.flags|=1,qe(e,t,l,r),t.child;case 14:return l=t.type,s=Et(l,t.pendingProps),s=Et(l.type,s),Nu(e,t,l,s,r);case 15:return rm(e,t,t.type,t.pendingProps,r);case 17:return l=t.type,s=t.pendingProps,s=t.elementType===l?s:Et(l,s),Ns(e,t),t.tag=1,it(l)?(e=!0,Fs(t)):e=!1,vn(t,r),q0(t,l,s),Qi(t,l,s,r),Ji(null,t,l,!0,e,r);case 19:return im(e,t,r);case 22:return nm(e,t,r)}throw Error(A(156,t.tag))};function Nm(e,t){return Xd(e,t)}function Mp(e,t,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(e,t,r,l){return new Mp(e,t,r,l)}function sc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tp(e){if(typeof e=="function")return sc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ko)return 11;if(e===Co)return 14}return 2}function wr(e,t){var r=e.alternate;return r===null?(r=bt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ss(e,t,r,l,s,a){var i=2;if(l=e,typeof e=="function")sc(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case rn:return Br(r.children,s,a,t);case No:i=8,s|=8;break;case vi:return e=bt(12,r,t,s|2),e.elementType=vi,e.lanes=a,e;case yi:return e=bt(13,r,t,s),e.elementType=yi,e.lanes=a,e;case bi:return e=bt(19,r,t,s),e.elementType=bi,e.lanes=a,e;case Td:return va(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Rd:i=10;break e;case Md:i=9;break e;case ko:i=11;break e;case Co:i=14;break e;case or:i=16,l=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=bt(i,r,t,s),t.elementType=e,t.type=l,t.lanes=a,t}function Br(e,t,r,l){return e=bt(7,e,l,t),e.lanes=r,e}function va(e,t,r,l){return e=bt(22,e,l,t),e.elementType=Td,e.lanes=r,e.stateNode={isHidden:!1},e}function ii(e,t,r){return e=bt(6,e,null,t),e.lanes=r,e}function oi(e,t,r){return t=bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dp(e,t,r,l,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wa(0),this.expirationTimes=Wa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wa(0),this.identifierPrefix=l,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ac(e,t,r,l,s,a,i,c,o){return e=new Dp(e,t,r,c,o),t===1?(t=1,a===!0&&(t|=8)):t=0,a=bt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:l,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$o(a),e}function Ip(e,t,r){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tn,key:l==null?null:""+l,children:e,containerInfo:t,implementation:r}}function km(e){if(!e)return kr;e=e._reactInternals;e:{if(Kr(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(it(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var r=e.type;if(it(r))return k0(e,r,t)}return t}function Cm(e,t,r,l,s,a,i,c,o){return e=ac(r,l,!0,e,s,a,i,c,o),e.context=km(null),r=e.current,l=et(),s=jr(r),a=Xt(l,s),a.callback=t??null,yr(r,a,s),e.current.lanes=s,Rl(e,s,l),ot(e,l),e}function ya(e,t,r,l){var s=t.current,a=et(),i=jr(s);return r=km(r),t.context===null?t.context=r:t.pendingContext=r,t=Xt(a,i),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=yr(s,t,i),e!==null&&(Mt(e,s,i,a),bs(e,s,i)),i}function Js(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Iu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ic(e,t){Iu(e,t),(e=e.alternate)&&Iu(e,t)}function Ap(){return null}var Sm=typeof reportError=="function"?reportError:function(e){console.error(e)};function oc(e){this._internalRoot=e}ba.prototype.render=oc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));ya(e,t,null,null)};ba.prototype.unmount=oc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hr(function(){ya(null,e,null,null)}),t[qt]=null}};function ba(e){this._internalRoot=e}ba.prototype.unstable_scheduleHydration=function(e){if(e){var t=n0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ur.length&&t!==0&&t<ur[r].priority;r++);ur.splice(r,0,e),r===0&&s0(e)}};function cc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ja(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Au(){}function zp(e,t,r,l,s){if(s){if(typeof l=="function"){var a=l;l=function(){var u=Js(i);a.call(u)}}var i=Cm(t,l,e,0,null,!1,!1,"",Au);return e._reactRootContainer=i,e[qt]=i.current,yl(e.nodeType===8?e.parentNode:e),Hr(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof l=="function"){var c=l;l=function(){var u=Js(o);c.call(u)}}var o=ac(e,0,!1,null,null,!1,!1,"",Au);return e._reactRootContainer=o,e[qt]=o.current,yl(e.nodeType===8?e.parentNode:e),Hr(function(){ya(t,o,r,l)}),o}function wa(e,t,r,l,s){var a=r._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var c=s;s=function(){var o=Js(i);c.call(o)}}ya(t,i,e,s)}else i=zp(r,t,e,s,l);return Js(i)}t0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=qn(t.pendingLanes);r!==0&&(Po(t,r|1),ot(t,De()),!(fe&6)&&(En=De()+500,Er()))}break;case 13:Hr(function(){var l=er(e,1);if(l!==null){var s=et();Mt(l,e,1,s)}}),ic(e,1)}};Lo=function(e){if(e.tag===13){var t=er(e,134217728);if(t!==null){var r=et();Mt(t,e,134217728,r)}ic(e,134217728)}};r0=function(e){if(e.tag===13){var t=jr(e),r=er(e,t);if(r!==null){var l=et();Mt(r,e,t,l)}ic(e,t)}};n0=function(){return ve};l0=function(e,t){var r=ve;try{return ve=e,t()}finally{ve=r}};_i=function(e,t,r){switch(t){case"input":if(Ni(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var l=r[t];if(l!==e&&l.form===e.form){var s=ma(l);if(!s)throw Error(A(90));Id(l),Ni(l,s)}}}break;case"textarea":zd(e,r);break;case"select":t=r.value,t!=null&&fn(e,!!r.multiple,t,!1)}};Vd=rc;Hd=Hr;var Fp={usingClientEntryPoint:!1,Events:[Tl,an,ma,Wd,$d,rc]},Yn={findFiberByHostInstance:Ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Up={bundleType:Yn.bundleType,version:Yn.version,rendererPackageName:Yn.rendererPackageName,rendererConfig:Yn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qd(e),e===null?null:e.stateNode},findFiberByHostInstance:Yn.findFiberByHostInstance||Ap,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cs.isDisabled&&cs.supportsFiber)try{oa=cs.inject(Up),Bt=cs}catch{}}ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fp;ft.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cc(t))throw Error(A(200));return Ip(e,t,null,r)};ft.createRoot=function(e,t){if(!cc(e))throw Error(A(299));var r=!1,l="",s=Sm;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ac(e,1,!1,null,null,r,!1,l,s),e[qt]=t.current,yl(e.nodeType===8?e.parentNode:e),new oc(t)};ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=Qd(t),e=e===null?null:e.stateNode,e};ft.flushSync=function(e){return Hr(e)};ft.hydrate=function(e,t,r){if(!ja(t))throw Error(A(200));return wa(null,e,t,!0,r)};ft.hydrateRoot=function(e,t,r){if(!cc(e))throw Error(A(405));var l=r!=null&&r.hydratedSources||null,s=!1,a="",i=Sm;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Cm(t,null,e,1,r??null,s,!1,a,i),e[qt]=t.current,yl(e),l)for(e=0;e<l.length;e++)r=l[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ba(t)};ft.render=function(e,t,r){if(!ja(t))throw Error(A(200));return wa(null,e,t,!1,r)};ft.unmountComponentAtNode=function(e){if(!ja(e))throw Error(A(40));return e._reactRootContainer?(Hr(function(){wa(null,null,e,!1,function(){e._reactRootContainer=null,e[qt]=null})}),!0):!1};ft.unstable_batchedUpdates=rc;ft.unstable_renderSubtreeIntoContainer=function(e,t,r,l){if(!ja(r))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return wa(e,t,r,!1,l)};ft.version="18.3.1-next-f1338f8080-20240426";function Em(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Em)}catch(e){console.error(e)}}Em(),Ed.exports=ft;var uc=Ed.exports;const Bp=fd(uc),Op=hd({__proto__:null,default:Bp},[uc]);var zu=uc;xi.createRoot=zu.createRoot,xi.hydrateRoot=zu.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},Ce.apply(this,arguments)}var Ae;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ae||(Ae={}));const Fu="popstate";function Wp(e){e===void 0&&(e={});function t(l,s){let{pathname:a,search:i,hash:c}=l.location;return Pl("",{pathname:a,search:i,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(l,s){return typeof s=="string"?s:Gr(s)}return Vp(t,r,null,e)}function ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Yr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $p(){return Math.random().toString(36).substr(2,8)}function Uu(e,t){return{usr:e.state,key:e.key,idx:t}}function Pl(e,t,r,l){return r===void 0&&(r=null),Ce({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Pr(t):t,{state:r,key:t&&t.key||l||$p()})}function Gr(e){let{pathname:t="/",search:r="",hash:l=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),l&&l!=="#"&&(t+=l.charAt(0)==="#"?l:"#"+l),t}function Pr(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let l=e.indexOf("?");l>=0&&(t.search=e.substr(l),e=e.substr(0,l)),e&&(t.pathname=e)}return t}function Vp(e,t,r,l){l===void 0&&(l={});let{window:s=document.defaultView,v5Compat:a=!1}=l,i=s.history,c=Ae.Pop,o=null,u=m();u==null&&(u=0,i.replaceState(Ce({},i.state,{idx:u}),""));function m(){return(i.state||{idx:null}).idx}function h(){c=Ae.Pop;let C=m(),f=C==null?null:C-u;u=C,o&&o({action:c,location:b.location,delta:f})}function x(C,f){c=Ae.Push;let d=Pl(b.location,C,f);u=m()+1;let p=Uu(d,u),w=b.createHref(d);try{i.pushState(p,"",w)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(w)}a&&o&&o({action:c,location:b.location,delta:1})}function y(C,f){c=Ae.Replace;let d=Pl(b.location,C,f);u=m();let p=Uu(d,u),w=b.createHref(d);i.replaceState(p,"",w),a&&o&&o({action:c,location:b.location,delta:0})}function j(C){let f=s.location.origin!=="null"?s.location.origin:s.location.href,d=typeof C=="string"?C:Gr(C);return d=d.replace(/ $/,"%20"),ae(f,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,f)}let b={get action(){return c},get location(){return e(s,i)},listen(C){if(o)throw new Error("A history only accepts one active listener");return s.addEventListener(Fu,h),o=C,()=>{s.removeEventListener(Fu,h),o=null}},createHref(C){return t(s,C)},createURL:j,encodeLocation(C){let f=j(C);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:x,replace:y,go(C){return i.go(C)}};return b}var ge;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ge||(ge={}));const Hp=new Set(["lazy","caseSensitive","path","id","index","children"]);function Yp(e){return e.index===!0}function Zs(e,t,r,l){return r===void 0&&(r=[]),l===void 0&&(l={}),e.map((s,a)=>{let i=[...r,String(a)],c=typeof s.id=="string"?s.id:i.join("-");if(ae(s.index!==!0||!s.children,"Cannot specify children on an index route"),ae(!l[c],'Found a route id collision on id "'+c+`".  Route id's must be globally unique within Data Router usages`),Yp(s)){let o=Ce({},s,t(s),{id:c});return l[c]=o,o}else{let o=Ce({},s,t(s),{id:c,children:void 0});return l[c]=o,s.children&&(o.children=Zs(s.children,t,i,l)),o}})}function Tr(e,t,r){return r===void 0&&(r="/"),Es(e,t,r,!1)}function Es(e,t,r,l){let s=typeof t=="string"?Pr(t):t,a=rr(s.pathname||"/",r);if(a==null)return null;let i=Pm(e);Qp(i);let c=null;for(let o=0;c==null&&o<i.length;++o){let u=sx(a);c=nx(i[o],u,l)}return c}function Gp(e,t){let{route:r,pathname:l,params:s}=e;return{id:r.id,pathname:l,params:s,data:t[r.id],handle:r.handle}}function Pm(e,t,r,l){t===void 0&&(t=[]),r===void 0&&(r=[]),l===void 0&&(l="");let s=(a,i,c)=>{let o={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};o.relativePath.startsWith("/")&&(ae(o.relativePath.startsWith(l),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(l.length));let u=Jt([l,o.relativePath]),m=r.concat(o);a.children&&a.children.length>0&&(ae(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Pm(a.children,t,m,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:tx(u,a.index),routesMeta:m})};return e.forEach((a,i)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,i);else for(let o of Lm(a.path))s(a,i,o)}),t}function Lm(e){let t=e.split("/");if(t.length===0)return[];let[r,...l]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(l.length===0)return s?[a,""]:[a];let i=Lm(l.join("/")),c=[];return c.push(...i.map(o=>o===""?a:[a,o].join("/"))),s&&c.push(...i),c.map(o=>e.startsWith("/")&&o===""?"/":o)}function Qp(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:rx(t.routesMeta.map(l=>l.childrenIndex),r.routesMeta.map(l=>l.childrenIndex)))}const Kp=/^:[\w-]+$/,Xp=3,Jp=2,Zp=1,qp=10,ex=-2,Bu=e=>e==="*";function tx(e,t){let r=e.split("/"),l=r.length;return r.some(Bu)&&(l+=ex),t&&(l+=Jp),r.filter(s=>!Bu(s)).reduce((s,a)=>s+(Kp.test(a)?Xp:a===""?Zp:qp),l)}function rx(e,t){return e.length===t.length&&e.slice(0,-1).every((l,s)=>l===t[s])?e[e.length-1]-t[t.length-1]:0}function nx(e,t,r){r===void 0&&(r=!1);let{routesMeta:l}=e,s={},a="/",i=[];for(let c=0;c<l.length;++c){let o=l[c],u=c===l.length-1,m=a==="/"?t:t.slice(a.length)||"/",h=qs({path:o.relativePath,caseSensitive:o.caseSensitive,end:u},m),x=o.route;if(!h&&u&&r&&!l[l.length-1].route.index&&(h=qs({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},m)),!h)return null;Object.assign(s,h.params),i.push({params:s,pathname:Jt([a,h.pathname]),pathnameBase:cx(Jt([a,h.pathnameBase])),route:x}),h.pathnameBase!=="/"&&(a=Jt([a,h.pathnameBase]))}return i}function qs(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,l]=lx(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:l.reduce((u,m,h)=>{let{paramName:x,isOptional:y}=m;if(x==="*"){let b=c[h]||"";i=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const j=c[h];return y&&!j?u[x]=void 0:u[x]=(j||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function lx(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Yr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let l=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,c,o)=>(l.push({paramName:c,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(l.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),l]}function sx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yr(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function rr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,l=e.charAt(r);return l&&l!=="/"?null:e.slice(r)||"/"}const ax=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ix=e=>ax.test(e);function ox(e,t){t===void 0&&(t="/");let{pathname:r,search:l="",hash:s=""}=typeof e=="string"?Pr(e):e,a;if(r)if(ix(r))a=r;else{if(r.includes("//")){let i=r;r=r.replace(/\/\/+/g,"/"),Yr(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+r))}r.startsWith("/")?a=Ou(r.substring(1),"/"):a=Ou(r,t)}else a=t;return{pathname:a,search:ux(l),hash:dx(s)}}function Ou(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function ci(e,t,r,l){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _m(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Na(e,t){let r=_m(e);return t?r.map((l,s)=>s===r.length-1?l.pathname:l.pathnameBase):r.map(l=>l.pathnameBase)}function ka(e,t,r,l){l===void 0&&(l=!1);let s;typeof e=="string"?s=Pr(e):(s=Ce({},e),ae(!s.pathname||!s.pathname.includes("?"),ci("?","pathname","search",s)),ae(!s.pathname||!s.pathname.includes("#"),ci("#","pathname","hash",s)),ae(!s.search||!s.search.includes("#"),ci("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,c;if(i==null)c=r;else{let h=t.length-1;if(!l&&i.startsWith("..")){let x=i.split("/");for(;x[0]==="..";)x.shift(),h-=1;s.pathname=x.join("/")}c=h>=0?t[h]:"/"}let o=ox(s,c),u=i&&i!=="/"&&i.endsWith("/"),m=(a||i===".")&&r.endsWith("/");return!o.pathname.endsWith("/")&&(u||m)&&(o.pathname+="/"),o}const Jt=e=>e.join("/").replace(/\/\/+/g,"/"),cx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ux=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,dx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class ea{constructor(t,r,l,s){s===void 0&&(s=!1),this.status=t,this.statusText=r||"",this.internal=s,l instanceof Error?(this.data=l.toString(),this.error=l):this.data=l}}function Ll(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Rm=["post","put","patch","delete"],mx=new Set(Rm),hx=["get",...Rm],fx=new Set(hx),px=new Set([301,302,303,307,308]),xx=new Set([307,308]),ui={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},gx={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Gn={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},dc=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vx=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Mm="remix-router-transitions";function yx(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",l=!r;ae(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(e.mapRouteProperties)s=e.mapRouteProperties;else if(e.detectErrorBoundary){let N=e.detectErrorBoundary;s=E=>({hasErrorBoundary:N(E)})}else s=vx;let a={},i=Zs(e.routes,s,void 0,a),c,o=e.basename||"/",u=e.dataStrategy||Nx,m=e.patchRoutesOnNavigation,h=Ce({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),x=null,y=new Set,j=null,b=null,C=null,f=e.hydrationData!=null,d=Tr(i,e.history.location,o),p=!1,w=null;if(d==null&&!m){let N=nt(404,{pathname:e.history.location.pathname}),{matches:E,route:R}=Zu(i);d=E,w={[R.id]:N}}d&&!e.hydrationData&&$l(d,i,e.history.location.pathname).active&&(d=null);let k;if(d)if(d.some(N=>N.route.lazy))k=!1;else if(!d.some(N=>N.route.loader))k=!0;else if(h.v7_partialHydration){let N=e.hydrationData?e.hydrationData.loaderData:null,E=e.hydrationData?e.hydrationData.errors:null;if(E){let R=d.findIndex(D=>E[D.route.id]!==void 0);k=d.slice(0,R+1).every(D=>!uo(D.route,N,E))}else k=d.every(R=>!uo(R.route,N,E))}else k=e.hydrationData!=null;else if(k=!1,d=[],h.v7_partialHydration){let N=$l(null,i,e.history.location.pathname);N.active&&N.matches&&(p=!0,d=N.matches)}let S,v={historyAction:e.history.action,location:e.history.location,matches:d,initialized:k,navigation:ui,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||w,fetchers:new Map,blockers:new Map},_=Ae.Pop,M=!1,L,O=!1,$=new Map,ee=null,z=!1,te=!1,me=[],ue=new Set,I=new Map,G=0,H=-1,P=new Map,F=new Set,q=new Map,he=new Map,le=new Set,ye=new Map,U=new Map,T;function ne(){if(x=e.history.listen(N=>{let{action:E,location:R,delta:D}=N;if(T){T(),T=void 0;return}Yr(U.size===0||D!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let B=Cc({currentLocation:v.location,nextLocation:R,historyAction:E});if(B&&D!=null){let Z=new Promise(re=>{T=re});e.history.go(D*-1),Wl(B,{state:"blocked",location:R,proceed(){Wl(B,{state:"proceeding",proceed:void 0,reset:void 0,location:R}),Z.then(()=>e.history.go(D))},reset(){let re=new Map(v.blockers);re.set(B,Gn),we({blockers:re})}});return}return Fe(E,R)}),r){zx(t,$);let N=()=>Fx(t,$);t.addEventListener("pagehide",N),ee=()=>t.removeEventListener("pagehide",N)}return v.initialized||Fe(Ae.Pop,v.location,{initialHydration:!0}),S}function ce(){x&&x(),ee&&ee(),y.clear(),L&&L.abort(),v.fetchers.forEach((N,E)=>$e(E)),v.blockers.forEach((N,E)=>kc(E))}function J(N){return y.add(N),()=>y.delete(N)}function we(N,E){E===void 0&&(E={}),v=Ce({},v,N);let R=[],D=[];h.v7_fetcherPersist&&v.fetchers.forEach((B,Z)=>{B.state==="idle"&&(le.has(Z)?D.push(Z):R.push(Z))}),le.forEach(B=>{!v.fetchers.has(B)&&!I.has(B)&&D.push(B)}),[...y].forEach(B=>B(v,{deletedFetchers:D,viewTransitionOpts:E.viewTransitionOpts,flushSync:E.flushSync===!0})),h.v7_fetcherPersist?(R.forEach(B=>v.fetchers.delete(B)),D.forEach(B=>$e(B))):D.forEach(B=>le.delete(B))}function Ct(N,E,R){var D,B;let{flushSync:Z}=R===void 0?{}:R,re=v.actionData!=null&&v.navigation.formMethod!=null&&Lt(v.navigation.formMethod)&&v.navigation.state==="loading"&&((D=N.state)==null?void 0:D._isRedirect)!==!0,Y;E.actionData?Object.keys(E.actionData).length>0?Y=E.actionData:Y=null:re?Y=v.actionData:Y=null;let Q=E.loaderData?Xu(v.loaderData,E.loaderData,E.matches||[],E.errors):v.loaderData,V=v.blockers;V.size>0&&(V=new Map(V),V.forEach((de,Ve)=>V.set(Ve,Gn)));let K=M===!0||v.navigation.formMethod!=null&&Lt(v.navigation.formMethod)&&((B=N.state)==null?void 0:B._isRedirect)!==!0;c&&(i=c,c=void 0),z||_===Ae.Pop||(_===Ae.Push?e.history.push(N,N.state):_===Ae.Replace&&e.history.replace(N,N.state));let se;if(_===Ae.Pop){let de=$.get(v.location.pathname);de&&de.has(N.pathname)?se={currentLocation:v.location,nextLocation:N}:$.has(N.pathname)&&(se={currentLocation:N,nextLocation:v.location})}else if(O){let de=$.get(v.location.pathname);de?de.add(N.pathname):(de=new Set([N.pathname]),$.set(v.location.pathname,de)),se={currentLocation:v.location,nextLocation:N}}we(Ce({},E,{actionData:Y,loaderData:Q,historyAction:_,location:N,initialized:!0,navigation:ui,revalidation:"idle",restoreScrollPosition:Ec(N,E.matches||v.matches),preventScrollReset:K,blockers:V}),{viewTransitionOpts:se,flushSync:Z===!0}),_=Ae.Pop,M=!1,O=!1,z=!1,te=!1,me=[]}async function Vt(N,E){if(typeof N=="number"){e.history.go(N);return}let R=co(v.location,v.matches,o,h.v7_prependBasename,N,h.v7_relativeSplatPath,E==null?void 0:E.fromRouteId,E==null?void 0:E.relative),{path:D,submission:B,error:Z}=Wu(h.v7_normalizeFormMethod,!1,R,E),re=v.location,Y=Pl(v.location,D,E&&E.state);Y=Ce({},Y,e.history.encodeLocation(Y));let Q=E&&E.replace!=null?E.replace:void 0,V=Ae.Push;Q===!0?V=Ae.Replace:Q===!1||B!=null&&Lt(B.formMethod)&&B.formAction===v.location.pathname+v.location.search&&(V=Ae.Replace);let K=E&&"preventScrollReset"in E?E.preventScrollReset===!0:void 0,se=(E&&E.flushSync)===!0,de=Cc({currentLocation:re,nextLocation:Y,historyAction:V});if(de){Wl(de,{state:"blocked",location:Y,proceed(){Wl(de,{state:"proceeding",proceed:void 0,reset:void 0,location:Y}),Vt(N,E)},reset(){let Ve=new Map(v.blockers);Ve.set(de,Gn),we({blockers:Ve})}});return}return await Fe(V,Y,{submission:B,pendingError:Z,preventScrollReset:K,replace:E&&E.replace,enableViewTransition:E&&E.viewTransition,flushSync:se})}function La(){if(Dn(),we({revalidation:"loading"}),v.navigation.state!=="submitting"){if(v.navigation.state==="idle"){Fe(v.historyAction,v.location,{startUninterruptedRevalidation:!0});return}Fe(_||v.historyAction,v.navigation.location,{overrideNavigation:v.navigation,enableViewTransition:O===!0})}}async function Fe(N,E,R){L&&L.abort(),L=null,_=N,z=(R&&R.startUninterruptedRevalidation)===!0,ch(v.location,v.matches),M=(R&&R.preventScrollReset)===!0,O=(R&&R.enableViewTransition)===!0;let D=c||i,B=R&&R.overrideNavigation,Z=R!=null&&R.initialHydration&&v.matches&&v.matches.length>0&&!p?v.matches:Tr(D,E,o),re=(R&&R.flushSync)===!0;if(Z&&v.initialized&&!te&&Lx(v.location,E)&&!(R&&R.submission&&Lt(R.submission.formMethod))){Ct(E,{matches:Z},{flushSync:re});return}let Y=$l(Z,D,E.pathname);if(Y.active&&Y.matches&&(Z=Y.matches),!Z){let{error:be,notFoundMatches:xe,route:_e}=Da(E.pathname);Ct(E,{matches:xe,loaderData:{},errors:{[_e.id]:be}},{flushSync:re});return}L=new AbortController;let Q=en(e.history,E,L.signal,R&&R.submission),V;if(R&&R.pendingError)V=[Dr(Z).route.id,{type:ge.error,error:R.pendingError}];else if(R&&R.submission&&Lt(R.submission.formMethod)){let be=await Te(Q,E,R.submission,Z,Y.active,{replace:R.replace,flushSync:re});if(be.shortCircuited)return;if(be.pendingActionResult){let[xe,_e]=be.pendingActionResult;if(ut(_e)&&Ll(_e.error)&&_e.error.status===404){L=null,Ct(E,{matches:be.matches,loaderData:{},errors:{[xe]:_e.error}});return}}Z=be.matches||Z,V=be.pendingActionResult,B=di(E,R.submission),re=!1,Y.active=!1,Q=en(e.history,Q.url,Q.signal)}let{shortCircuited:K,matches:se,loaderData:de,errors:Ve}=await Fl(Q,E,Z,Y.active,B,R&&R.submission,R&&R.fetcherSubmission,R&&R.replace,R&&R.initialHydration===!0,re,V);K||(L=null,Ct(E,Ce({matches:se||Z},Ju(V),{loaderData:de,errors:Ve})))}async function Te(N,E,R,D,B,Z){Z===void 0&&(Z={}),Dn();let re=Ix(E,R);if(we({navigation:re},{flushSync:Z.flushSync===!0}),B){let V=await Vl(D,E.pathname,N.signal);if(V.type==="aborted")return{shortCircuited:!0};if(V.type==="error"){let K=Dr(V.partialMatches).route.id;return{matches:V.partialMatches,pendingActionResult:[K,{type:ge.error,error:V.error}]}}else if(V.matches)D=V.matches;else{let{notFoundMatches:K,error:se,route:de}=Da(E.pathname);return{matches:K,pendingActionResult:[de.id,{type:ge.error,error:se}]}}}let Y,Q=tl(D,E);if(!Q.route.action&&!Q.route.lazy)Y={type:ge.error,error:nt(405,{method:N.method,pathname:E.pathname,routeId:Q.route.id})};else if(Y=(await Lr("action",v,N,[Q],D,null))[Q.route.id],N.signal.aborted)return{shortCircuited:!0};if(Fr(Y)){let V;return Z&&Z.replace!=null?V=Z.replace:V=Gu(Y.response.headers.get("Location"),new URL(N.url),o)===v.location.pathname+v.location.search,await Dt(N,Y,!0,{submission:R,replace:V}),{shortCircuited:!0}}if(fr(Y))throw nt(400,{type:"defer-action"});if(ut(Y)){let V=Dr(D,Q.route.id);return(Z&&Z.replace)!==!0&&(_=Ae.Push),{matches:D,pendingActionResult:[V.route.id,Y]}}return{matches:D,pendingActionResult:[Q.route.id,Y]}}async function Fl(N,E,R,D,B,Z,re,Y,Q,V,K){let se=B||di(E,Z),de=Z||re||ed(se),Ve=!z&&(!h.v7_partialHydration||!Q);if(D){if(Ve){let Re=Ul(K);we(Ce({navigation:se},Re!==void 0?{actionData:Re}:{}),{flushSync:V})}let pe=await Vl(R,E.pathname,N.signal);if(pe.type==="aborted")return{shortCircuited:!0};if(pe.type==="error"){let Re=Dr(pe.partialMatches).route.id;return{matches:pe.partialMatches,loaderData:{},errors:{[Re]:pe.error}}}else if(pe.matches)R=pe.matches;else{let{error:Re,notFoundMatches:Jr,route:Fn}=Da(E.pathname);return{matches:Jr,loaderData:{},errors:{[Fn.id]:Re}}}}let be=c||i,[xe,_e]=Vu(e.history,v,R,de,E,h.v7_partialHydration&&Q===!0,h.v7_skipActionErrorRevalidation,te,me,ue,le,q,F,be,o,K);if(Ia(pe=>!(R&&R.some(Re=>Re.route.id===pe))||xe&&xe.some(Re=>Re.route.id===pe)),H=++G,xe.length===0&&_e.length===0){let pe=wc();return Ct(E,Ce({matches:R,loaderData:{},errors:K&&ut(K[1])?{[K[0]]:K[1].error}:null},Ju(K),pe?{fetchers:new Map(v.fetchers)}:{}),{flushSync:V}),{shortCircuited:!0}}if(Ve){let pe={};if(!D){pe.navigation=se;let Re=Ul(K);Re!==void 0&&(pe.actionData=Re)}_e.length>0&&(pe.fetchers=_a(_e)),we(pe,{flushSync:V})}_e.forEach(pe=>{It(pe.key),pe.controller&&I.set(pe.key,pe.controller)});let Xr=()=>_e.forEach(pe=>It(pe.key));L&&L.signal.addEventListener("abort",Xr);let{loaderResults:An,fetcherResults:Ht}=await Bl(v,R,xe,_e,N);if(N.signal.aborted)return{shortCircuited:!0};L&&L.signal.removeEventListener("abort",Xr),_e.forEach(pe=>I.delete(pe.key));let At=us(An);if(At)return await Dt(N,At.result,!0,{replace:Y}),{shortCircuited:!0};if(At=us(Ht),At)return F.add(At.key),await Dt(N,At.result,!0,{replace:Y}),{shortCircuited:!0};let{loaderData:Aa,errors:zn}=Ku(v,R,An,K,_e,Ht,ye);ye.forEach((pe,Re)=>{pe.subscribe(Jr=>{(Jr||pe.done)&&ye.delete(Re)})}),h.v7_partialHydration&&Q&&v.errors&&(zn=Ce({},v.errors,zn));let _r=wc(),Hl=Nc(H),Yl=_r||Hl||_e.length>0;return Ce({matches:R,loaderData:Aa,errors:zn},Yl?{fetchers:new Map(v.fetchers)}:{})}function Ul(N){if(N&&!ut(N[1]))return{[N[0]]:N[1].data};if(v.actionData)return Object.keys(v.actionData).length===0?null:v.actionData}function _a(N){return N.forEach(E=>{let R=v.fetchers.get(E.key),D=Qn(void 0,R?R.data:void 0);v.fetchers.set(E.key,D)}),new Map(v.fetchers)}function Ra(N,E,R,D){if(l)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");It(N);let B=(D&&D.flushSync)===!0,Z=c||i,re=co(v.location,v.matches,o,h.v7_prependBasename,R,h.v7_relativeSplatPath,E,D==null?void 0:D.relative),Y=Tr(Z,re,o),Q=$l(Y,Z,re);if(Q.active&&Q.matches&&(Y=Q.matches),!Y){X(N,E,nt(404,{pathname:re}),{flushSync:B});return}let{path:V,submission:K,error:se}=Wu(h.v7_normalizeFormMethod,!0,re,D);if(se){X(N,E,se,{flushSync:B});return}let de=tl(Y,V),Ve=(D&&D.preventScrollReset)===!0;if(K&&Lt(K.formMethod)){Ma(N,E,V,de,Y,Q.active,B,Ve,K);return}q.set(N,{routeId:E,path:V}),Ta(N,E,V,de,Y,Q.active,B,Ve,K)}async function Ma(N,E,R,D,B,Z,re,Y,Q){Dn(),q.delete(N);function V(Ie){if(!Ie.route.action&&!Ie.route.lazy){let Zr=nt(405,{method:Q.formMethod,pathname:R,routeId:E});return X(N,E,Zr,{flushSync:re}),!0}return!1}if(!Z&&V(D))return;let K=v.fetchers.get(N);gt(N,Ax(Q,K),{flushSync:re});let se=new AbortController,de=en(e.history,R,se.signal,Q);if(Z){let Ie=await Vl(B,new URL(de.url).pathname,de.signal,N);if(Ie.type==="aborted")return;if(Ie.type==="error"){X(N,E,Ie.error,{flushSync:re});return}else if(Ie.matches){if(B=Ie.matches,D=tl(B,R),V(D))return}else{X(N,E,nt(404,{pathname:R}),{flushSync:re});return}}I.set(N,se);let Ve=G,xe=(await Lr("action",v,de,[D],B,N))[D.route.id];if(de.signal.aborted){I.get(N)===se&&I.delete(N);return}if(h.v7_fetcherPersist&&le.has(N)){if(Fr(xe)||ut(xe)){gt(N,ir(void 0));return}}else{if(Fr(xe))if(I.delete(N),H>Ve){gt(N,ir(void 0));return}else return F.add(N),gt(N,Qn(Q)),Dt(de,xe,!1,{fetcherSubmission:Q,preventScrollReset:Y});if(ut(xe)){X(N,E,xe.error);return}}if(fr(xe))throw nt(400,{type:"defer-action"});let _e=v.navigation.location||v.location,Xr=en(e.history,_e,se.signal),An=c||i,Ht=v.navigation.state!=="idle"?Tr(An,v.navigation.location,o):v.matches;ae(Ht,"Didn't find any matches after fetcher action");let At=++G;P.set(N,At);let Aa=Qn(Q,xe.data);v.fetchers.set(N,Aa);let[zn,_r]=Vu(e.history,v,Ht,Q,_e,!1,h.v7_skipActionErrorRevalidation,te,me,ue,le,q,F,An,o,[D.route.id,xe]);_r.filter(Ie=>Ie.key!==N).forEach(Ie=>{let Zr=Ie.key,Pc=v.fetchers.get(Zr),mh=Qn(void 0,Pc?Pc.data:void 0);v.fetchers.set(Zr,mh),It(Zr),Ie.controller&&I.set(Zr,Ie.controller)}),we({fetchers:new Map(v.fetchers)});let Hl=()=>_r.forEach(Ie=>It(Ie.key));se.signal.addEventListener("abort",Hl);let{loaderResults:Yl,fetcherResults:pe}=await Bl(v,Ht,zn,_r,Xr);if(se.signal.aborted)return;se.signal.removeEventListener("abort",Hl),P.delete(N),I.delete(N),_r.forEach(Ie=>I.delete(Ie.key));let Re=us(Yl);if(Re)return Dt(Xr,Re.result,!1,{preventScrollReset:Y});if(Re=us(pe),Re)return F.add(Re.key),Dt(Xr,Re.result,!1,{preventScrollReset:Y});let{loaderData:Jr,errors:Fn}=Ku(v,Ht,Yl,void 0,_r,pe,ye);if(v.fetchers.has(N)){let Ie=ir(xe.data);v.fetchers.set(N,Ie)}Nc(At),v.navigation.state==="loading"&&At>H?(ae(_,"Expected pending action"),L&&L.abort(),Ct(v.navigation.location,{matches:Ht,loaderData:Jr,errors:Fn,fetchers:new Map(v.fetchers)})):(we({errors:Fn,loaderData:Xu(v.loaderData,Jr,Ht,Fn),fetchers:new Map(v.fetchers)}),te=!1)}async function Ta(N,E,R,D,B,Z,re,Y,Q){let V=v.fetchers.get(N);gt(N,Qn(Q,V?V.data:void 0),{flushSync:re});let K=new AbortController,se=en(e.history,R,K.signal);if(Z){let xe=await Vl(B,new URL(se.url).pathname,se.signal,N);if(xe.type==="aborted")return;if(xe.type==="error"){X(N,E,xe.error,{flushSync:re});return}else if(xe.matches)B=xe.matches,D=tl(B,R);else{X(N,E,nt(404,{pathname:R}),{flushSync:re});return}}I.set(N,K);let de=G,be=(await Lr("loader",v,se,[D],B,N))[D.route.id];if(fr(be)&&(be=await mc(be,se.signal,!0)||be),I.get(N)===K&&I.delete(N),!se.signal.aborted){if(le.has(N)){gt(N,ir(void 0));return}if(Fr(be))if(H>de){gt(N,ir(void 0));return}else{F.add(N),await Dt(se,be,!1,{preventScrollReset:Y});return}if(ut(be)){X(N,E,be.error);return}ae(!fr(be),"Unhandled fetcher deferred data"),gt(N,ir(be.data))}}async function Dt(N,E,R,D){let{submission:B,fetcherSubmission:Z,preventScrollReset:re,replace:Y}=D===void 0?{}:D;E.response.headers.has("X-Remix-Revalidate")&&(te=!0);let Q=E.response.headers.get("Location");ae(Q,"Expected a Location header on the redirect Response"),Q=Gu(Q,new URL(N.url),o);let V=Pl(v.location,Q,{_isRedirect:!0});if(r){let xe=!1;if(E.response.headers.has("X-Remix-Reload-Document"))xe=!0;else if(dc.test(Q)){const _e=e.history.createURL(Q);xe=_e.origin!==t.location.origin||rr(_e.pathname,o)==null}if(xe){Y?t.location.replace(Q):t.location.assign(Q);return}}L=null;let K=Y===!0||E.response.headers.has("X-Remix-Replace")?Ae.Replace:Ae.Push,{formMethod:se,formAction:de,formEncType:Ve}=v.navigation;!B&&!Z&&se&&de&&Ve&&(B=ed(v.navigation));let be=B||Z;if(xx.has(E.response.status)&&be&&Lt(be.formMethod))await Fe(K,V,{submission:Ce({},be,{formAction:Q}),preventScrollReset:re||M,enableViewTransition:R?O:void 0});else{let xe=di(V,B);await Fe(K,V,{overrideNavigation:xe,fetcherSubmission:Z,preventScrollReset:re||M,enableViewTransition:R?O:void 0})}}async function Lr(N,E,R,D,B,Z){let re,Y={};try{re=await kx(u,N,E,R,D,B,Z,a,s)}catch(Q){return D.forEach(V=>{Y[V.route.id]={type:ge.error,error:Q}}),Y}for(let[Q,V]of Object.entries(re))if(_x(V)){let K=V.result;Y[Q]={type:ge.redirect,response:Ex(K,R,Q,B,o,h.v7_relativeSplatPath)}}else Y[Q]=await Sx(V);return Y}async function Bl(N,E,R,D,B){let Z=N.matches,re=Lr("loader",N,B,R,E,null),Y=Promise.all(D.map(async K=>{if(K.matches&&K.match&&K.controller){let de=(await Lr("loader",N,en(e.history,K.path,K.controller.signal),[K.match],K.matches,K.key))[K.match.route.id];return{[K.key]:de}}else return Promise.resolve({[K.key]:{type:ge.error,error:nt(404,{pathname:K.path})}})})),Q=await re,V=(await Y).reduce((K,se)=>Object.assign(K,se),{});return await Promise.all([Tx(E,Q,B.signal,Z,N.loaderData),Dx(E,V,D)]),{loaderResults:Q,fetcherResults:V}}function Dn(){te=!0,me.push(...Ia()),q.forEach((N,E)=>{I.has(E)&&ue.add(E),It(E)})}function gt(N,E,R){R===void 0&&(R={}),v.fetchers.set(N,E),we({fetchers:new Map(v.fetchers)},{flushSync:(R&&R.flushSync)===!0})}function X(N,E,R,D){D===void 0&&(D={});let B=Dr(v.matches,E);$e(N),we({errors:{[B.route.id]:R},fetchers:new Map(v.fetchers)},{flushSync:(D&&D.flushSync)===!0})}function ie(N){return he.set(N,(he.get(N)||0)+1),le.has(N)&&le.delete(N),v.fetchers.get(N)||gx}function $e(N){let E=v.fetchers.get(N);I.has(N)&&!(E&&E.state==="loading"&&P.has(N))&&It(N),q.delete(N),P.delete(N),F.delete(N),h.v7_fetcherPersist&&le.delete(N),ue.delete(N),v.fetchers.delete(N)}function In(N){let E=(he.get(N)||0)-1;E<=0?(he.delete(N),le.add(N),h.v7_fetcherPersist||$e(N)):he.set(N,E),we({fetchers:new Map(v.fetchers)})}function It(N){let E=I.get(N);E&&(E.abort(),I.delete(N))}function Ol(N){for(let E of N){let R=ie(E),D=ir(R.data);v.fetchers.set(E,D)}}function wc(){let N=[],E=!1;for(let R of F){let D=v.fetchers.get(R);ae(D,"Expected fetcher: "+R),D.state==="loading"&&(F.delete(R),N.push(R),E=!0)}return Ol(N),E}function Nc(N){let E=[];for(let[R,D]of P)if(D<N){let B=v.fetchers.get(R);ae(B,"Expected fetcher: "+R),B.state==="loading"&&(It(R),P.delete(R),E.push(R))}return Ol(E),E.length>0}function ih(N,E){let R=v.blockers.get(N)||Gn;return U.get(N)!==E&&U.set(N,E),R}function kc(N){v.blockers.delete(N),U.delete(N)}function Wl(N,E){let R=v.blockers.get(N)||Gn;ae(R.state==="unblocked"&&E.state==="blocked"||R.state==="blocked"&&E.state==="blocked"||R.state==="blocked"&&E.state==="proceeding"||R.state==="blocked"&&E.state==="unblocked"||R.state==="proceeding"&&E.state==="unblocked","Invalid blocker state transition: "+R.state+" -> "+E.state);let D=new Map(v.blockers);D.set(N,E),we({blockers:D})}function Cc(N){let{currentLocation:E,nextLocation:R,historyAction:D}=N;if(U.size===0)return;U.size>1&&Yr(!1,"A router only supports one blocker at a time");let B=Array.from(U.entries()),[Z,re]=B[B.length-1],Y=v.blockers.get(Z);if(!(Y&&Y.state==="proceeding")&&re({currentLocation:E,nextLocation:R,historyAction:D}))return Z}function Da(N){let E=nt(404,{pathname:N}),R=c||i,{matches:D,route:B}=Zu(R);return Ia(),{notFoundMatches:D,route:B,error:E}}function Ia(N){let E=[];return ye.forEach((R,D)=>{(!N||N(D))&&(R.cancel(),E.push(D),ye.delete(D))}),E}function oh(N,E,R){if(j=N,C=E,b=R||null,!f&&v.navigation===ui){f=!0;let D=Ec(v.location,v.matches);D!=null&&we({restoreScrollPosition:D})}return()=>{j=null,C=null,b=null}}function Sc(N,E){return b&&b(N,E.map(D=>Gp(D,v.loaderData)))||N.key}function ch(N,E){if(j&&C){let R=Sc(N,E);j[R]=C()}}function Ec(N,E){if(j){let R=Sc(N,E),D=j[R];if(typeof D=="number")return D}return null}function $l(N,E,R){if(m)if(N){if(Object.keys(N[0].params).length>0)return{active:!0,matches:Es(E,R,o,!0)}}else return{active:!0,matches:Es(E,R,o,!0)||[]};return{active:!1,matches:null}}async function Vl(N,E,R,D){if(!m)return{type:"success",matches:N};let B=N;for(;;){let Z=c==null,re=c||i,Y=a;try{await m({signal:R,path:E,matches:B,fetcherKey:D,patch:(K,se)=>{R.aborted||Yu(K,se,re,Y,s)}})}catch(K){return{type:"error",error:K,partialMatches:B}}finally{Z&&!R.aborted&&(i=[...i])}if(R.aborted)return{type:"aborted"};let Q=Tr(re,E,o);if(Q)return{type:"success",matches:Q};let V=Es(re,E,o,!0);if(!V||B.length===V.length&&B.every((K,se)=>K.route.id===V[se].route.id))return{type:"success",matches:null};B=V}}function uh(N){a={},c=Zs(N,s,void 0,a)}function dh(N,E){let R=c==null;Yu(N,E,c||i,a,s),R&&(i=[...i],we({}))}return S={get basename(){return o},get future(){return h},get state(){return v},get routes(){return i},get window(){return t},initialize:ne,subscribe:J,enableScrollRestoration:oh,navigate:Vt,fetch:Ra,revalidate:La,createHref:N=>e.history.createHref(N),encodeLocation:N=>e.history.encodeLocation(N),getFetcher:ie,deleteFetcher:In,dispose:ce,getBlocker:ih,deleteBlocker:kc,patchRoutes:dh,_internalFetchControllers:I,_internalActiveDeferreds:ye,_internalSetRoutes:uh},S}function bx(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function co(e,t,r,l,s,a,i,c){let o,u;if(i){o=[];for(let h of t)if(o.push(h),h.route.id===i){u=h;break}}else o=t,u=t[t.length-1];let m=ka(s||".",Na(o,a),rr(e.pathname,r)||e.pathname,c==="path");if(s==null&&(m.search=e.search,m.hash=e.hash),(s==null||s===""||s===".")&&u){let h=hc(m.search);if(u.route.index&&!h)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&h){let x=new URLSearchParams(m.search),y=x.getAll("index");x.delete("index"),y.filter(b=>b).forEach(b=>x.append("index",b));let j=x.toString();m.search=j?"?"+j:""}}return l&&r!=="/"&&(m.pathname=m.pathname==="/"?r:Jt([r,m.pathname])),Gr(m)}function Wu(e,t,r,l){if(!l||!bx(l))return{path:r};if(l.formMethod&&!Mx(l.formMethod))return{path:r,error:nt(405,{method:l.formMethod})};let s=()=>({path:r,error:nt(400,{type:"invalid-body"})}),a=l.formMethod||"get",i=e?a.toUpperCase():a.toLowerCase(),c=Im(r);if(l.body!==void 0){if(l.formEncType==="text/plain"){if(!Lt(i))return s();let x=typeof l.body=="string"?l.body:l.body instanceof FormData||l.body instanceof URLSearchParams?Array.from(l.body.entries()).reduce((y,j)=>{let[b,C]=j;return""+y+b+"="+C+`
`},""):String(l.body);return{path:r,submission:{formMethod:i,formAction:c,formEncType:l.formEncType,formData:void 0,json:void 0,text:x}}}else if(l.formEncType==="application/json"){if(!Lt(i))return s();try{let x=typeof l.body=="string"?JSON.parse(l.body):l.body;return{path:r,submission:{formMethod:i,formAction:c,formEncType:l.formEncType,formData:void 0,json:x,text:void 0}}}catch{return s()}}}ae(typeof FormData=="function","FormData is not available in this environment");let o,u;if(l.formData)o=mo(l.formData),u=l.formData;else if(l.body instanceof FormData)o=mo(l.body),u=l.body;else if(l.body instanceof URLSearchParams)o=l.body,u=Qu(o);else if(l.body==null)o=new URLSearchParams,u=new FormData;else try{o=new URLSearchParams(l.body),u=Qu(o)}catch{return s()}let m={formMethod:i,formAction:c,formEncType:l&&l.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Lt(m.formMethod))return{path:r,submission:m};let h=Pr(r);return t&&h.search&&hc(h.search)&&o.append("index",""),h.search="?"+o,{path:Gr(h),submission:m}}function $u(e,t,r){r===void 0&&(r=!1);let l=e.findIndex(s=>s.route.id===t);return l>=0?e.slice(0,r?l+1:l):e}function Vu(e,t,r,l,s,a,i,c,o,u,m,h,x,y,j,b){let C=b?ut(b[1])?b[1].error:b[1].data:void 0,f=e.createURL(t.location),d=e.createURL(s),p=r;a&&t.errors?p=$u(r,Object.keys(t.errors)[0],!0):b&&ut(b[1])&&(p=$u(r,b[0]));let w=b?b[1].statusCode:void 0,k=i&&w&&w>=400,S=p.filter((_,M)=>{let{route:L}=_;if(L.lazy)return!0;if(L.loader==null)return!1;if(a)return uo(L,t.loaderData,t.errors);if(jx(t.loaderData,t.matches[M],_)||o.some(ee=>ee===_.route.id))return!0;let O=t.matches[M],$=_;return Hu(_,Ce({currentUrl:f,currentParams:O.params,nextUrl:d,nextParams:$.params},l,{actionResult:C,actionStatus:w,defaultShouldRevalidate:k?!1:c||f.pathname+f.search===d.pathname+d.search||f.search!==d.search||Tm(O,$)}))}),v=[];return h.forEach((_,M)=>{if(a||!r.some(z=>z.route.id===_.routeId)||m.has(M))return;let L=Tr(y,_.path,j);if(!L){v.push({key:M,routeId:_.routeId,path:_.path,matches:null,match:null,controller:null});return}let O=t.fetchers.get(M),$=tl(L,_.path),ee=!1;x.has(M)?ee=!1:u.has(M)?(u.delete(M),ee=!0):O&&O.state!=="idle"&&O.data===void 0?ee=c:ee=Hu($,Ce({currentUrl:f,currentParams:t.matches[t.matches.length-1].params,nextUrl:d,nextParams:r[r.length-1].params},l,{actionResult:C,actionStatus:w,defaultShouldRevalidate:k?!1:c})),ee&&v.push({key:M,routeId:_.routeId,path:_.path,matches:L,match:$,controller:new AbortController})}),[S,v]}function uo(e,t,r){if(e.lazy)return!0;if(!e.loader)return!1;let l=t!=null&&t[e.id]!==void 0,s=r!=null&&r[e.id]!==void 0;return!l&&s?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!l&&!s}function jx(e,t,r){let l=!t||r.route.id!==t.route.id,s=e[r.route.id]===void 0;return l||s}function Tm(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Hu(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function Yu(e,t,r,l,s){var a;let i;if(e){let u=l[e];ae(u,"No route found to patch children into: routeId = "+e),u.children||(u.children=[]),i=u.children}else i=r;let c=t.filter(u=>!i.some(m=>Dm(u,m))),o=Zs(c,s,[e||"_","patch",String(((a=i)==null?void 0:a.length)||"0")],l);i.push(...o)}function Dm(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,l)=>{var s;return(s=t.children)==null?void 0:s.some(a=>Dm(r,a))}):!1}async function wx(e,t,r){if(!e.lazy)return;let l=await e.lazy();if(!e.lazy)return;let s=r[e.id];ae(s,"No route found in manifest");let a={};for(let i in l){let o=s[i]!==void 0&&i!=="hasErrorBoundary";Yr(!o,'Route "'+s.id+'" has a static property "'+i+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+i+'" will be ignored.')),!o&&!Hp.has(i)&&(a[i]=l[i])}Object.assign(s,a),Object.assign(s,Ce({},t(s),{lazy:void 0}))}async function Nx(e){let{matches:t}=e,r=t.filter(s=>s.shouldLoad);return(await Promise.all(r.map(s=>s.resolve()))).reduce((s,a,i)=>Object.assign(s,{[r[i].route.id]:a}),{})}async function kx(e,t,r,l,s,a,i,c,o,u){let m=a.map(y=>y.route.lazy?wx(y.route,o,c):void 0),h=a.map((y,j)=>{let b=m[j],C=s.some(d=>d.route.id===y.route.id);return Ce({},y,{shouldLoad:C,resolve:async d=>(d&&l.method==="GET"&&(y.route.lazy||y.route.loader)&&(C=!0),C?Cx(t,l,y,b,d,u):Promise.resolve({type:ge.data,result:void 0}))})}),x=await e({matches:h,request:l,params:a[0].params,fetcherKey:i,context:u});try{await Promise.all(m)}catch{}return x}async function Cx(e,t,r,l,s,a){let i,c,o=u=>{let m,h=new Promise((j,b)=>m=b);c=()=>m(),t.signal.addEventListener("abort",c);let x=j=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+r.route.id+"]"))):u({request:t,params:r.params,context:a},...j!==void 0?[j]:[]),y=(async()=>{try{return{type:"data",result:await(s?s(b=>x(b)):x())}}catch(j){return{type:"error",result:j}}})();return Promise.race([y,h])};try{let u=r.route[e];if(l)if(u){let m,[h]=await Promise.all([o(u).catch(x=>{m=x}),l]);if(m!==void 0)throw m;i=h}else if(await l,u=r.route[e],u)i=await o(u);else if(e==="action"){let m=new URL(t.url),h=m.pathname+m.search;throw nt(405,{method:t.method,pathname:h,routeId:r.route.id})}else return{type:ge.data,result:void 0};else if(u)i=await o(u);else{let m=new URL(t.url),h=m.pathname+m.search;throw nt(404,{pathname:h})}ae(i.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:ge.error,result:u}}finally{c&&t.signal.removeEventListener("abort",c)}return i}async function Sx(e){let{result:t,type:r}=e;if(Am(t)){let h;try{let x=t.headers.get("Content-Type");x&&/\bapplication\/json\b/.test(x)?t.body==null?h=null:h=await t.json():h=await t.text()}catch(x){return{type:ge.error,error:x}}return r===ge.error?{type:ge.error,error:new ea(t.status,t.statusText,h),statusCode:t.status,headers:t.headers}:{type:ge.data,data:h,statusCode:t.status,headers:t.headers}}if(r===ge.error){if(qu(t)){var l,s;if(t.data instanceof Error){var a,i;return{type:ge.error,error:t.data,statusCode:(a=t.init)==null?void 0:a.status,headers:(i=t.init)!=null&&i.headers?new Headers(t.init.headers):void 0}}return{type:ge.error,error:new ea(((l=t.init)==null?void 0:l.status)||500,void 0,t.data),statusCode:Ll(t)?t.status:void 0,headers:(s=t.init)!=null&&s.headers?new Headers(t.init.headers):void 0}}return{type:ge.error,error:t,statusCode:Ll(t)?t.status:void 0}}if(Rx(t)){var c,o;return{type:ge.deferred,deferredData:t,statusCode:(c=t.init)==null?void 0:c.status,headers:((o=t.init)==null?void 0:o.headers)&&new Headers(t.init.headers)}}if(qu(t)){var u,m;return{type:ge.data,data:t.data,statusCode:(u=t.init)==null?void 0:u.status,headers:(m=t.init)!=null&&m.headers?new Headers(t.init.headers):void 0}}return{type:ge.data,data:t}}function Ex(e,t,r,l,s,a){let i=e.headers.get("Location");if(ae(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!dc.test(i)){let c=l.slice(0,l.findIndex(o=>o.route.id===r)+1);i=co(new URL(t.url),c,s,!0,i,a),e.headers.set("Location",i)}return e}function Gu(e,t,r){if(dc.test(e)){let l=e,s=l.startsWith("//")?new URL(t.protocol+l):new URL(l),a=rr(s.pathname,r)!=null;if(s.origin===t.origin&&a)return s.pathname+s.search+s.hash}return e}function en(e,t,r,l){let s=e.createURL(Im(t)).toString(),a={signal:r};if(l&&Lt(l.formMethod)){let{formMethod:i,formEncType:c}=l;a.method=i.toUpperCase(),c==="application/json"?(a.headers=new Headers({"Content-Type":c}),a.body=JSON.stringify(l.json)):c==="text/plain"?a.body=l.text:c==="application/x-www-form-urlencoded"&&l.formData?a.body=mo(l.formData):a.body=l.formData}return new Request(s,a)}function mo(e){let t=new URLSearchParams;for(let[r,l]of e.entries())t.append(r,typeof l=="string"?l:l.name);return t}function Qu(e){let t=new FormData;for(let[r,l]of e.entries())t.append(r,l);return t}function Px(e,t,r,l,s){let a={},i=null,c,o=!1,u={},m=r&&ut(r[1])?r[1].error:void 0;return e.forEach(h=>{if(!(h.route.id in t))return;let x=h.route.id,y=t[x];if(ae(!Fr(y),"Cannot handle redirect results in processLoaderData"),ut(y)){let j=y.error;m!==void 0&&(j=m,m=void 0),i=i||{};{let b=Dr(e,x);i[b.route.id]==null&&(i[b.route.id]=j)}a[x]=void 0,o||(o=!0,c=Ll(y.error)?y.error.status:500),y.headers&&(u[x]=y.headers)}else fr(y)?(l.set(x,y.deferredData),a[x]=y.deferredData.data,y.statusCode!=null&&y.statusCode!==200&&!o&&(c=y.statusCode),y.headers&&(u[x]=y.headers)):(a[x]=y.data,y.statusCode&&y.statusCode!==200&&!o&&(c=y.statusCode),y.headers&&(u[x]=y.headers))}),m!==void 0&&r&&(i={[r[0]]:m},a[r[0]]=void 0),{loaderData:a,errors:i,statusCode:c||200,loaderHeaders:u}}function Ku(e,t,r,l,s,a,i){let{loaderData:c,errors:o}=Px(t,r,l,i);return s.forEach(u=>{let{key:m,match:h,controller:x}=u,y=a[m];if(ae(y,"Did not find corresponding fetcher result"),!(x&&x.signal.aborted))if(ut(y)){let j=Dr(e.matches,h==null?void 0:h.route.id);o&&o[j.route.id]||(o=Ce({},o,{[j.route.id]:y.error})),e.fetchers.delete(m)}else if(Fr(y))ae(!1,"Unhandled fetcher revalidation redirect");else if(fr(y))ae(!1,"Unhandled fetcher deferred data");else{let j=ir(y.data);e.fetchers.set(m,j)}}),{loaderData:c,errors:o}}function Xu(e,t,r,l){let s=Ce({},t);for(let a of r){let i=a.route.id;if(t.hasOwnProperty(i)?t[i]!==void 0&&(s[i]=t[i]):e[i]!==void 0&&a.route.loader&&(s[i]=e[i]),l&&l.hasOwnProperty(i))break}return s}function Ju(e){return e?ut(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Dr(e,t){return(t?e.slice(0,e.findIndex(l=>l.route.id===t)+1):[...e]).reverse().find(l=>l.route.hasErrorBoundary===!0)||e[0]}function Zu(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function nt(e,t){let{pathname:r,routeId:l,method:s,type:a,message:i}=t===void 0?{}:t,c="Unknown Server Error",o="Unknown @remix-run/router error";return e===400?(c="Bad Request",s&&r&&l?o="You made a "+s+' request to "'+r+'" but '+('did not provide a `loader` for route "'+l+'", ')+"so there is no way to handle the request.":a==="defer-action"?o="defer() is not supported in actions":a==="invalid-body"&&(o="Unable to encode submission body")):e===403?(c="Forbidden",o='Route "'+l+'" does not match URL "'+r+'"'):e===404?(c="Not Found",o='No route matches URL "'+r+'"'):e===405&&(c="Method Not Allowed",s&&r&&l?o="You made a "+s.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+l+'", ')+"so there is no way to handle the request.":s&&(o='Invalid request method "'+s.toUpperCase()+'"')),new ea(e||500,c,new Error(o),!0)}function us(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[l,s]=t[r];if(Fr(s))return{key:l,result:s}}}function Im(e){let t=typeof e=="string"?Pr(e):e;return Gr(Ce({},t,{hash:""}))}function Lx(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function _x(e){return Am(e.result)&&px.has(e.result.status)}function fr(e){return e.type===ge.deferred}function ut(e){return e.type===ge.error}function Fr(e){return(e&&e.type)===ge.redirect}function qu(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Rx(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function Am(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Mx(e){return fx.has(e.toLowerCase())}function Lt(e){return mx.has(e.toLowerCase())}async function Tx(e,t,r,l,s){let a=Object.entries(t);for(let i=0;i<a.length;i++){let[c,o]=a[i],u=e.find(x=>(x==null?void 0:x.route.id)===c);if(!u)continue;let m=l.find(x=>x.route.id===u.route.id),h=m!=null&&!Tm(m,u)&&(s&&s[u.route.id])!==void 0;fr(o)&&h&&await mc(o,r,!1).then(x=>{x&&(t[c]=x)})}}async function Dx(e,t,r){for(let l=0;l<r.length;l++){let{key:s,routeId:a,controller:i}=r[l],c=t[s];e.find(u=>(u==null?void 0:u.route.id)===a)&&fr(c)&&(ae(i,"Expected an AbortController for revalidating fetcher deferred result"),await mc(c,i.signal,!0).then(u=>{u&&(t[s]=u)}))}}async function mc(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:ge.data,data:e.deferredData.unwrappedData}}catch(s){return{type:ge.error,error:s}}return{type:ge.data,data:e.deferredData.data}}}function hc(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function tl(e,t){let r=typeof t=="string"?Pr(t).search:t.search;if(e[e.length-1].route.index&&hc(r||""))return e[e.length-1];let l=_m(e);return l[l.length-1]}function ed(e){let{formMethod:t,formAction:r,formEncType:l,text:s,formData:a,json:i}=e;if(!(!t||!r||!l)){if(s!=null)return{formMethod:t,formAction:r,formEncType:l,formData:void 0,json:void 0,text:s};if(a!=null)return{formMethod:t,formAction:r,formEncType:l,formData:a,json:void 0,text:void 0};if(i!==void 0)return{formMethod:t,formAction:r,formEncType:l,formData:void 0,json:i,text:void 0}}}function di(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Ix(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Qn(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Ax(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function ir(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function zx(e,t){try{let r=e.sessionStorage.getItem(Mm);if(r){let l=JSON.parse(r);for(let[s,a]of Object.entries(l||{}))a&&Array.isArray(a)&&t.set(s,new Set(a||[]))}}catch{}}function Fx(e,t){if(t.size>0){let r={};for(let[l,s]of t)r[l]=[...s];try{e.sessionStorage.setItem(Mm,JSON.stringify(r))}catch(l){Yr(!1,"Failed to save applied view transitions in sessionStorage ("+l+").")}}}/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ta(){return ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},ta.apply(this,arguments)}const Il=g.createContext(null),fc=g.createContext(null),lr=g.createContext(null),pc=g.createContext(null),sr=g.createContext({outlet:null,matches:[],isDataRoute:!1}),zm=g.createContext(null);function Ux(e,t){let{relative:r}=t===void 0?{}:t;Mn()||ae(!1);let{basename:l,navigator:s}=g.useContext(lr),{hash:a,pathname:i,search:c}=Ca(e,{relative:r}),o=i;return l!=="/"&&(o=i==="/"?l:Jt([l,i])),s.createHref({pathname:o,search:c,hash:a})}function Mn(){return g.useContext(pc)!=null}function Wt(){return Mn()||ae(!1),g.useContext(pc).location}function Fm(e){g.useContext(lr).static||g.useLayoutEffect(e)}function xt(){let{isDataRoute:e}=g.useContext(sr);return e?qx():Bx()}function Bx(){Mn()||ae(!1);let e=g.useContext(Il),{basename:t,future:r,navigator:l}=g.useContext(lr),{matches:s}=g.useContext(sr),{pathname:a}=Wt(),i=JSON.stringify(Na(s,r.v7_relativeSplatPath)),c=g.useRef(!1);return Fm(()=>{c.current=!0}),g.useCallback(function(u,m){if(m===void 0&&(m={}),!c.current)return;if(typeof u=="number"){l.go(u);return}let h=ka(u,JSON.parse(i),a,m.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Jt([t,h.pathname])),(m.replace?l.replace:l.push)(h,m.state,m)},[t,l,i,a,e])}const Ox=g.createContext(null);function Wx(e){let t=g.useContext(sr).outlet;return t&&g.createElement(Ox.Provider,{value:e},t)}function Ca(e,t){let{relative:r}=t===void 0?{}:t,{future:l}=g.useContext(lr),{matches:s}=g.useContext(sr),{pathname:a}=Wt(),i=JSON.stringify(Na(s,l.v7_relativeSplatPath));return g.useMemo(()=>ka(e,JSON.parse(i),a,r==="path"),[e,i,a,r])}function $x(e,t,r,l){Mn()||ae(!1);let{navigator:s}=g.useContext(lr),{matches:a}=g.useContext(sr),i=a[a.length-1],c=i?i.params:{};i&&i.pathname;let o=i?i.pathnameBase:"/";i&&i.route;let u=Wt(),m;m=u;let h=m.pathname||"/",x=h;if(o!=="/"){let b=o.replace(/^\//,"").split("/");x="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=Tr(e,{pathname:x});return Qx(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:Jt([o,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?o:Jt([o,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,r,l)}function Vx(){let e=Zx(),t=Ll(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:s},r):null,null)}const Hx=g.createElement(Vx,null);class Yx extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?g.createElement(sr.Provider,{value:this.props.routeContext},g.createElement(zm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Gx(e){let{routeContext:t,match:r,children:l}=e,s=g.useContext(Il);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(sr.Provider,{value:t},l)}function Qx(e,t,r,l){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),l===void 0&&(l=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=l)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,c=(s=r)==null?void 0:s.errors;if(c!=null){let m=i.findIndex(h=>h.route.id&&(c==null?void 0:c[h.route.id])!==void 0);m>=0||ae(!1),i=i.slice(0,Math.min(i.length,m+1))}let o=!1,u=-1;if(r&&l&&l.v7_partialHydration)for(let m=0;m<i.length;m++){let h=i[m];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=m),h.route.id){let{loaderData:x,errors:y}=r,j=h.route.loader&&x[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||j){o=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((m,h,x)=>{let y,j=!1,b=null,C=null;r&&(y=c&&h.route.id?c[h.route.id]:void 0,b=h.route.errorElement||Hx,o&&(u<0&&x===0?(eg("route-fallback"),j=!0,C=null):u===x&&(j=!0,C=h.route.hydrateFallbackElement||null)));let f=t.concat(i.slice(0,x+1)),d=()=>{let p;return y?p=b:j?p=C:h.route.Component?p=g.createElement(h.route.Component,null):h.route.element?p=h.route.element:p=m,g.createElement(Gx,{match:h,routeContext:{outlet:m,matches:f,isDataRoute:r!=null},children:p})};return r&&(h.route.ErrorBoundary||h.route.errorElement||x===0)?g.createElement(Yx,{location:r.location,revalidation:r.revalidation,component:b,error:y,children:d(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):d()},null)}var Um=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Um||{}),Bm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Bm||{});function Kx(e){let t=g.useContext(Il);return t||ae(!1),t}function Xx(e){let t=g.useContext(fc);return t||ae(!1),t}function Jx(e){let t=g.useContext(sr);return t||ae(!1),t}function Om(e){let t=Jx(),r=t.matches[t.matches.length-1];return r.route.id||ae(!1),r.route.id}function Zx(){var e;let t=g.useContext(zm),r=Xx(Bm.UseRouteError),l=Om();return t!==void 0?t:(e=r.errors)==null?void 0:e[l]}function qx(){let{router:e}=Kx(Um.UseNavigateStable),t=Om(),r=g.useRef(!1);return Fm(()=>{r.current=!0}),g.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ta({fromRouteId:t},a)))},[e,t])}const td={};function eg(e,t,r){td[e]||(td[e]=!0)}function tg(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function ho(e){let{to:t,replace:r,state:l,relative:s}=e;Mn()||ae(!1);let{future:a,static:i}=g.useContext(lr),{matches:c}=g.useContext(sr),{pathname:o}=Wt(),u=xt(),m=ka(t,Na(c,a.v7_relativeSplatPath),o,s==="path"),h=JSON.stringify(m);return g.useEffect(()=>u(JSON.parse(h),{replace:r,state:l,relative:s}),[u,h,s,r,l]),null}function rg(e){return Wx(e.context)}function ng(e){let{basename:t="/",children:r=null,location:l,navigationType:s=Ae.Pop,navigator:a,static:i=!1,future:c}=e;Mn()&&ae(!1);let o=t.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:o,navigator:a,static:i,future:ta({v7_relativeSplatPath:!1},c)}),[o,c,a,i]);typeof l=="string"&&(l=Pr(l));let{pathname:m="/",search:h="",hash:x="",state:y=null,key:j="default"}=l,b=g.useMemo(()=>{let C=rr(m,o);return C==null?null:{location:{pathname:C,search:h,hash:x,state:y,key:j},navigationType:s}},[o,m,h,x,y,j,s]);return b==null?null:g.createElement(lr.Provider,{value:u},g.createElement(pc.Provider,{children:r,value:b}))}new Promise(()=>{});function lg(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:g.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:g.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:g.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pn(){return Pn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},Pn.apply(this,arguments)}function Wm(e,t){if(e==null)return{};var r={},l=Object.keys(e),s,a;for(a=0;a<l.length;a++)s=l[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function sg(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ag(e,t){return e.button===0&&(!t||t==="_self")&&!sg(e)}function fo(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let l=e[r];return t.concat(Array.isArray(l)?l.map(s=>[r,s]):[[r,l]])},[]))}function ig(e,t){let r=fo(e);return t&&t.forEach((l,s)=>{r.has(s)||t.getAll(s).forEach(a=>{r.append(s,a)})}),r}const og=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],cg=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],ug="6";try{window.__reactRouterVersion=ug}catch{}function dg(e,t){return yx({basename:void 0,future:Pn({},void 0,{v7_prependBasename:!0}),history:Wp({window:void 0}),hydrationData:mg(),routes:e,mapRouteProperties:lg,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function mg(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Pn({},t,{errors:hg(t.errors)})),t}function hg(e){if(!e)return null;let t=Object.entries(e),r={};for(let[l,s]of t)if(s&&s.__type==="RouteErrorResponse")r[l]=new ea(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let a=window[s.__subType];if(typeof a=="function")try{let i=new a(s.message);i.stack="",r[l]=i}catch{}}if(r[l]==null){let a=new Error(s.message);a.stack="",r[l]=a}}else r[l]=s;return r}const $m=g.createContext({isTransitioning:!1}),fg=g.createContext(new Map),pg="startTransition",rd=Ph[pg],xg="flushSync",nd=Op[xg];function gg(e){rd?rd(e):e()}function Kn(e){nd?nd(e):e()}class vg{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=l=>{this.status==="pending"&&(this.status="resolved",t(l))},this.reject=l=>{this.status==="pending"&&(this.status="rejected",r(l))}})}}function yg(e){let{fallbackElement:t,router:r,future:l}=e,[s,a]=g.useState(r.state),[i,c]=g.useState(),[o,u]=g.useState({isTransitioning:!1}),[m,h]=g.useState(),[x,y]=g.useState(),[j,b]=g.useState(),C=g.useRef(new Map),{v7_startTransition:f}=l||{},d=g.useCallback(_=>{f?gg(_):_()},[f]),p=g.useCallback((_,M)=>{let{deletedFetchers:L,flushSync:O,viewTransitionOpts:$}=M;_.fetchers.forEach((z,te)=>{z.data!==void 0&&C.current.set(te,z.data)}),L.forEach(z=>C.current.delete(z));let ee=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!$||ee){O?Kn(()=>a(_)):d(()=>a(_));return}if(O){Kn(()=>{x&&(m&&m.resolve(),x.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:$.currentLocation,nextLocation:$.nextLocation})});let z=r.window.document.startViewTransition(()=>{Kn(()=>a(_))});z.finished.finally(()=>{Kn(()=>{h(void 0),y(void 0),c(void 0),u({isTransitioning:!1})})}),Kn(()=>y(z));return}x?(m&&m.resolve(),x.skipTransition(),b({state:_,currentLocation:$.currentLocation,nextLocation:$.nextLocation})):(c(_),u({isTransitioning:!0,flushSync:!1,currentLocation:$.currentLocation,nextLocation:$.nextLocation}))},[r.window,x,m,C,d]);g.useLayoutEffect(()=>r.subscribe(p),[r,p]),g.useEffect(()=>{o.isTransitioning&&!o.flushSync&&h(new vg)},[o]),g.useEffect(()=>{if(m&&i&&r.window){let _=i,M=m.promise,L=r.window.document.startViewTransition(async()=>{d(()=>a(_)),await M});L.finished.finally(()=>{h(void 0),y(void 0),c(void 0),u({isTransitioning:!1})}),y(L)}},[d,i,m,r.window]),g.useEffect(()=>{m&&i&&s.location.key===i.location.key&&m.resolve()},[m,x,s.location,i]),g.useEffect(()=>{!o.isTransitioning&&j&&(c(j.state),u({isTransitioning:!0,flushSync:!1,currentLocation:j.currentLocation,nextLocation:j.nextLocation}),b(void 0))},[o.isTransitioning,j]),g.useEffect(()=>{},[]);let w=g.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:_=>r.navigate(_),push:(_,M,L)=>r.navigate(_,{state:M,preventScrollReset:L==null?void 0:L.preventScrollReset}),replace:(_,M,L)=>r.navigate(_,{replace:!0,state:M,preventScrollReset:L==null?void 0:L.preventScrollReset})}),[r]),k=r.basename||"/",S=g.useMemo(()=>({router:r,navigator:w,static:!1,basename:k}),[r,w,k]),v=g.useMemo(()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath}),[r.future.v7_relativeSplatPath]);return g.useEffect(()=>tg(l,r.future),[l,r.future]),g.createElement(g.Fragment,null,g.createElement(Il.Provider,{value:S},g.createElement(fc.Provider,{value:s},g.createElement(fg.Provider,{value:C.current},g.createElement($m.Provider,{value:o},g.createElement(ng,{basename:k,location:s.location,navigationType:s.historyAction,navigator:w,future:v},s.initialized||r.future.v7_partialHydration?g.createElement(bg,{routes:r.routes,future:r.future,state:s}):t))))),null)}const bg=g.memo(jg);function jg(e){let{routes:t,future:r,state:l}=e;return $x(t,void 0,l,r)}const wg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ng=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kg=g.forwardRef(function(t,r){let{onClick:l,relative:s,reloadDocument:a,replace:i,state:c,target:o,to:u,preventScrollReset:m,viewTransition:h}=t,x=Wm(t,og),{basename:y}=g.useContext(lr),j,b=!1;if(typeof u=="string"&&Ng.test(u)&&(j=u,wg))try{let p=new URL(window.location.href),w=u.startsWith("//")?new URL(p.protocol+u):new URL(u),k=rr(w.pathname,y);w.origin===p.origin&&k!=null?u=k+w.search+w.hash:b=!0}catch{}let C=Ux(u,{relative:s}),f=Eg(u,{replace:i,state:c,target:o,preventScrollReset:m,relative:s,viewTransition:h});function d(p){l&&l(p),p.defaultPrevented||f(p)}return g.createElement("a",Pn({},x,{href:j||C,onClick:b||a?l:d,ref:r,target:o}))}),Cg=g.forwardRef(function(t,r){let{"aria-current":l="page",caseSensitive:s=!1,className:a="",end:i=!1,style:c,to:o,viewTransition:u,children:m}=t,h=Wm(t,cg),x=Ca(o,{relative:h.relative}),y=Wt(),j=g.useContext(fc),{navigator:b,basename:C}=g.useContext(lr),f=j!=null&&Pg(x)&&u===!0,d=b.encodeLocation?b.encodeLocation(x).pathname:x.pathname,p=y.pathname,w=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;s||(p=p.toLowerCase(),w=w?w.toLowerCase():null,d=d.toLowerCase()),w&&C&&(w=rr(w,C)||w);const k=d!=="/"&&d.endsWith("/")?d.length-1:d.length;let S=p===d||!i&&p.startsWith(d)&&p.charAt(k)==="/",v=w!=null&&(w===d||!i&&w.startsWith(d)&&w.charAt(d.length)==="/"),_={isActive:S,isPending:v,isTransitioning:f},M=S?l:void 0,L;typeof a=="function"?L=a(_):L=[a,S?"active":null,v?"pending":null,f?"transitioning":null].filter(Boolean).join(" ");let O=typeof c=="function"?c(_):c;return g.createElement(kg,Pn({},h,{"aria-current":M,className:L,ref:r,style:O,to:o,viewTransition:u}),typeof m=="function"?m(_):m)});var po;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(po||(po={}));var ld;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ld||(ld={}));function Sg(e){let t=g.useContext(Il);return t||ae(!1),t}function Eg(e,t){let{target:r,replace:l,state:s,preventScrollReset:a,relative:i,viewTransition:c}=t===void 0?{}:t,o=xt(),u=Wt(),m=Ca(e,{relative:i});return g.useCallback(h=>{if(ag(h,r)){h.preventDefault();let x=l!==void 0?l:Gr(u)===Gr(m);o(e,{replace:x,state:s,preventScrollReset:a,relative:i,viewTransition:c})}},[u,o,m,l,s,r,e,a,i,c])}function xc(e){let t=g.useRef(fo(e)),r=g.useRef(!1),l=Wt(),s=g.useMemo(()=>ig(l.search,r.current?null:t.current),[l.search]),a=xt(),i=g.useCallback((c,o)=>{const u=fo(typeof c=="function"?c(s):c);r.current=!0,a("?"+u,o)},[a,s]);return[s,i]}function Pg(e,t){t===void 0&&(t={});let r=g.useContext($m);r==null&&ae(!1);let{basename:l}=Sg(po.useViewTransitionState),s=Ca(e,{relative:t.relative});if(!r.isTransitioning)return!1;let a=rr(r.currentLocation.pathname,l)||r.currentLocation.pathname,i=rr(r.nextLocation.pathname,l)||r.nextLocation.pathname;return qs(s.pathname,i)!=null||qs(s.pathname,a)!=null}const Tn="http://localhost:8080",ra="revalyze_token",na=()=>localStorage.getItem(ra),sd=e=>{e?localStorage.setItem(ra,e):localStorage.removeItem(ra)},ad=()=>{localStorage.removeItem(ra)},Al=(e=!0)=>{const t={"Content-Type":"application/json"};if(e){const r=na();r&&(t.Authorization=`Bearer ${r}`)}return t};class Vm extends Error{constructor(t,r,l,s,a){super(r||t),this.name="LimitError",this.errorCode=t,this.reason=r,this.plan=l,this.limit=s,this.current=a}}class gc extends Error{constructor(t,r){super(r),this.name="AICreditsError",this.code=t,this.message=r}}const zl=async(e,t={})=>{try{const r=await fetch(e,t),l=r.headers.get("content-type");if(r.status===204)return{ok:!0,data:null};let s=null;if(l&&l.includes("application/json")?s=await r.json():s=await r.text(),!r.ok){if(r.status===403&&typeof s=="object"&&s.error&&["LIMIT_COMPETITORS","LIMIT_PLANS","LIMIT_ANALYSES","LIMIT_TRIAL_EXPIRED"].includes(s.error))throw new Vm(s.error,s.reason,s.plan,s.limit,s.current);if((r.status===402||r.status===403)&&typeof s=="object"&&s.code&&["AI_QUOTA_EXCEEDED","SIMULATION_NOT_AVAILABLE"].includes(s.code))throw new gc(s.code,s.message);const a=typeof s=="string"?s:s.error||s.message||"Request failed";throw new Error(a)}return{ok:!0,data:s}}catch(r){throw r.name==="TypeError"&&r.message==="Failed to fetch"?new Error("Unable to connect to server. Please check if the backend is running."):r}},Ge=async(e,t={},r={})=>{const l=`${Tn}${e}`,s=r.includeAuth!==!1;return zl(l,{method:"POST",headers:Al(s),body:JSON.stringify(t),...r})},kt=async(e,t={})=>{const r=`${Tn}${e}`,l=t.includeAuth!==!1;return zl(r,{method:"GET",headers:Al(l),...t})},vc=async(e,t={})=>{const r=`${Tn}${e}`,l=t.includeAuth!==!1;return zl(r,{method:"DELETE",headers:Al(l),...t})},Hm=async(e,t={},r={})=>{const l=`${Tn}${e}`,s=r.includeAuth!==!1;return zl(l,{method:"PUT",headers:Al(s),body:JSON.stringify(t),...r})},mi={signup:e=>Ge("/auth/signup",{email:e.email,password:e.password,full_name:e.fullName,role:e.role,company_name:e.companyName,company_website:e.companyWebsite,mrr_range:e.mrrRange,heard_from:e.heardFrom},{includeAuth:!1}),login:(e,t)=>Ge("/auth/login",{email:e,password:t},{includeAuth:!1}),me:()=>kt("/auth/me")},ds={list:()=>kt("/api/plans"),create:(e,t,r="USD",l="monthly",s="")=>Ge("/api/plans",{name:e,price:t,currency:r,billing_cycle:l,stripe_price_id:s||void 0}),update:(e,t)=>Hm(`/api/plans/${e}`,t),delete:e=>vc(`/api/plans/${e}`)},ms={list:()=>kt("/api/competitors"),create:(e,t,r)=>Ge("/api/competitors",{name:e,url:t,plans:r}),update:(e,t,r,l)=>Hm(`/api/competitors/${e}`,{name:t,url:r,plans:l}),delete:e=>vc(`/api/competitors/${e}`)},Ym=async(e,t={})=>{const r=`${Tn}${e}`,l=t.includeAuth!==!1,s={};if(l){const a=na();a&&(s.Authorization=`Bearer ${a}`)}try{const a=await fetch(r,{method:"GET",headers:s,...t});if(!a.ok){const c=a.headers.get("content-type");let o="Download failed";if(c&&c.includes("application/json")){const u=await a.json();o=u.error||u.message||o}else o=await a.text()||o;throw new Error(o)}return{ok:!0,blob:await a.blob()}}catch(a){throw a.name==="TypeError"&&a.message==="Failed to fetch"?new Error("Unable to connect to server. Please check if the backend is running."):a}},yc=(e,t)=>{const r=window.URL.createObjectURL(e),l=document.createElement("a");l.href=r,l.download=t,document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(r)},la={run:()=>Ge("/api/analysis/v2",{}),list:(e=20)=>kt(`/api/analysis/v2?limit=${e}`),get:e=>kt(`/api/analysis/v2/${e}`),exportPdf:async e=>{const{ok:t,blob:r}=await Ym(`/api/analysis/v2/${e}/pdf`);return{ok:t,blob:r}}},sa={get:()=>kt("/api/business-metrics"),set:e=>{const t=`${Tn}/api/business-metrics`;return zl(t,{method:"PUT",headers:Al(!0),body:JSON.stringify(e)})}},hi={run:e=>Ge("/api/simulations",{plan_id:e.planId,current_price:e.currentPrice,new_price:e.newPrice,currency:e.currency,active_customers_on_plan:e.activeCustomersOnPlan,global_mrr:e.globalMrr,global_churn_rate:e.globalChurnRate,pricing_goal:e.pricingGoal}),list:(e=10,t=null)=>{const r=new URLSearchParams({limit:e.toString()});return t&&r.append("plan_id",t),kt(`/api/simulations?${r}`)},get:e=>kt(`/api/simulations/${e}`),exportPdf:async e=>{const{ok:t,blob:r}=await Ym(`/api/simulations/${e}/pdf`);return{ok:t,blob:r}}},Gm={get:()=>kt("/api/ai-credits")},hs={getStatus:()=>kt("/api/stripe/status"),connect:()=>Ge("/api/stripe/connect"),disconnect:()=>Ge("/api/stripe/disconnect"),syncMetrics:()=>Ge("/api/stripe/sync/metrics")},fi={getStatus:()=>kt("/api/billing/status"),createCheckoutSession:e=>Ge("/api/billing/checkout-session",{plan_key:e}),createPortalSession:()=>Ge("/api/billing/portal")},Qm=g.createContext(),Lg=({children:e})=>{const[t,r]=g.useState(null),[l,s]=g.useState(na()),[a,i]=g.useState(!0),[c,o]=g.useState(null);g.useEffect(()=>{(async()=>{const C=na();if(!C){i(!1);return}try{const{data:f}=await mi.me();r(f),s(C)}catch(f){console.error("Failed to hydrate user:",f),ad(),s(null),r(null)}finally{i(!1)}})()},[]);const u=g.useCallback(async(b,C)=>{o(null);try{const{data:f}=await mi.login(b,C);return sd(f.token),s(f.token),r(f.user),{success:!0,user:f.user}}catch(f){const d=f.message||"Login failed";return o(d),{success:!1,error:d}}},[]),m=g.useCallback(async b=>{o(null);try{const{data:C}=await mi.signup(b);return C.token&&(sd(C.token),s(C.token),r(C.user)),{success:!0,user:C.user,company:C.company}}catch(C){const f=C.message||"Signup failed";return o(f),{success:!1,error:f}}},[]),h=g.useCallback(()=>{ad(),s(null),r(null),o(null)},[]),x=g.useCallback(()=>{o(null)},[]),y=(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.plan)==="admin",j={user:t,token:l,isLoading:a,isAuthenticated:!!t&&!!l,isAdmin:y,error:c,login:u,signup:m,logout:h,clearError:x};return n.jsx(Qm.Provider,{value:j,children:e})},$t=()=>{const e=g.useContext(Qm);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},Km=g.createContext(),_g=({children:e})=>{const{isAuthenticated:t,isLoading:r}=$t(),[l,s]=g.useState([]),[a,i]=g.useState(!1),[c,o]=g.useState(null),u=g.useCallback(async()=>{if(!t){s([]);return}i(!0),o(null);try{const{data:f}=await ms.list(),d=(f||[]).map(p=>({id:p.id,name:p.name||"",url:p.url||"",plans:(p.plans||[]).map(w=>({name:w.name||"Default",price:w.price||0,currency:w.currency||"USD",billingCycle:w.billing_cycle||"monthly"})),createdAt:p.created_at}));s(d)}catch(f){console.error("Failed to fetch competitors:",f),o(f.message||"Failed to load competitors"),s([])}finally{i(!1)}},[t]);g.useEffect(()=>{r||u()},[r,u]);const C={competitors:l,isLoading:a,error:c,addCompetitor:async({name:f,url:d,plans:p=[]})=>{o(null);try{const w=p.map(v=>({name:v.name,price:v.price,currency:v.currency||"USD",billing_cycle:v.billingCycle||"monthly"})),{data:k}=await ms.create(f||"",d||"",w),S={id:k.id,name:k.name||"",url:k.url||"",plans:(k.plans||[]).map(v=>({name:v.name||"Default",price:v.price||0,currency:v.currency||"USD",billingCycle:v.billing_cycle||"monthly"})),createdAt:k.created_at};return s(v=>[...v,S]),{success:!0,competitor:S}}catch(w){return console.error("Failed to add competitor:",w),o(w.message||"Failed to add competitor"),{success:!1,error:w.message}}},updateCompetitor:async(f,{name:d,url:p,plans:w=[]})=>{o(null);try{const k=w.map(_=>({name:_.name,price:_.price,currency:_.currency||"USD",billing_cycle:_.billingCycle||"monthly"})),{data:S}=await ms.update(f,d||"",p||"",k),v={id:S.id,name:S.name||"",url:S.url||"",plans:(S.plans||[]).map(_=>({name:_.name||"Default",price:_.price||0,currency:_.currency||"USD",billingCycle:_.billing_cycle||"monthly"})),createdAt:S.created_at};return s(_=>_.map(M=>M.id===f?v:M)),{success:!0,competitor:v}}catch(k){return console.error("Failed to update competitor:",k),o(k.message||"Failed to update competitor"),{success:!1,error:k.message}}},removeCompetitor:async f=>{o(null);try{return await ms.delete(f),s(d=>d.filter(p=>p.id!==f)),{success:!0}}catch(d){return console.error("Failed to remove competitor:",d),o(d.message||"Failed to remove competitor"),{success:!1,error:d.message}}},clearCompetitors:()=>{s([])},resetCompetitors:()=>{u()},clearError:()=>{o(null)},refetch:u};return n.jsx(Km.Provider,{value:C,children:e})},bc=()=>{const e=g.useContext(Km);if(!e)throw new Error("useCompetitors must be used within CompetitorsProvider");return e},Xm=g.createContext(),Rg=({children:e})=>{const{isAuthenticated:t,isLoading:r}=$t(),[l,s]=g.useState([]),[a,i]=g.useState(!1),[c,o]=g.useState(null),u=g.useCallback(async()=>{if(!t){s([]);return}i(!0),o(null);try{const{data:f}=await ds.list(),d=(f||[]).map(p=>({id:p.id,name:p.name,price:p.price,currency:p.currency||"USD",interval:p.billing_cycle||"monthly",description:"",stripePriceId:p.stripe_price_id||"",createdAt:p.created_at}));s(d)}catch(f){console.error("Failed to fetch plans:",f),o(f.message||"Failed to load plans"),s([])}finally{i(!1)}},[t]);g.useEffect(()=>{r||u()},[r,u]);const C={plans:l,isLoading:a,error:c,addPlan:async({name:f,price:d,currency:p,interval:w,description:k,stripePriceId:S})=>{o(null);try{const{data:v}=await ds.create(f,Number(d),p||"USD",w||"monthly",S||""),_={id:v.id,name:v.name,price:v.price,currency:v.currency||p||"USD",interval:v.billing_cycle||w||"monthly",description:k||"",stripePriceId:v.stripe_price_id||S||"",createdAt:v.created_at};return s(M=>[...M,_]),{success:!0,plan:_}}catch(v){return console.error("Failed to add plan:",v),o(v.message||"Failed to add plan"),{success:!1,error:v.message}}},removePlan:async f=>{o(null);try{return await ds.delete(f),s(d=>d.filter(p=>p.id!==f)),{success:!0}}catch(d){return console.error("Failed to remove plan:",d),o(d.message||"Failed to remove plan"),{success:!1,error:d.message}}},updatePlan:async(f,d)=>{o(null);try{const p={};d.name!==void 0&&(p.name=d.name),d.price!==void 0&&(p.price=Number(d.price)),d.currency!==void 0&&(p.currency=d.currency),d.interval!==void 0&&(p.billing_cycle=d.interval),d.stripePriceId!==void 0&&(p.stripe_price_id=d.stripePriceId);const{data:w}=await ds.update(f,p),k={id:w.id,name:w.name,price:w.price,currency:w.currency||"USD",interval:w.billing_cycle||"monthly",description:"",stripePriceId:w.stripe_price_id||"",createdAt:w.created_at};return s(S=>S.map(v=>v.id===f?k:v)),{success:!0,plan:k}}catch(p){return console.error("Failed to update plan:",p),o(p.message||"Failed to update plan"),{success:!1,error:p.message}}},clearPlans:()=>{s([])},resetPlans:()=>{u()},clearError:()=>{o(null)},refetch:u};return n.jsx(Xm.Provider,{value:C,children:e})},Sa=()=>{const e=g.useContext(Xm);if(!e)throw new Error("usePlans must be used within PlansProvider");return e},Jm=g.createContext(),Mg=({children:e})=>{const{isAuthenticated:t,isLoading:r}=$t(),[l,s]=g.useState([]),[a,i]=g.useState(null),[c,o]=g.useState(!1),[u,m]=g.useState(!1),[h,x]=g.useState(null),[y,j]=g.useState(null),b=l.length>0?l[0]:null,C=g.useMemo(()=>a&&l.find(L=>L.id===a)||b,[l,a,b]),f=g.useCallback(async()=>{if(!t){s([]);return}o(!0),x(null);try{const{data:L}=await la.list(20),O=(L||[]).map(d);s(O),O.length>0&&!a&&i(O[0].id)}catch(L){console.error("Failed to fetch V2 analyses:",L),x(L.message||"Failed to load analysis history"),s([])}finally{o(!1)}},[t,a]);g.useEffect(()=>{r||f()},[r,f]);const d=L=>{var O,$,ee,z,te,me,ue,I,G,H,P,F,q,he,le;return{id:L.id,createdAt:L.created_at,version:L.version,input:{userPlans:((O=L.input)==null?void 0:O.user_plans)||[],competitors:(($=L.input)==null?void 0:$.competitors)||[],businessMetrics:((ee=L.input)==null?void 0:ee.business_metrics)||{}},ruleResult:{insights:((z=L.rule_result)==null?void 0:z.insights)||[],numPlans:((te=L.rule_result)==null?void 0:te.num_plans)||0,numCompetitors:((me=L.rule_result)==null?void 0:me.num_competitors)||0,churnCategory:((ue=L.rule_result)==null?void 0:ue.churn_category)||"unknown",priceSpread:((I=L.rule_result)==null?void 0:I.price_spread)||"unknown",hasCompetitors:((G=L.rule_result)==null?void 0:G.has_competitors)||!1,hasMetrics:((H=L.rule_result)==null?void 0:H.has_metrics)||!1},llmOutput:{executiveSummary:((P=L.llm_output)==null?void 0:P.executive_summary)||"",pricingInsights:((F=L.llm_output)==null?void 0:F.pricing_insights)||[],recommendations:((q=L.llm_output)==null?void 0:q.recommendations)||[],riskAnalysis:((he=L.llm_output)==null?void 0:he.risk_analysis)||[],suggestedNextActions:((le=L.llm_output)==null?void 0:le.suggested_next_actions)||[]}}},p=async()=>{m(!0),x(null),j(null);try{const{data:L}=await la.run(),O=d(L);return s($=>[O,...$]),i(O.id),{success:!0,analysis:O}}catch(L){return console.error("Failed to run V2 analysis:",L),L instanceof gc?(j({errorCode:L.code,reason:L.message,plan:null,limit:null,current:null,isAICreditsError:!0}),{success:!1,error:L.message,isLimitError:!0,isAICreditsError:!0}):L instanceof Vm?(j({errorCode:L.errorCode,reason:L.reason,plan:L.plan,limit:L.limit,current:L.current}),{success:!1,error:L.reason,isLimitError:!0}):(x(L.message||"Failed to run analysis"),{success:!1,error:L.message})}finally{m(!1)}},w=()=>{j(null)},k=L=>{i(L)},S=()=>{x(null)},v=()=>{s([]),i(null)},M={analyses:l,lastAnalysis:b,selectedAnalysis:C,isLoading:c,isRunning:u,error:h,limitError:y,runAnalysis:p,fetchHistory:f,selectAnalysis:k,clearError:S,clearLimitError:w,clearAnalyses:v,reset:v};return n.jsx(Jm.Provider,{value:M,children:e})},Zm=()=>{const e=g.useContext(Jm);if(!e)throw new Error("useAnalysisV2 must be used within AnalysisV2Provider");return e},jc=Zm,Tg=Mg,qm=g.createContext(),id="revalyze_settings_profile",Dg=({children:e})=>{const[t,r]=g.useState(()=>{try{const i=localStorage.getItem(id);if(i)return JSON.parse(i)}catch(i){console.error("Failed to load profile from localStorage:",i)}return{fullName:"",email:"",role:"",companyName:"",companyWebsite:"",currency:"EUR"}});g.useEffect(()=>{try{localStorage.setItem(id,JSON.stringify(t))}catch(i){console.error("Failed to save profile to localStorage:",i)}},[t]);const a={profile:t,updateProfile:i=>{r(c=>({...c,...i}))},resetProfile:()=>{r({fullName:"",email:"",role:"",companyName:"",companyWebsite:"",currency:"EUR"})}};return n.jsx(qm.Provider,{value:a,children:e})},Ig=()=>{const e=g.useContext(qm);if(!e)throw new Error("useSettings must be used within SettingsProvider");return e},eh=g.createContext(),Ag=({children:e})=>{const{isAuthenticated:t,isLoading:r}=$t(),[l,s]=g.useState(null),[a,i]=g.useState(!1),[c,o]=g.useState(!1),[u,m]=g.useState(null),h=g.useCallback(async()=>{if(!t){s(null);return}i(!0),m(null);try{const{data:C}=await sa.get();s(C)}catch(C){console.error("Failed to load business metrics:",C),m(C.message||"Failed to load business metrics"),s(null)}finally{i(!1)}},[t]);g.useEffect(()=>{r||h()},[r,h]);const b={metrics:l,isLoading:a,isSaving:c,error:u,loadMetrics:h,saveMetrics:async C=>{o(!0),m(null);try{const{data:f}=await sa.set(C);return s(f),{success:!0,metrics:f}}catch(f){return console.error("Failed to save business metrics:",f),m(f.message||"Failed to save business metrics"),{success:!1,error:f.message}}finally{o(!1)}},clearError:()=>{m(null)},resetMetrics:()=>{h()},refetch:h,hasMetrics:l!==null};return n.jsx(eh.Provider,{value:b,children:e})},th=()=>{const e=g.useContext(eh);if(!e)throw new Error("useBusinessMetrics must be used within BusinessMetricsProvider");return e},rh=({children:e})=>{const{isAuthenticated:t,isLoading:r}=$t(),l=Wt();return r?n.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-slate-400",children:"Loading..."})]})}):t?e:n.jsx(ho,{to:"/login",state:{from:l},replace:!0})},nh=({children:e,title:t,subtitle:r})=>n.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-3xl shadow-2xl p-10 border border-slate-700",children:[t&&n.jsxs("div",{className:"mb-8 text-center",children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:t}),r&&n.jsx("p",{className:"text-slate-400 text-sm",children:r})]}),e]}),zg=()=>{const e=xt(),t=Wt(),{login:r,isAuthenticated:l,isLoading:s,error:a,clearError:i}=$t(),[c,o]=g.useState(""),[u,m]=g.useState(""),[h,x]=g.useState(""),[y,j]=g.useState(!1);g.useEffect(()=>{var f,d;if(l&&!s){const p=((d=(f=t.state)==null?void 0:f.from)==null?void 0:d.pathname)||"/app/overview";e(p,{replace:!0})}},[l,s,e,t]),g.useEffect(()=>{h&&x(""),a&&i()},[c,u]);const b=async f=>{var d,p;if(f.preventDefault(),x(""),!c.trim()||!u.trim()){x("Please enter email and password");return}j(!0);try{const w=await r(c,u);if(w.success){const k=((p=(d=t.state)==null?void 0:d.from)==null?void 0:p.pathname)||"/app/overview";e(k,{replace:!0})}else x(w.error)}catch{x("An unexpected error occurred")}finally{j(!1)}},C=h||a;return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center px-4 py-12",children:n.jsxs("div",{className:"w-full max-w-md animate-fadeIn",children:[n.jsx("div",{className:"flex justify-center mb-8",children:n.jsx("img",{src:"/revalyze-logo.png",alt:"Revalyze",className:"h-14 w-auto"})}),n.jsx(nh,{title:"Sign in to Revalyze",subtitle:"Access your SaaS pricing intelligence dashboard",children:n.jsxs("form",{onSubmit:b,className:"space-y-6",children:[C&&n.jsx("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/30",children:n.jsx("p",{className:"text-sm text-red-400",children:C})}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-slate-300 mb-2",children:"Email"}),n.jsx("input",{id:"email",type:"email",value:c,onChange:f=>o(f.target.value),required:!0,disabled:y,className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all disabled:opacity-50",placeholder:"you@company.com"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-slate-300 mb-2",children:"Password"}),n.jsx("input",{id:"password",type:"password",value:u,onChange:f=>m(f.target.value),required:!0,disabled:y,className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all disabled:opacity-50",placeholder:""})]}),n.jsx("button",{type:"submit",disabled:y,className:"w-full bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-semibold py-3.5 rounded-xl hover:from-blue-600 hover:to-indigo-700 hover:scale-105 hover:shadow-xl hover:shadow-blue-500/30 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:y?n.jsxs("span",{className:"flex items-center justify-center gap-2",children:[n.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In"}),n.jsx("div",{className:"text-center pt-4",children:n.jsxs("p",{className:"text-sm text-slate-400",children:["Don't have an account?"," ",n.jsx("a",{href:"/signup",className:"font-semibold text-blue-400 hover:text-blue-300 transition-colors",children:"Sign Up"})]})})]})})]})}),n.jsx("div",{className:"fixed bottom-0 left-0 right-0 pb-6 text-center",children:n.jsxs("p",{className:"text-slate-400 text-sm",children:[" ",new Date().getFullYear()," Revalyze B.V."]})})]})},Fg=()=>{const e=xt(),{signup:t}=$t(),[r,l]=g.useState({fullName:"",email:"",password:"",companyName:"",companyWebsite:"",role:"",mrrRange:"",heardFrom:""}),[s,a]=g.useState({}),[i,c]=g.useState(""),[o,u]=g.useState(!1),m=j=>{const{name:b,value:C}=j.target;l(f=>({...f,[b]:C})),s[b]&&a(f=>({...f,[b]:""})),i&&c("")},h=()=>{const j={};return r.fullName.trim()||(j.fullName="Full name is required"),r.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)||(j.email="Please enter a valid email"):j.email="Email is required",r.password?r.password.length<6&&(j.password="Password must be at least 6 characters"):j.password="Password is required",r.companyName.trim()||(j.companyName="Company name is required"),r.companyWebsite.trim()||(j.companyWebsite="Company website is required"),a(j),Object.keys(j).length===0},x=async j=>{if(j.preventDefault(),c(""),!!h()){u(!0);try{const b=await t(r);b.success?e("/onboarding"):c(b.error)}catch{c("An unexpected error occurred")}finally{u(!1)}}},y=()=>{e("/login")};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 flex flex-col items-center justify-center px-4 py-12",children:[n.jsxs("div",{className:"w-full max-w-2xl animate-fadeIn",children:[n.jsx("div",{className:"flex justify-center mb-8",children:n.jsx("img",{src:"/revalyze-logo.png",alt:"Revalyze",className:"h-14 w-auto"})}),n.jsx(nh,{title:"Create your Revalyze account",subtitle:"Start using AI to design your SaaS pricing",children:n.jsxs("form",{onSubmit:x,className:"space-y-6",children:[i&&n.jsx("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/30",children:n.jsx("p",{className:"text-sm text-red-400",children:i})}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"fullName",className:"block text-sm font-semibold text-slate-300 mb-2",children:"Full Name"}),n.jsx("input",{id:"fullName",name:"fullName",type:"text",value:r.fullName,onChange:m,disabled:o,className:`w-full px-4 py-3 rounded-xl bg-slate-900/50 border ${s.fullName?"border-red-500":"border-slate-700"} text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all disabled:opacity-50`,placeholder:"John Doe"}),s.fullName&&n.jsx("p",{className:"mt-1 text-sm text-red-400",children:s.fullName})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-slate-300 mb-2",children:"Work Email"}),n.jsx("input",{id:"email",name:"email",type:"email",value:r.email,onChange:m,disabled:o,className:`w-full px-4 py-3 rounded-xl bg-slate-900/50 border ${s.email?"border-red-500":"border-slate-700"} text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all disabled:opacity-50`,placeholder:"you@company.com"}),s.email&&n.jsx("p",{className:"mt-1 text-sm text-red-400",children:s.email})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-slate-300 mb-2",children:"Password"}),n.jsx("input",{id:"password",name:"password",type:"password",value:r.password,onChange:m,disabled:o,className:`w-full px-4 py-3 rounded-xl bg-slate-900/50 border ${s.password?"border-red-500":"border-slate-700"} text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all disabled:opacity-50`,placeholder:"Minimum 6 characters"}),s.password&&n.jsx("p",{className:"mt-1 text-sm text-red-400",children:s.password})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"companyName",className:"block text-sm font-semibold text-slate-300 mb-2",children:"Company Name"}),n.jsx("input",{id:"companyName",name:"companyName",type:"text",value:r.companyName,onChange:m,disabled:o,className:`w-full px-4 py-3 rounded-xl bg-slate-900/50 border ${s.companyName?"border-red-500":"border-slate-700"} text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all disabled:opacity-50`,placeholder:"Acme Inc."}),s.companyName&&n.jsx("p",{className:"mt-1 text-sm text-red-400",children:s.companyName})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"companyWebsite",className:"block text-sm font-semibold text-slate-300 mb-2",children:"Company Website"}),n.jsx("input",{id:"companyWebsite",name:"companyWebsite",type:"url",value:r.companyWebsite,onChange:m,disabled:o,className:`w-full px-4 py-3 rounded-xl bg-slate-900/50 border ${s.companyWebsite?"border-red-500":"border-slate-700"} text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all disabled:opacity-50`,placeholder:"acme.com"}),s.companyWebsite&&n.jsx("p",{className:"mt-1 text-sm text-red-400",children:s.companyWebsite})]})]}),n.jsxs("div",{className:"pt-4 border-t border-slate-700",children:[n.jsx("p",{className:"text-sm text-slate-400 mb-6",children:"Optional information (helps us personalize your experience)"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"role",className:"block text-sm font-semibold text-slate-300 mb-2",children:["Your Role ",n.jsx("span",{className:"text-slate-500 font-normal",children:"(optional)"})]}),n.jsxs("select",{id:"role",name:"role",value:r.role,onChange:m,disabled:o,className:"w-full px-4 py-3 pr-10 rounded-xl bg-slate-900/50 border border-slate-700 text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all appearance-none bg-[url('data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27rgb(148 163 184)%27 stroke-width=%272%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpolyline points=%276 9 12 15 18 9%27%3e%3c/polyline%3e%3c/svg%3e')] bg-[length:1.25rem_1.25rem] bg-[position:right_0.75rem_center] bg-no-repeat disabled:opacity-50",children:[n.jsx("option",{value:"",children:"Select your role"}),n.jsx("option",{value:"founder",children:"Founder"}),n.jsx("option",{value:"cofounder",children:"Co-founder"}),n.jsx("option",{value:"product",children:"Product"}),n.jsx("option",{value:"growth",children:"Growth"}),n.jsx("option",{value:"revenue",children:"Revenue"}),n.jsx("option",{value:"other",children:"Other"})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"mrrRange",className:"block text-sm font-semibold text-slate-300 mb-2",children:["Current MRR ",n.jsx("span",{className:"text-slate-500 font-normal",children:"(optional)"})]}),n.jsxs("select",{id:"mrrRange",name:"mrrRange",value:r.mrrRange,onChange:m,disabled:o,className:"w-full px-4 py-3 pr-10 rounded-xl bg-slate-900/50 border border-slate-700 text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all appearance-none bg-[url('data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27rgb(148 163 184)%27 stroke-width=%272%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpolyline points=%276 9 12 15 18 9%27%3e%3c/polyline%3e%3c/svg%3e')] bg-[length:1.25rem_1.25rem] bg-[position:right_0.75rem_center] bg-no-repeat disabled:opacity-50",children:[n.jsx("option",{value:"",children:"Select range"}),n.jsx("option",{value:"<1k",children:"<$1k"}),n.jsx("option",{value:"1k-10k",children:"$1k$10k"}),n.jsx("option",{value:"10k-50k",children:"$10k$50k"}),n.jsx("option",{value:"50k-100k",children:"$50k$100k"}),n.jsx("option",{value:"100k+",children:"$100k+"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"heardFrom",className:"block text-sm font-semibold text-slate-300 mb-2",children:["How did you hear about us? ",n.jsx("span",{className:"text-slate-500 font-normal",children:"(optional)"})]}),n.jsxs("select",{id:"heardFrom",name:"heardFrom",value:r.heardFrom,onChange:m,disabled:o,className:"w-full px-4 py-3 pr-10 rounded-xl bg-slate-900/50 border border-slate-700 text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all appearance-none bg-[url('data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27rgb(148 163 184)%27 stroke-width=%272%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpolyline points=%276 9 12 15 18 9%27%3e%3c/polyline%3e%3c/svg%3e')] bg-[length:1.25rem_1.25rem] bg-[position:right_0.75rem_center] bg-no-repeat disabled:opacity-50",children:[n.jsx("option",{value:"",children:"Select source"}),n.jsx("option",{value:"linkedin",children:"LinkedIn"}),n.jsx("option",{value:"twitter",children:"X (Twitter)"}),n.jsx("option",{value:"friend",children:"Friend"}),n.jsx("option",{value:"search",children:"Search"}),n.jsx("option",{value:"other",children:"Other"})]})]})]})]})]}),n.jsx("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-semibold py-3.5 rounded-xl hover:from-blue-600 hover:to-indigo-700 hover:scale-105 hover:shadow-xl hover:shadow-blue-500/30 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:o?n.jsxs("span",{className:"flex items-center justify-center gap-2",children:[n.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):"Create Account"}),n.jsx("div",{className:"text-center pt-4",children:n.jsxs("p",{className:"text-sm text-slate-400",children:["Already have an account?"," ",n.jsx("button",{type:"button",onClick:y,disabled:o,className:"font-semibold text-blue-400 hover:text-blue-300 transition-colors disabled:opacity-50",children:"Sign in"})]})})]})})]}),n.jsx("div",{className:"mt-8 text-center",children:n.jsxs("p",{className:"text-slate-400 text-sm",children:[" ",new Date().getFullYear()," Revalyze B.V."]})})]})},Ug=({currentStep:e,totalSteps:t,stepLabels:r})=>{const l=r?r.map((s,a)=>({number:a+1,label:s})):Array.from({length:t},(s,a)=>({number:a+1,label:`Step ${a+1}`}));return n.jsxs("div",{className:"mb-12",children:[n.jsx("div",{className:"text-center mb-6",children:n.jsxs("p",{className:"text-sm text-slate-400",children:["Step ",e," of ",t]})}),n.jsx("div",{className:"flex items-center justify-between max-w-2xl mx-auto",children:l.map((s,a)=>n.jsxs("div",{className:"flex items-center flex-1",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-all ${s.number===e?"bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-lg shadow-blue-500/50":s.number<e?"bg-blue-500/20 text-blue-400 border border-blue-500/50":"bg-slate-700 text-slate-400 border border-slate-600"}`,children:s.number<e?n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):s.number}),n.jsx("span",{className:`mt-2 text-xs font-medium ${s.number===e?"text-white":s.number<e?"text-blue-400":"text-slate-500"}`,children:s.label})]}),a<l.length-1&&n.jsx("div",{className:`flex-1 h-0.5 mx-2 mt-[-24px] transition-all ${s.number<e?"bg-blue-500/50":"bg-slate-700"}`})]},s.number))})]})},Bg=[{value:"USD",label:"USD ($)"},{value:"EUR",label:"EUR ()"},{value:"GBP",label:"GBP ()"},{value:"TRY",label:"TRY ()"}],Og=[{value:"monthly",label:"Monthly"},{value:"yearly",label:"Yearly"},{value:"one-time",label:"One-time"}],Wg=({data:e,onChange:t})=>{const[r,l]=g.useState({name:"",price:"",currency:"USD",billingCycle:"monthly"}),[s,a]=g.useState(""),i=m=>{const{name:h,value:x}=m.target;l(y=>({...y,[h]:x})),a("")},c=()=>{if(!r.name.trim()){a("Plan name is required");return}if(!r.price||parseFloat(r.price)<=0){a("Price must be greater than 0");return}const m={id:Date.now(),name:r.name.trim(),price:parseFloat(r.price),currency:r.currency,billingCycle:r.billingCycle};t([...e,m]),l({name:"",price:"",currency:"USD",billingCycle:"monthly"}),a("")},o=m=>{t(e.filter(h=>h.id!==m))},u=(m,h)=>`${{USD:"$",EUR:"",GBP:"",TRY:""}[h]||h}${m}`;return n.jsxs("div",{children:[n.jsxs("div",{className:"mb-8 text-center",children:[n.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Your Pricing Plans"}),n.jsx("p",{className:"text-slate-400",children:"Add the pricing plans you currently offer. At least one plan is required."})]}),e.length>0&&n.jsx("div",{className:"mb-6 space-y-3",children:e.map(m=>n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-slate-900/50 border border-slate-700",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center",children:n.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-white font-semibold",children:m.name}),n.jsxs("p",{className:"text-slate-400 text-sm",children:[u(m.price,m.currency)," / ",m.billingCycle]})]})]}),n.jsx("button",{onClick:()=>o(m.id),className:"p-2 text-slate-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-all",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},m.id))}),n.jsxs("div",{className:"bg-slate-900/30 rounded-xl p-6 border border-slate-700/50",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Add a Plan"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"name",className:"block text-sm font-semibold text-slate-300 mb-2",children:["Plan Name ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("input",{id:"name",name:"name",type:"text",value:r.name,onChange:i,className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all",placeholder:"e.g. Starter, Pro, Enterprise"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"price",className:"block text-sm font-semibold text-slate-300 mb-2",children:["Price ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("input",{id:"price",name:"price",type:"number",min:"0",step:"0.01",value:r.price,onChange:i,className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all",placeholder:"29"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"currency",className:"block text-sm font-semibold text-slate-300 mb-2",children:"Currency"}),n.jsx("select",{id:"currency",name:"currency",value:r.currency,onChange:i,className:"w-full px-4 py-3 pr-10 rounded-xl bg-slate-900/50 border border-slate-700 text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all appearance-none bg-[url('data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27rgb(148 163 184)%27 stroke-width=%272%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpolyline points=%276 9 12 15 18 9%27%3e%3c/polyline%3e%3c/svg%3e')] bg-[length:1.25rem_1.25rem] bg-[position:right_0.75rem_center] bg-no-repeat",children:Bg.map(m=>n.jsx("option",{value:m.value,children:m.label},m.value))})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"billingCycle",className:"block text-sm font-semibold text-slate-300 mb-2",children:"Billing Cycle"}),n.jsx("select",{id:"billingCycle",name:"billingCycle",value:r.billingCycle,onChange:i,className:"w-full px-4 py-3 pr-10 rounded-xl bg-slate-900/50 border border-slate-700 text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all appearance-none bg-[url('data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27rgb(148 163 184)%27 stroke-width=%272%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpolyline points=%276 9 12 15 18 9%27%3e%3c/polyline%3e%3c/svg%3e')] bg-[length:1.25rem_1.25rem] bg-[position:right_0.75rem_center] bg-no-repeat",children:Og.map(m=>n.jsx("option",{value:m.value,children:m.label},m.value))})]}),s&&n.jsx("p",{className:"text-red-400 text-sm",children:s}),n.jsxs("button",{onClick:c,className:"w-full px-4 py-3 bg-blue-500/20 text-blue-400 border border-blue-500/30 rounded-xl font-semibold hover:bg-blue-500/30 hover:border-blue-500/50 transition-all flex items-center justify-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Plan"]})]})]}),e.length===0&&n.jsx("div",{className:"mt-4 bg-amber-500/10 border border-amber-500/30 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("svg",{className:"w-5 h-5 text-amber-400 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),n.jsx("p",{className:"text-sm text-amber-300",children:"At least one pricing plan is required to continue."})]})})]})},$g=[{value:"USD",label:"USD"},{value:"EUR",label:"EUR"},{value:"GBP",label:"GBP"},{value:"TRY",label:"TRY"}],Vg=[{value:"monthly",label:"Monthly"},{value:"yearly",label:"Yearly"}],Hg=({data:e,onChange:t})=>{const[r,l]=g.useState(null),[s,a]=g.useState(""),[i,c]=g.useState(""),[o,u]=g.useState({name:"",price:"",currency:"USD",billingCycle:"monthly"}),[m,h]=g.useState(""),x=()=>{if(!s.trim()){h("Competitor name is required");return}const f={id:Date.now(),name:s.trim(),url:i.trim(),plans:[]};t([...e,f]),a(""),c(""),h(""),l(f.id)},y=f=>{t(e.filter(d=>d.id!==f)),r===f&&l(null)},j=f=>{if(!o.name.trim()){h("Plan name is required");return}if(!o.price||parseFloat(o.price)<0){h("Price must be 0 or greater");return}const d={id:Date.now(),name:o.name.trim(),price:parseFloat(o.price),currency:o.currency,billingCycle:o.billingCycle};t(e.map(p=>p.id===f?{...p,plans:[...p.plans,d]}:p)),u({name:"",price:"",currency:"USD",billingCycle:"monthly"}),h("")},b=(f,d)=>{t(e.map(p=>p.id===f?{...p,plans:p.plans.filter(w=>w.id!==d)}:p))},C=(f,d)=>`${{USD:"$",EUR:"",GBP:"",TRY:""}[d]||d}${f}`;return n.jsxs("div",{children:[n.jsxs("div",{className:"mb-8 text-center",children:[n.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Competitors"}),n.jsx("p",{className:"text-slate-400 max-w-2xl mx-auto",children:"Add your competitors and their pricing plans. This step is optional."})]}),e.length>0&&n.jsx("div",{className:"mb-6 space-y-4",children:e.map(f=>n.jsxs("div",{className:"rounded-xl bg-slate-900/50 border border-slate-700 overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center",children:n.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-white font-semibold",children:f.name}),n.jsxs("p",{className:"text-slate-500 text-sm",children:[f.plans.length," plan(s)"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>l(r===f.id?null:f.id),className:"p-2 text-slate-400 hover:text-blue-400 hover:bg-blue-500/10 rounded-lg transition-all",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),n.jsx("button",{onClick:()=>y(f.id),className:"p-2 text-slate-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-all",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),f.plans.length>0&&n.jsx("div",{className:"p-4 pt-0",children:n.jsx("div",{className:"mt-3 space-y-2",children:f.plans.map(d=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-slate-800/30 border border-slate-700/50",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-white",children:d.name}),n.jsxs("span",{className:"text-slate-400 ml-2",children:[C(d.price,d.currency)," /"," ",d.billingCycle]})]}),n.jsx("button",{onClick:()=>b(f.id,d.id),className:"p-1 text-slate-500 hover:text-red-400 transition-colors",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},d.id))})}),r===f.id&&n.jsxs("div",{className:"p-4 border-t border-slate-700/50 bg-slate-800/20",children:[n.jsxs("p",{className:"text-sm font-semibold text-slate-300 mb-3",children:["Add a plan to ",f.name]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[n.jsx("input",{type:"text",value:o.name,onChange:d=>u({...o,name:d.target.value}),className:"px-3 py-2 rounded-lg bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 outline-none text-sm",placeholder:"Plan name (e.g., Pro)"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("select",{value:o.currency,onChange:d=>u({...o,currency:d.target.value}),className:"w-20 px-2 py-2 rounded-lg bg-slate-900/50 border border-slate-700 text-white text-sm outline-none",children:$g.map(d=>n.jsx("option",{value:d.value,children:d.label},d.value))}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:o.price,onChange:d=>u({...o,price:d.target.value}),className:"flex-1 px-3 py-2 rounded-lg bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 outline-none text-sm",placeholder:"Price"})]})]}),n.jsxs("div",{className:"flex gap-3 items-center",children:[n.jsx("select",{value:o.billingCycle,onChange:d=>u({...o,billingCycle:d.target.value}),className:"px-3 py-2 rounded-lg bg-slate-900/50 border border-slate-700 text-white text-sm outline-none",children:Vg.map(d=>n.jsx("option",{value:d.value,children:d.label},d.value))}),n.jsx("button",{onClick:()=>j(f.id),className:"px-4 py-2 bg-purple-500/20 text-purple-400 border border-purple-500/30 rounded-lg text-sm font-medium hover:bg-purple-500/30 transition-all",children:"Add Plan"})]})]})]},f.id))}),n.jsxs("div",{className:"bg-slate-900/30 rounded-xl p-6 border border-slate-700/50",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Add a Competitor"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:["Competitor Name ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("input",{type:"text",value:s,onChange:f=>{a(f.target.value),h("")},className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all",placeholder:"e.g., Notion, Slack"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:["Website ",n.jsx("span",{className:"text-slate-500 font-normal",children:"(optional)"})]}),n.jsx("input",{type:"url",value:i,onChange:f=>c(f.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all",placeholder:"https://competitor.com"})]})]}),m&&n.jsx("p",{className:"text-red-400 text-sm",children:m}),n.jsxs("button",{onClick:x,className:"px-6 py-3 bg-purple-500/20 text-purple-400 border border-purple-500/30 rounded-xl font-semibold hover:bg-purple-500/30 hover:border-purple-500/50 transition-all flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Competitor"]})]})]}),n.jsx("div",{className:"mt-4 bg-blue-500/10 border border-blue-500/30 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("svg",{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),n.jsx("div",{children:n.jsxs("p",{className:"text-sm text-slate-300",children:[n.jsx("span",{className:"font-semibold",children:"Tip:"})," Add each competitor once, then add their pricing plans. You can skip this step and add competitors later."]})})]})})]})},Ea=e=>{if(!e)return"";if(typeof e=="object"&&e.id)return e.id;const t=typeof e=="string"?e:e.name;return t?t.toLowerCase().trim().replace(/\s+/g,"_"):""},aa=e=>!e||typeof e!="object"?0:Object.values(e).reduce((t,r)=>{const l=parseInt(r)||0;return t+l},0),bn=e=>!e||typeof e!="object"?!1:Object.values(e).some(t=>{const r=parseInt(t);return!isNaN(r)&&r>0}),pi=(e,t)=>{if(!(e!=null&&e.length)||!t)return null;const r=t.toLowerCase().trim().replace(/\s+/g,"_"),l=e.find(i=>i.id===t);if(l)return l;const s=e.find(i=>{var c;return((c=i.name)==null?void 0:c.toLowerCase())===t.toLowerCase()});if(s)return s;const a=e.find(i=>Ea(i)===r);return a||null},Pa=e=>e!=null&&e.length?e.filter(t=>t.price>0).sort((t,r)=>t.price-r.price):[],fs=e=>Pa(e)[0]||null,od=e=>{const t=Pa(e);return t[t.length-1]||null},lh=e=>{const t=Pa(e);return t.length<2?t:t.slice(-2)},Yg=(e,t)=>{if(!e||!(t!=null&&t.length))return null;const r=Pa(t);if(r.length===0)return null;const l=r.findIndex(s=>s.id===e.id);return l===-1?null:r.length===1||l===0?"entry":l===r.length-1?"highest":"mid"},Gg=(e,t)=>{if(!e||e<=0)return 0;const r={entry:.7,mid:.25,highest:.05},l=r[t]||r.mid,s=Math.round(e*l);return Math.max(1,s)},cd=(e,t,r)=>{if(!e)return{count:null,source:"missing",message:null};const l=Ea(e),s=r==null?void 0:r.plan_customer_counts,a=r==null?void 0:r.total_active_customers;if(s&&l in s){const i=s[l];if(i>0)return{count:i,source:"explicit",message:null};if(i===0)return{count:0,source:"explicit",message:null}}if(a&&a>0){const i=Yg(e,t);if(i)return{count:Gg(a,i),source:"estimated",message:`Estimated from total customers (${a}). Adjust if needed.`}}return{count:null,source:"missing",message:"Customer count is missing. Enter an estimate to run a meaningful simulation."}},Qg={TEST_ENTRY_PRICE_INCREASE:{planSelector:e=>fs(e),presetChips:["+5%","+10%","+15%"],mode:"price_change",guidanceText:"Test increasing your entry tier price to capture more value."},TEST_ENTRY_PRICE_DECREASE:{planSelector:e=>fs(e),presetChips:["-5%","-10%","-15%"],mode:"price_change",guidanceText:"Test lowering your entry tier price to reduce acquisition friction."},TEST_STARTER_PRICE_INCREASE:{planSelector:e=>pi(e,"starter")||fs(e),presetChips:["+5%","+10%","+15%"],mode:"price_change",guidanceText:"Test increasing your starter tier price to capture more value."},TEST_STARTER_PRICE_DECREASE:{planSelector:e=>pi(e,"starter")||fs(e),presetChips:["-5%","-10%","-15%"],mode:"price_change",guidanceText:"Test lowering your starter tier price to reduce acquisition friction."},VALIDATE_VALUE_POSITIONING:{planSelector:e=>pi(e,"business")||od(e),presetChips:null,mode:"price_change",guidanceText:"Analyze how your premium tier's price reflects perceived value. Try small adjustments to validate positioning."},REVIEW_PLAN_NAMING_CLARITY:{planSelector:null,presetChips:null,mode:"informational",bannerText:"This action is informational. Use simulation on any tier to validate outcomes and naming impact.",guidanceText:"Plan naming affects customer perception. Run simulations to see how price changes affect conversion."},SIMULATE_INTERMEDIATE_TIER:{planSelector:null,presetChips:null,mode:"intermediate_tier",baseTierSelector:e=>lh(e),guidanceText:"Create a new tier between your existing plans to capture customers who find the gap too large.",bannerText:"Intermediate Tier Mode: Define a new tier between your existing price points."},ADDRESS_RETENTION_BEFORE_PRICING:{planSelector:null,presetChips:null,mode:"informational",bannerText:"High churn detected. Before changing prices, consider addressing retention issues. Use simulation to model conservative changes.",guidanceText:"Focus on retention first. If you must adjust pricing, prefer conservative changes."},EXPAND_PRICE_RANGE:{planSelector:e=>od(e),presetChips:["+10%","+20%","+30%"],mode:"price_change",guidanceText:"Expand your price range by increasing premium tier pricing to capture more value from high-value customers."},ADD_COMPETITOR_DATA:{planSelector:null,presetChips:null,mode:"informational",bannerText:"Add competitor pricing data in Settings to unlock market-relative insights.",guidanceText:"Without competitor data, simulations rely only on your internal metrics."}},Kg=e=>e&&Qg[e]||null,Xg=[{value:"revenue",label:"Maximize Revenue"},{value:"retention",label:"Improve Retention"},{value:"conversion",label:"Increase Conversion"},{value:"differentiation",label:"Better Differentiation"}],Jg=[{value:"USD",label:"USD ($)"},{value:"EUR",label:"EUR ()"},{value:"GBP",label:"GBP ()"},{value:"TRY",label:"TRY ()"}],Zg=({data:e,onChange:t,plans:r=[]})=>{const[l,s]=g.useState(!1);g.useEffect(()=>{bn(e.planCustomerCounts)&&s(!0)},[]);const a=bn(e.planCustomerCounts)?aa(e.planCustomerCounts):null,i=a!==null,c=m=>{const{name:h,value:x,type:y}=m.target;if(y==="number"){const j=x===""?"":parseFloat(x);t({[h]:j})}else t({[h]:x})},o=(m,h)=>{const x=h===""?"":parseInt(h)||0,y={...e.planCustomerCounts||{},[m]:x};if(t({planCustomerCounts:y}),bn(y)){const j=aa(y);t({totalActiveCustomers:j,planCustomerCounts:y})}},u=m=>{const h=m.target.value,x=h===""?"":parseInt(h)||0;t({totalActiveCustomers:x===""?null:x})};return n.jsxs("div",{children:[n.jsxs("div",{className:"mb-8 text-center",children:[n.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Business Metrics"}),n.jsx("p",{className:"text-slate-400",children:"Share your key metrics to get personalized pricing recommendations."})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"currency",className:"block text-sm font-semibold text-slate-300 mb-2",children:"Currency"}),n.jsx("select",{id:"currency",name:"currency",value:e.currency||"USD",onChange:c,className:"w-full px-4 py-3 pr-10 rounded-xl bg-slate-900/50 border border-slate-700 text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all appearance-none bg-[url('data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27rgb(148 163 184)%27 stroke-width=%272%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpolyline points=%276 9 12 15 18 9%27%3e%3c/polyline%3e%3c/svg%3e')] bg-[length:1.25rem_1.25rem] bg-[position:right_0.75rem_center] bg-no-repeat",children:Jg.map(m=>n.jsx("option",{value:m.value,children:m.label},m.value))})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"mrr",className:"block text-sm font-semibold text-slate-300 mb-2",children:["Monthly Recurring Revenue (MRR) ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",children:e.currency==="EUR"?"":e.currency==="GBP"?"":e.currency==="TRY"?"":"$"}),n.jsx("input",{id:"mrr",name:"mrr",type:"number",min:"0",step:"1",value:e.mrr??"",onChange:c,className:"w-full px-4 py-3 pl-8 rounded-xl bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all",placeholder:"10000",required:!0})]})]})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"monthlyChurnRate",className:"block text-sm font-semibold text-slate-300 mb-2",children:["Monthly Churn Rate (%) ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{id:"monthlyChurnRate",name:"monthlyChurnRate",type:"number",min:"0",max:"100",step:"0.1",value:e.monthlyChurnRate??"",onChange:c,className:"w-full px-4 py-3 pr-10 rounded-xl bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all",placeholder:"5",required:!0}),n.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400",children:"%"})]}),n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"The percentage of customers who cancel each month."})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-slate-300 mb-3",children:["Primary Pricing Goal ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:Xg.map(m=>n.jsxs("label",{className:`flex items-center p-4 rounded-xl border cursor-pointer transition-all ${e.pricingGoal===m.value?"bg-blue-500/10 border-blue-500/50 shadow-sm":"bg-slate-900/30 border-slate-700 hover:border-slate-600"}`,children:[n.jsx("input",{type:"radio",name:"pricingGoal",value:m.value,checked:e.pricingGoal===m.value,onChange:c,className:"w-5 h-5 text-blue-500 border-slate-600 focus:ring-blue-500 focus:ring-2"}),n.jsx("span",{className:"ml-3 text-slate-300",children:m.label})]},m.value))})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"targetArrGrowth",className:"block text-sm font-semibold text-slate-300 mb-2",children:["Target ARR Growth (%) ",n.jsx("span",{className:"text-slate-500 font-normal",children:"(optional)"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{id:"targetArrGrowth",name:"targetArrGrowth",type:"number",min:"0",max:"1000",step:"1",value:e.targetArrGrowth??"",onChange:c,className:"w-full px-4 py-3 pr-10 rounded-xl bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all",placeholder:"50"}),n.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400",children:"%"})]}),n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Your target annual recurring revenue growth. Leave empty if you don't have a specific target."})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"totalActiveCustomers",className:"block text-sm font-semibold text-slate-300 mb-2",children:["Total Active Customers ",n.jsx("span",{className:"text-slate-500 font-normal",children:"(optional)"}),i&&n.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-blue-500/20 text-blue-400 rounded-full",children:"Auto"})]}),n.jsx("input",{id:"totalActiveCustomers",type:"number",min:"0",value:i?a:e.totalActiveCustomers??"",onChange:u,disabled:i,className:`w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all ${i?"opacity-70 cursor-not-allowed":""}`,placeholder:"e.g., 500"}),n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:i?"Calculated from customers by plan below.":"Optional. If you know customers by plan, expand below and total will be calculated automatically."})]}),r.length>0&&n.jsxs("div",{className:"border border-slate-700 rounded-xl overflow-hidden",children:[n.jsxs("button",{type:"button",onClick:()=>s(!l),className:"w-full px-4 py-3 flex items-center justify-between bg-slate-800/30 hover:bg-slate-800/50 transition-colors",children:[n.jsxs("span",{className:"text-sm font-medium text-slate-300",children:["I know customers by plan ",n.jsx("span",{className:"text-slate-500 font-normal",children:"(optional)"})]}),n.jsx("svg",{className:`w-5 h-5 text-slate-400 transition-transform ${l?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l&&n.jsxs("div",{className:"p-4 space-y-4 bg-slate-900/30",children:[n.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Enter the number of active customers on each plan. Total will be calculated automatically."}),r.map(m=>{var y;const h=Ea(m),x=((y=e.planCustomerCounts)==null?void 0:y[h])??"";return n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("label",{className:"flex-1 text-sm text-slate-300",children:[m.name," customers"]}),n.jsx("input",{type:"number",min:"0",value:x,onChange:j=>o(h,j.target.value),className:"w-32 px-3 py-2 rounded-lg bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all text-right",placeholder:"0"})]},h)})]})]}),n.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("svg",{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),n.jsx("div",{children:n.jsxs("p",{className:"text-sm text-slate-300",children:[n.jsx("span",{className:"font-semibold",children:"Why we need this:"})," Your business metrics help us generate personalized pricing recommendations that align with your goals."]})})]})})]})]})},qg={revenue:"Maximize Revenue",retention:"Improve Retention",conversion:"Increase Conversion",differentiation:"Better Differentiation"},ev=({plans:e,competitors:t,businessMetrics:r,onGenerate:l,isLoading:s})=>{const a=(o,u)=>`${{USD:"$",EUR:"",GBP:"",TRY:""}[u]||u}${o}`,i=(o,u)=>`${{USD:"$",EUR:"",GBP:"",TRY:""}[u]||u}${(o==null?void 0:o.toLocaleString())||0}`,c=t.reduce((o,u)=>{var m;return o+(((m=u.plans)==null?void 0:m.length)||0)},0);return n.jsxs("div",{children:[n.jsxs("div",{className:"mb-8 text-center",children:[n.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Review & Confirm"}),n.jsx("p",{className:"text-slate-400",children:"Review your information before generating your first pricing analysis."})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-700",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center",children:n.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),n.jsx("h3",{className:"text-lg font-semibold text-white",children:"Your Pricing Plans"}),n.jsxs("span",{className:"ml-auto text-sm text-slate-400",children:[e.length," plan(s)"]})]}),e.length>0?n.jsx("div",{className:"space-y-2",children:e.map(o=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-slate-800/50",children:[n.jsx("span",{className:"text-white font-medium",children:o.name}),n.jsxs("span",{className:"text-slate-400",children:[a(o.price,o.currency)," / ",o.billingCycle]})]},o.id))}):n.jsx("p",{className:"text-slate-500 italic",children:"No plans added"})]}),n.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-700",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center",children:n.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),n.jsx("h3",{className:"text-lg font-semibold text-white",children:"Competitors"}),n.jsx("span",{className:"ml-auto text-sm text-slate-400",children:t.length>0?`${t.length} competitor(s), ${c} plan(s)`:"None added"})]}),t.length>0?n.jsx("div",{className:"space-y-3",children:t.map(o=>{var u;return n.jsxs("div",{className:"p-3 rounded-lg bg-slate-800/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-white font-medium",children:o.name}),n.jsxs("span",{className:"text-slate-500 text-sm",children:[((u=o.plans)==null?void 0:u.length)||0," plan(s)"]})]}),o.plans&&o.plans.length>0&&n.jsx("div",{className:"space-y-1 pl-3 border-l-2 border-slate-700",children:o.plans.map((m,h)=>n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-slate-400",children:m.name}),n.jsxs("span",{className:"text-slate-500",children:[a(m.price,m.currency)," / ",m.billingCycle]})]},h))})]},o.id)})}):n.jsx("p",{className:"text-slate-500 italic",children:"No competitors added  you can add them later from the dashboard."})]}),n.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-700",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center",children:n.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),n.jsx("h3",{className:"text-lg font-semibold text-white",children:"Business Metrics"})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-3 rounded-lg bg-slate-800/50",children:[n.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"MRR"}),n.jsx("p",{className:"text-white font-semibold text-lg",children:i(r.mrr,r.currency)})]}),n.jsxs("div",{className:"p-3 rounded-lg bg-slate-800/50",children:[n.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Monthly Churn"}),n.jsxs("p",{className:"text-white font-semibold text-lg",children:[r.monthlyChurnRate??0,"%"]})]}),n.jsxs("div",{className:"p-3 rounded-lg bg-slate-800/50",children:[n.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Pricing Goal"}),n.jsx("p",{className:"text-white font-semibold",children:qg[r.pricingGoal]||"Not set"})]}),r.targetArrGrowth!==""&&r.targetArrGrowth!==void 0&&r.targetArrGrowth!==null&&n.jsxs("div",{className:"p-3 rounded-lg bg-slate-800/50",children:[n.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Target ARR Growth"}),n.jsxs("p",{className:"text-white font-semibold text-lg",children:[r.targetArrGrowth,"%"]})]})]})]}),n.jsx("button",{onClick:l,disabled:s,className:"w-full px-8 py-4 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl font-semibold hover:from-blue-600 hover:to-indigo-700 hover:scale-[1.02] hover:shadow-xl hover:shadow-blue-500/30 transition-all flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:s?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin w-5 h-5",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating Analysis..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Generate My First Pricing Analysis"]})}),n.jsx("p",{className:"text-center text-xs text-slate-500",children:"Your data is securely stored and only used to generate personalized pricing recommendations."})]})]})},tv=["Pricing Plans","Competitors","Business Metrics","Review"],rv=()=>{const e=xt(),[t,r]=g.useState(1),[l,s]=g.useState(!1),[a,i]=g.useState([]),[c,o]=g.useState([]),[u,m]=g.useState({currency:"USD",mrr:"",monthlyChurnRate:"",pricingGoal:"",targetArrGrowth:"",totalActiveCustomers:null,planCustomerCounts:{}}),h=4,x=p=>{m(w=>({...w,...p}))},y=p=>{switch(p){case 1:return a.length===0?{valid:!1,message:"Please add at least one pricing plan."}:{valid:!0};case 2:return{valid:!0};case 3:return u.mrr===""||u.mrr===null?{valid:!1,message:"Please enter your MRR."}:u.monthlyChurnRate===""||u.monthlyChurnRate===null?{valid:!1,message:"Please enter your monthly churn rate."}:u.pricingGoal?{valid:!0}:{valid:!1,message:"Please select your pricing goal."};case 4:return{valid:!0};default:return{valid:!0}}},j=()=>{const p=y(t);if(!p.valid){alert(p.message);return}t<h&&r(t+1)},b=()=>{t>1&&r(t-1)},C=()=>{t===2&&r(t+1)},f=async()=>{for(let p=1;p<=3;p++){const w=y(p);if(!w.valid){alert(`Step ${p}: ${w.message}`),r(p);return}}s(!0);try{for(const w of a)await Ge("/api/plans",{name:w.name,price:w.price,currency:w.currency,billing_cycle:w.billingCycle});for(const w of c){const k=w.plans.map(S=>({name:S.name,price:S.price,currency:S.currency,billing_cycle:S.billingCycle}));await Ge("/api/competitors",{name:w.name,url:w.url||"",plans:k})}const p={currency:u.currency,mrr:parseFloat(u.mrr)||0,monthly_churn_rate:parseFloat(u.monthlyChurnRate)||0,pricing_goal:u.pricingGoal};if(u.targetArrGrowth!==""&&u.targetArrGrowth!==null&&(p.target_arr_growth=parseFloat(u.targetArrGrowth)),u.totalActiveCustomers!==null&&u.totalActiveCustomers!==""&&(p.total_active_customers=parseInt(u.totalActiveCustomers)||0),u.planCustomerCounts&&Object.keys(u.planCustomerCounts).length>0){const w={};for(const[k,S]of Object.entries(u.planCustomerCounts)){const v=parseInt(S);!isNaN(v)&&v>=0&&(w[k]=v)}Object.keys(w).length>0&&(p.plan_customer_counts=w)}await sa.set(p),await Ge("/api/analysis/run",{}),e("/app/analyses")}catch(p){console.error("Onboarding error:",p),alert("An error occurred while saving your data. Please try again.")}finally{s(!1)}},d=()=>{switch(t){case 1:return n.jsx(Wg,{data:a,onChange:i});case 2:return n.jsx(Hg,{data:c,onChange:o});case 3:return n.jsx(Zg,{data:u,onChange:x,plans:a});case 4:return n.jsx(ev,{plans:a,competitors:c,businessMetrics:u,onGenerate:f,isLoading:l});default:return null}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 flex flex-col items-center justify-center px-4 py-12",children:n.jsxs("div",{className:"w-full max-w-3xl",children:[n.jsx("div",{className:"flex justify-center mb-8 animate-fadeIn",children:n.jsx("img",{src:"/revalyze-logo.png",alt:"Revalyze",className:"h-14 w-auto"})}),n.jsx(Ug,{currentStep:t,totalSteps:h,stepLabels:tv}),n.jsx("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-3xl shadow-2xl p-10 border border-slate-700 mb-8",children:d()}),t<h&&n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("button",{onClick:b,disabled:t===1,className:`px-6 py-3 rounded-xl font-semibold transition-all ${t===1?"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-slate-700 text-white hover:bg-slate-600 hover:scale-105"}`,children:"Back"}),n.jsxs("div",{className:"flex items-center gap-3",children:[t===2&&n.jsx("button",{onClick:C,className:"px-6 py-3 text-slate-400 hover:text-white transition-colors font-medium",children:"Skip this step"}),n.jsx("button",{onClick:j,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl font-semibold hover:from-blue-600 hover:to-indigo-700 hover:scale-105 hover:shadow-xl hover:shadow-blue-500/30 transition-all",children:"Next"})]})]}),t===h&&n.jsx("div",{className:"flex justify-start",children:n.jsx("button",{onClick:b,className:"px-6 py-3 rounded-xl font-semibold bg-slate-700 text-white hover:bg-slate-600 hover:scale-105 transition-all",children:"Back"})}),n.jsx("div",{className:"mt-8 text-center",children:n.jsxs("p",{className:"text-slate-400 text-sm",children:[" ",new Date().getFullYear()," Revalyze B.V."]})})]})})},nv=()=>{const e=xt(),{logout:t,user:r}=$t(),l=[{name:"Overview",path:"/app/overview",icon:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})},{name:"Analysis",path:"/app/analyses",icon:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})},{name:"Competitors",path:"/app/competitors",icon:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})},{name:"My Pricing",path:"/app/plans",icon:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2zM10 8.5a.5.5 0 11-1 0 .5.5 0 011 0zm5 5a.5.5 0 11-1 0 .5.5 0 011 0z"})},{name:"My Pricing v2",path:"/app/plans-v2",badge:"NEW",icon:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})},{name:"Simulation",path:"/app/simulation",icon:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})},{name:"Reports",path:"/app/reports",icon:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})},{name:"Settings",path:"/app/settings",icon:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"})}],s=()=>{t(),e("/login")};return n.jsxs("div",{className:"w-64 bg-slate-900 border-r border-slate-800 flex flex-col h-screen sticky top-0",children:[n.jsx("div",{className:"p-6 border-b border-slate-800",children:n.jsx("img",{src:"/revalyze-logo.png",alt:"Revalyze",className:"h-10 w-auto"})}),n.jsx("nav",{className:"flex-1 p-4 space-y-1",children:l.map(a=>n.jsxs(Cg,{to:a.path,className:({isActive:i})=>`flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all ${i?"bg-blue-500/10 text-blue-400 shadow-sm":"text-slate-400 hover:text-slate-300 hover:bg-slate-800"}`,children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.icon}),a.name,a.badge&&n.jsx("span",{className:"ml-auto text-[10px] font-semibold bg-gradient-to-r from-purple-500 to-blue-500 text-white px-1.5 py-0.5 rounded",children:a.badge})]},a.path))}),n.jsxs("div",{className:"p-4 border-t border-slate-800 space-y-3",children:[r&&n.jsxs("div",{className:"px-4 py-2",children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Signed in as"}),n.jsx("p",{className:"text-sm text-slate-300 truncate",children:r.email})]}),n.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium text-slate-400 hover:text-red-400 hover:bg-red-500/10 transition-all",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]}),n.jsxs("p",{className:"text-xs text-slate-500 text-center",children:[" ",new Date().getFullYear()," Revalyze B.V."]})]})]})},sh=()=>{const[e,t]=g.useState(null),[r,l]=g.useState(!0),[s,a]=g.useState(null),i=g.useCallback(async()=>{l(!0),a(null);try{const{data:c}=await Gm.get();t(c)}catch(c){console.error("Failed to fetch AI credits:",c),a(c)}finally{l(!1)}},[]);return g.useEffect(()=>{i()},[i]),{credits:e,loading:r,error:s,refetch:i}},lv=({credits:e,loading:t,onClick:r})=>{if(t)return n.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-slate-800/50 rounded-lg border border-slate-700",children:[n.jsx("div",{className:"w-3 h-3 border-2 border-slate-500 border-t-transparent rounded-full animate-spin"}),n.jsx("span",{className:"text-xs text-slate-400",children:"Loading..."})]});if(!e)return null;const l=e.remaining_credits??e.remainingCredits??0;e.used_credits??e.usedCredits;const s=e.monthly_credits??e.monthlyCredits??0,a=l<=2,i=l===0;return n.jsxs("button",{onClick:r,className:`flex items-center gap-2 px-3 py-1.5 rounded-lg border transition-all hover:scale-105 ${i?"bg-red-500/10 border-red-500/30 hover:border-red-500/50":a?"bg-amber-500/10 border-amber-500/30 hover:border-amber-500/50":"bg-slate-800/50 border-slate-700 hover:border-slate-600"}`,title:i?"Upgrade your plan to get more AI Insight Credits":"AI Insight Credits remaining this month",children:[n.jsx("svg",{className:`w-4 h-4 ${i?"text-red-400":a?"text-amber-400":"text-blue-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),n.jsxs("span",{className:`text-xs font-medium ${i?"text-red-400":a?"text-amber-400":"text-slate-300"}`,children:[l," / ",s]}),i&&n.jsx("span",{className:"text-xs text-red-400 font-medium",children:"Upgrade"})]})},sv=()=>{const e=Wt(),t=xt(),{isAdmin:r,user:l}=$t(),{credits:s,loading:a}=sh(),i=()=>{const o=e.pathname;return o.includes("overview")?"Overview":o.includes("analyses")?"Analyses":o.includes("simulation")?"Pricing Simulation":o.includes("competitors")?"Competitors":o.includes("plans")?"My Pricing":o.includes("reports")?"Reports":o.includes("settings")?"Settings":o.includes("billing")?"Billing & Subscription":"Dashboard"},c=()=>{if(l!=null&&l.full_name){const o=l.full_name.split(" ");return o.length>=2?(o[0][0]+o[1][0]).toUpperCase():o[0].substring(0,2).toUpperCase()}return l!=null&&l.email?l.email.substring(0,2).toUpperCase():"U"};return n.jsxs("div",{className:"h-16 bg-slate-900/50 backdrop-blur-sm border-b border-slate-800 flex items-center justify-between px-6 sticky top-0 z-10",children:[n.jsx("div",{children:n.jsx("h1",{className:"text-xl font-semibold text-white",children:i()})}),n.jsxs("div",{className:"flex items-center gap-4",children:[!r&&n.jsx(lv,{credits:s,loading:a,onClick:()=>t("/app/billing")}),!r&&n.jsx("button",{onClick:()=>t("/app/billing"),className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg font-medium hover:from-blue-600 hover:to-indigo-700 transition-all hover:scale-105 text-sm shadow-lg shadow-blue-500/20",children:"Upgrade"}),n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-semibold text-sm shadow-lg",children:c()})]})]})},av=()=>n.jsxs("div",{className:"flex min-h-screen bg-slate-950",children:[n.jsx(nv,{}),n.jsxs("div",{className:"flex-1 flex flex-col",children:[n.jsx(sv,{}),n.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:n.jsx(rg,{})})]})]}),iv=()=>{const e=xt(),{competitors:t}=bc(),{plans:r}=Sa(),{analyses:l,runAnalysis:s,isRunning:a,error:i,limitError:c,clearLimitError:o}=jc(),{metrics:u,hasMetrics:m,isLoading:h}=th(),[x,y]=g.useState(null),j=S=>({LIMIT_ANALYSES:"Analysis Limit Reached",LIMIT_COMPETITORS:"Competitor Limit Reached",LIMIT_PLANS:"Plan Limit Reached",LIMIT_TRIAL_EXPIRED:"Trial Expired"})[S]||"Limit Reached",b=S=>S.errorCode==="LIMIT_TRIAL_EXPIRED"?"Your free trial has expired. Upgrade to continue using Revalyze.":S.errorCode==="LIMIT_ANALYSES"?S.plan==="free"?`You've used all ${S.limit} free analyses. Upgrade to get more analyses each month.`:`You've reached your monthly limit of ${S.limit} analyses. Upgrade for more.`:S.reason||"You have reached a limit on your current plan.",C=(S,v="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:v,minimumFractionDigits:0,maximumFractionDigits:0}).format(S),f=[{label:"Created account",completed:!0},{label:"Completed onboarding",completed:!0},{label:"Defined current plans",completed:r.length>0},{label:"Added competitors",completed:t.length>0},{label:"Ran first pricing analysis",completed:l.length>0}],d=r.length>0,p=t.length>0,w=l.length>0,k=async()=>{if(!d||!p)return;y(null);const S=await s();S.success?e("/app/analyses"):y(S.error||"Failed to run analysis")};return n.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[c&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-slate-900 rounded-2xl border border-slate-700 shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[n.jsx("div",{className:"p-6 pb-4 bg-gradient-to-br from-amber-500/10 to-orange-500/10 border-b border-slate-800",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 bg-amber-500/20 rounded-xl flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-white",children:j(c.errorCode)}),n.jsxs("p",{className:"text-sm text-slate-400",children:["Current plan: ",n.jsx("span",{className:"text-amber-400 font-medium capitalize",children:c.plan||"Free"})]})]})]})}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsx("p",{className:"text-slate-300 leading-relaxed",children:b(c)}),c.limit&&c.current!==void 0&&n.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm text-slate-400",children:"Usage"}),n.jsxs("span",{className:"text-sm font-medium text-white",children:[c.current," / ",c.limit]})]}),n.jsx("div",{className:"w-full h-2 bg-slate-700 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-amber-500 to-red-500 rounded-full transition-all",style:{width:`${Math.min(c.current/c.limit*100,100)}%`}})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Upgrade to unlock:"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsxs("li",{className:"flex items-center gap-2 text-sm text-slate-300",children:[n.jsx("svg",{className:"w-4 h-4 text-emerald-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"More analyses per month"]}),n.jsxs("li",{className:"flex items-center gap-2 text-sm text-slate-300",children:[n.jsx("svg",{className:"w-4 h-4 text-emerald-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"AI-powered pricing insights"]}),n.jsxs("li",{className:"flex items-center gap-2 text-sm text-slate-300",children:[n.jsx("svg",{className:"w-4 h-4 text-emerald-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Track more competitors"]})]})]})]}),n.jsxs("div",{className:"p-6 pt-4 bg-slate-800/30 border-t border-slate-800 flex items-center gap-3",children:[n.jsx("button",{onClick:o,className:"flex-1 px-4 py-2.5 bg-slate-800 text-slate-300 rounded-xl font-medium hover:bg-slate-700 transition-all",children:"Maybe Later"}),n.jsx("button",{onClick:()=>{o(),e("/app/billing")},className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl font-semibold hover:from-blue-600 hover:to-indigo-700 transition-all shadow-lg shadow-blue-500/20",children:"Upgrade Now"})]})]})}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[n.jsx("div",{className:"md:col-span-2 space-y-6",children:n.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-2xl p-8 border border-slate-800",children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Welcome to Revalyze"}),n.jsx("p",{className:"text-slate-400 text-lg mb-8",children:"Your AI Pricing Brain for SaaS"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-4",children:"Getting Started"}),f.map((S,v)=>n.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-slate-800/50 border border-slate-700",children:[n.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 transition-all ${S.completed?"bg-blue-500 shadow-lg shadow-blue-500/50":"bg-slate-700 border border-slate-600"}`,children:S.completed&&n.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),n.jsx("span",{className:`${S.completed?"text-slate-300":"text-slate-400"} transition-colors`,children:S.label})]},v))]})]})}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-indigo-500/10 backdrop-blur-sm rounded-2xl p-6 border border-blue-500/20",children:[n.jsxs("div",{className:"flex items-start gap-3 mb-6",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center flex-shrink-0 shadow-lg shadow-blue-500/50",children:n.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:"Next best action"}),n.jsx("p",{className:"text-sm text-slate-400",children:d?p?w?"Review your latest pricing analysis or run a new one.":"You're all set! Run your first pricing analysis.":"Add competitors so Revalyze can benchmark your pricing.":"Define your current pricing plans to start the analysis."})]})]}),d?p?w?n.jsx("button",{onClick:()=>e("/app/analyses"),className:"block w-full px-4 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl font-semibold hover:from-blue-600 hover:to-indigo-700 transition-all hover:scale-105 text-center shadow-lg shadow-blue-500/20",children:"View Analysis"}):n.jsx("button",{onClick:k,disabled:a,className:"block w-full px-4 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl font-semibold hover:from-blue-600 hover:to-indigo-700 transition-all hover:scale-105 text-center shadow-lg shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:a?n.jsxs("span",{className:"flex items-center justify-center gap-2",children:[n.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Running Analysis..."]}):"Run Analysis"}):n.jsx("button",{onClick:()=>e("/app/competitors"),className:"block w-full px-4 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl font-semibold hover:from-blue-600 hover:to-indigo-700 transition-all hover:scale-105 text-center shadow-lg shadow-blue-500/20",children:"Go to Competitors"}):n.jsx("button",{onClick:()=>e("/app/plans"),className:"block w-full px-4 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl font-semibold hover:from-blue-600 hover:to-indigo-700 transition-all hover:scale-105 text-center shadow-lg shadow-blue-500/20",children:"Go to My Pricing"})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Pricing Insights"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-2xl p-6 border border-slate-800 hover:border-slate-700 transition-colors",children:[n.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-amber-500/10 rounded-xl flex items-center justify-center flex-shrink-0",children:n.jsx("svg",{className:"w-6 h-6 text-amber-500",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Potential underpricing detected"}),n.jsx("p",{className:"text-slate-400 leading-relaxed",children:"Your current plans are likely underpriced compared to the market. Based on similar SaaS products, you may be leaving revenue on the table."})]})]}),n.jsx("div",{className:"pt-4 border-t border-slate-800",children:n.jsx("p",{className:"text-sm text-slate-500",children:"Connect Stripe to get personalized insights"})})]}),n.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-2xl p-6 border border-slate-800 hover:border-slate-700 transition-colors",children:[n.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-500/10 rounded-xl flex items-center justify-center flex-shrink-0",children:n.jsx("svg",{className:"w-6 h-6 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Price increase opportunity"}),n.jsx("p",{className:"text-slate-400 leading-relaxed",children:"Increasing your Pro plan by 1015% could increase MRR without a major churn risk. Industry benchmarks show similar products at higher price points."})]})]}),n.jsx("div",{className:"pt-4 border-t border-slate-800",children:n.jsx("p",{className:"text-sm text-slate-500",children:"Add competitors for detailed comparison"})})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Business Snapshot"}),h?n.jsx("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-2xl p-6 border border-slate-800",children:n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})}):m&&u?n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-xl p-6 border border-slate-800 hover:border-emerald-500/30 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"w-10 h-10 bg-emerald-500/10 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-5 h-5 text-emerald-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("div",{className:"text-sm text-slate-400",children:"Monthly Recurring Revenue"})]}),n.jsx("div",{className:"text-3xl font-bold text-white",children:C(u.mrr,u.currency)}),n.jsx("div",{className:"text-xs text-slate-500 mt-1",children:u.currency})]}),n.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-xl p-6 border border-slate-800 hover:border-blue-500/30 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),n.jsx("div",{className:"text-sm text-slate-400",children:"Customers"})]}),n.jsx("div",{className:"text-3xl font-bold text-white",children:u.customers.toLocaleString()}),n.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Active subscribers"})]}),n.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-xl p-6 border border-slate-800 hover:border-amber-500/30 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"w-10 h-10 bg-amber-500/10 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-5 h-5 text-amber-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})})}),n.jsx("div",{className:"text-sm text-slate-400",children:"Monthly Churn Rate"})]}),n.jsxs("div",{className:"text-3xl font-bold text-white",children:[u.monthly_churn_rate.toFixed(1),"%"]}),n.jsx("div",{className:"text-xs text-slate-500 mt-1",children:u.monthly_churn_rate<3?"Healthy":u.monthly_churn_rate<5?"Moderate":"High"})]})]}):n.jsx("div",{className:"bg-gradient-to-br from-indigo-500/10 to-purple-500/10 backdrop-blur-sm rounded-2xl p-6 border border-indigo-500/20",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-12 h-12 bg-indigo-500/20 rounded-xl flex items-center justify-center flex-shrink-0",children:n.jsx("svg",{className:"w-6 h-6 text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Add your business metrics"}),n.jsx("p",{className:"text-slate-400 text-sm leading-relaxed mb-4",children:"Add your business metrics to get more context in your pricing analysis. Track your MRR, customer count, and churn rate to receive more accurate recommendations."}),n.jsx("button",{onClick:()=>e("/app/settings"),className:"px-5 py-2.5 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl font-medium text-sm hover:from-indigo-600 hover:to-purple-700 transition-all hover:scale-105 shadow-lg shadow-indigo-500/20",children:"Add Business Metrics"})]})]})})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Quick Stats"}),n.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-xl p-6 border border-slate-800",children:[n.jsx("div",{className:"text-sm text-slate-400 mb-1",children:"Plans Defined"}),n.jsx("div",{className:"text-3xl font-bold text-white",children:r.length})]}),n.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-xl p-6 border border-slate-800",children:[n.jsx("div",{className:"text-sm text-slate-400 mb-1",children:"Competitors Added"}),n.jsx("div",{className:"text-3xl font-bold text-white",children:t.length})]}),n.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-xl p-6 border border-slate-800",children:[n.jsx("div",{className:"text-sm text-slate-400 mb-1",children:"Analyses Run"}),n.jsx("div",{className:"text-3xl font-bold text-white",children:l.length})]}),n.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-xl p-6 border border-slate-800",children:[n.jsx("div",{className:"text-sm text-slate-400 mb-1",children:"Reports Generated"}),n.jsx("div",{className:"text-3xl font-bold text-white",children:"0"})]})]}),l.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-500/5 border border-blue-500/20 rounded-xl",children:n.jsxs("p",{className:"text-sm text-slate-300",children:[l.length===1?"You've run 1 analysis so far. ":`You've run ${l.length} analyses so far. `,l.length>=3?"Great progress! Track your pricing evolution over time in the Analyses page.":"Keep running analyses to track your pricing evolution over time."]})})]})]})},ov=()=>{var w;const e=xt(),{analyses:t,selectedAnalysis:r,selectAnalysis:l,isLoading:s,isRunning:a,runAnalysis:i,limitError:c,clearLimitError:o}=Zm(),[u,m]=g.useState(null),[h,x]=g.useState(null),y=k=>{const S=new Date(k);return new Intl.DateTimeFormat("en-US",{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"}).format(S)},j=k=>{const S=new Date(k);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(S)},b=k=>{switch(k){case"critical":return"bg-red-500/20 text-red-400 border-red-500/30";case"warning":return"bg-amber-500/20 text-amber-400 border-amber-500/30";case"info":default:return"bg-blue-500/20 text-blue-400 border-blue-500/30"}},C=k=>{switch(k){case"critical":return n.jsx("svg",{className:"w-4 h-4 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})});case"warning":return n.jsx("svg",{className:"w-4 h-4 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return n.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}},f=async()=>{const k=await i();k.success||console.error("Failed to run analysis:",k.error)},d=async(k,S)=>{m(k),x(null);try{const{ok:v,blob:_}=await la.exportPdf(k);if(v&&_){const L=`pricing-report-${new Date(S).toISOString().split("T")[0]}.pdf`;yc(_,L)}}catch(v){console.error("Failed to export PDF:",v),x(v.message||"Failed to export PDF"),setTimeout(()=>x(null),5e3)}finally{m(null)}};if(s)return n.jsx("div",{className:"max-w-5xl mx-auto",children:n.jsxs("div",{className:"text-center py-20",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-slate-400",children:"Loading analysis history..."})]})});if(t.length===0)return n.jsx("div",{className:"max-w-5xl mx-auto",children:n.jsxs("div",{className:"text-center py-20",children:[n.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500/20 to-blue-500/20 rounded-2xl flex items-center justify-center mx-auto mb-6",children:n.jsx("svg",{className:"w-10 h-10 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),n.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"No Analyses Yet"}),n.jsx("p",{className:"text-slate-400 mb-8 max-w-md mx-auto leading-relaxed",children:"Run your first pricing analysis to get deterministic insights with AI-powered commentary."}),n.jsx("button",{onClick:f,disabled:a,className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-blue-600 text-white rounded-xl font-semibold hover:from-purple-600 hover:to-blue-700 hover:scale-105 transition-all shadow-lg shadow-purple-500/20 disabled:opacity-50",children:a?"Running Analysis...":"Run Analysis"})]})});if(!r)return null;const p=y(r.createdAt);return n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-slate-900 rounded-2xl border border-slate-700 shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[n.jsx("div",{className:"p-6 pb-4 bg-gradient-to-br from-amber-500/10 to-orange-500/10 border-b border-slate-800",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 bg-amber-500/20 rounded-xl flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),n.jsx("div",{children:n.jsx("h3",{className:"text-lg font-bold text-white",children:c.errorCode==="AI_QUOTA_EXCEEDED"?"AI Credits Exhausted":"Limit Reached"})})]})}),n.jsx("div",{className:"p-6 space-y-4",children:n.jsx("p",{className:"text-slate-300 leading-relaxed",children:c.reason})}),n.jsxs("div",{className:"p-6 pt-4 bg-slate-800/30 border-t border-slate-800 flex items-center gap-3",children:[n.jsx("button",{onClick:o,className:"flex-1 px-4 py-2.5 bg-slate-800 text-slate-300 rounded-xl font-medium hover:bg-slate-700 transition-all",children:"Close"}),n.jsx("button",{onClick:()=>{o(),e("/app/billing")},className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl font-semibold hover:from-blue-600 hover:to-indigo-700 transition-all",children:"Upgrade Now"})]})]})}),h&&n.jsx("div",{className:"fixed bottom-6 right-6 z-50 animate-fade-in-up",children:n.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-red-500/10 border border-red-500/30 rounded-xl shadow-lg backdrop-blur-sm",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-sm text-red-300",children:h})]})}),n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-slate-900 to-slate-800 rounded-2xl p-8 border border-slate-800 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 opacity-5",children:[n.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-purple-500 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-blue-500 rounded-full blur-3xl"})]}),n.jsx("div",{className:"relative",children:n.jsxs("div",{className:"flex items-start justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center gap-3 mb-3",children:n.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-medium text-purple-400 bg-gradient-to-r from-purple-500/20 to-blue-500/20 px-3 py-1 rounded-full border border-purple-500/30",children:[n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Analysis Engine"]})}),n.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Pricing Analysis Report"}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[n.jsxs("span",{className:"flex items-center gap-1.5",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),p]}),n.jsx("span",{className:"w-1 h-1 bg-slate-600 rounded-full"}),n.jsxs("span",{children:[r.ruleResult.numPlans," plans"]}),n.jsx("span",{className:"w-1 h-1 bg-slate-600 rounded-full"}),n.jsxs("span",{children:[r.ruleResult.numCompetitors," competitors"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>d(r.id,r.createdAt),disabled:u===r.id,className:"flex items-center gap-2 px-4 py-2.5 bg-slate-800 text-slate-300 rounded-xl font-medium hover:bg-slate-700 transition-all disabled:opacity-50 border border-slate-700",children:u===r.id?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Exporting..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export PDF"]})}),n.jsx("button",{onClick:f,disabled:a,className:"flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-purple-500/20 to-blue-500/20 text-purple-400 rounded-xl font-medium hover:from-purple-500/30 hover:to-blue-500/30 transition-all disabled:opacity-50 border border-purple-500/20",children:a?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Running..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Run New"]})})]})]})})]}),r.llmOutput.executiveSummary&&n.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-2xl p-6 border border-slate-800",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),n.jsx("h2",{className:"text-lg font-semibold text-white",children:"Executive Summary"})]}),n.jsx("p",{className:"text-slate-300 text-sm leading-relaxed whitespace-pre-line",children:r.llmOutput.executiveSummary})]}),r.ruleResult.insights.length>0&&n.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-2xl p-6 border border-slate-800",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("svg",{className:"w-5 h-5 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),n.jsx("h2",{className:"text-lg font-semibold text-white",children:"System Detected Insights"}),n.jsx("span",{className:"text-xs text-slate-500 bg-slate-800 px-2 py-1 rounded-full ml-auto",children:"Deterministic"})]}),n.jsx("div",{className:"space-y-3",children:r.ruleResult.insights.map((k,S)=>n.jsx("div",{className:`p-4 rounded-xl border ${b(k.severity)}`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[C(k.severity),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("h4",{className:"font-medium text-white",children:k.title}),n.jsx("span",{className:"text-xs text-slate-500 font-mono",children:k.code})]}),n.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:k.description})]})]})},S))})]}),r.llmOutput.pricingInsights.length>0&&n.jsxs("div",{className:"bg-gradient-to-br from-purple-500/5 via-slate-900/50 to-blue-500/5 backdrop-blur-sm rounded-2xl border border-purple-500/20 overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-purple-500/10 to-blue-500/10 border-b border-purple-500/20",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-blue-500 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-base font-semibold text-white",children:"Pricing Insights"}),n.jsx("p",{className:"text-xs text-slate-400",children:"AI-powered strategic analysis"})]})]})}),n.jsx("div",{className:"p-6 space-y-4",children:r.llmOutput.pricingInsights.map((k,S)=>n.jsxs("div",{className:"p-4 bg-slate-800/30 rounded-xl border border-slate-700/30",children:[n.jsx("h4",{className:"font-medium text-white mb-2",children:k.title}),n.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:k.body})]},S))})]}),r.llmOutput.recommendations.length>0&&n.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-2xl p-6 border border-slate-800",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("svg",{className:"w-5 h-5 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("h2",{className:"text-lg font-semibold text-white",children:"Recommendations"})]}),n.jsx("div",{className:"space-y-4",children:r.llmOutput.recommendations.map((k,S)=>n.jsxs("div",{className:"flex items-start gap-4 p-4 bg-slate-800/30 rounded-xl",children:[n.jsx("div",{className:"w-8 h-8 bg-emerald-500/20 rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx("span",{className:"text-sm font-bold text-emerald-400",children:S+1})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-white mb-1",children:k.action}),n.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:k.reason})]})]},S))})]}),((w=r.llmOutput.suggestedNextActions)==null?void 0:w.length)>0&&n.jsxs("div",{className:"bg-gradient-to-br from-indigo-500/5 via-slate-900/50 to-purple-500/5 backdrop-blur-sm rounded-2xl border border-indigo-500/20 overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-indigo-500/10 to-purple-500/10 border-b border-indigo-500/20",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-base font-semibold text-white",children:"Suggested Next Actions"}),n.jsx("p",{className:"text-xs text-slate-400",children:"Based on this analysis, here are the most impactful next steps to validate with Pricing Simulation."})]})]})}),n.jsx("div",{className:"p-6 space-y-4",children:r.llmOutput.suggestedNextActions.map((k,S)=>n.jsx("div",{className:"p-4 bg-slate-800/30 rounded-xl border border-slate-700/30 hover:border-indigo-500/30 transition-all group",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-xs font-medium text-indigo-400 bg-indigo-500/10 px-2 py-0.5 rounded-full border border-indigo-500/20",children:"Action"}),n.jsx("span",{className:"text-xs text-slate-500 font-mono",children:k.code})]}),n.jsx("h4",{className:"font-medium text-white mb-1",children:k.title}),n.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:k.description})]}),n.jsx("div",{className:"flex-shrink-0",children:n.jsxs("button",{onClick:()=>e(`/app/simulation?action=${encodeURIComponent(k.code)}`),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 text-white text-sm font-medium rounded-lg hover:from-indigo-600 hover:to-purple-600 transition-all hover:scale-105 shadow-lg shadow-indigo-500/20",children:[n.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Simulate this"]})})]})},S))})]}),r.llmOutput.riskAnalysis.length>0&&n.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-2xl p-6 border border-red-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),n.jsx("h2",{className:"text-lg font-semibold text-white",children:"Risk Analysis"})]}),n.jsx("div",{className:"space-y-3",children:r.llmOutput.riskAnalysis.map((k,S)=>n.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-500/5 rounded-xl border border-red-500/10",children:[n.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full mt-2 flex-shrink-0"}),n.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:k})]},S))})]})]}),n.jsx("aside",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-2xl p-6 border border-slate-800 sticky top-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-5",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 bg-purple-500/10 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-4 h-4 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("h3",{className:"text-base font-semibold text-white",children:"Analysis History"})]}),n.jsx("span",{className:"text-xs text-slate-400 bg-slate-800/80 px-2.5 py-1 rounded-full",children:t.length})]}),n.jsx("div",{className:"space-y-3",children:t.map((k,S)=>{const v=k.id===r.id,_=S===0;return n.jsx("div",{className:`group rounded-xl border transition-all duration-200 ${v?"border-purple-500/50 bg-purple-500/5":"border-slate-800 bg-slate-900/30 hover:border-slate-700"}`,children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-white",children:j(k.createdAt)}),_&&n.jsx("span",{className:"text-xs font-medium text-purple-400 bg-purple-500/10 px-2 py-0.5 rounded-full",children:"Latest"})]}),n.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500 mb-3",children:[n.jsxs("span",{children:[k.ruleResult.numPlans," plans"]}),n.jsxs("span",{children:[k.ruleResult.numCompetitors," competitors"]})]}),n.jsxs("div",{className:"flex items-center gap-1.5 mb-3",children:[k.ruleResult.insights.filter(M=>M.severity==="critical").length>0&&n.jsxs("span",{className:"text-xs bg-red-500/20 text-red-400 px-2 py-0.5 rounded",children:[k.ruleResult.insights.filter(M=>M.severity==="critical").length," critical"]}),k.ruleResult.insights.filter(M=>M.severity==="warning").length>0&&n.jsxs("span",{className:"text-xs bg-amber-500/20 text-amber-400 px-2 py-0.5 rounded",children:[k.ruleResult.insights.filter(M=>M.severity==="warning").length," warning"]})]}),n.jsx("button",{onClick:()=>l(k.id),disabled:v,className:`w-full text-xs font-medium py-2 rounded-lg transition-all ${v?"text-slate-500 bg-slate-800/50 cursor-default":"text-white bg-slate-800 hover:bg-slate-700"}`,children:v?"Currently Viewing":"View Report"})]})},k.id)})}),n.jsx("div",{className:"mt-4 pt-4 border-t border-slate-800",children:n.jsx("button",{onClick:f,disabled:a,className:"w-full text-center text-sm font-medium py-2.5 rounded-xl bg-gradient-to-r from-purple-500/10 to-blue-500/10 text-purple-400 hover:from-purple-500/20 hover:to-blue-500/20 transition-all border border-purple-500/20 disabled:opacity-50",children:a?"Running...":"+ Run New Analysis"})})]})})]})},ud=[{value:"USD",label:"USD"},{value:"EUR",label:"EUR"},{value:"GBP",label:"GBP"},{value:"TRY",label:"TRY"}],dd=[{value:"monthly",label:"Monthly"},{value:"yearly",label:"Yearly"}],cv=()=>{const{competitors:e,addCompetitor:t,updateCompetitor:r,removeCompetitor:l,isLoading:s,error:a,clearError:i}=bc(),[c,o]=g.useState({name:"",url:""}),[u,m]=g.useState([]),[h,x]=g.useState({name:"",price:"",currency:"USD",billingCycle:"monthly"}),[y,j]=g.useState(""),[b,C]=g.useState(!1),[f,d]=g.useState(null),[p,w]=g.useState(null),[k,S]=g.useState(null),[v,_]=g.useState({name:"",url:"",plans:[]}),[M,L]=g.useState({name:"",price:"",currency:"USD",billingCycle:"monthly"}),[O,$]=g.useState(""),[ee,z]=g.useState(!1),te=T=>{const{name:ne,value:ce}=T.target;o(J=>({...J,[ne]:ce})),y&&j(""),a&&i()},me=()=>{if(!h.name.trim()){j("Plan name is required");return}if(!h.price||parseFloat(h.price)<0){j("Price must be 0 or greater");return}m([...u,{id:Date.now(),name:h.name.trim(),price:parseFloat(h.price),currency:h.currency,billingCycle:h.billingCycle}]),x({name:"",price:"",currency:"USD",billingCycle:"monthly"}),j("")},ue=T=>{m(u.filter(ne=>ne.id!==T))},I=async T=>{if(T.preventDefault(),!c.name.trim()){j("Competitor name is required");return}if(u.length===0){j("Add at least one pricing plan for this competitor");return}C(!0);const ne=await t({name:c.name.trim(),url:c.url.trim(),plans:u.map(ce=>({name:ce.name,price:ce.price,currency:ce.currency,billingCycle:ce.billingCycle}))});C(!1),ne.success?(o({name:"",url:""}),m([]),j("")):j(ne.error||"Failed to add competitor")},G=async T=>{confirm("Are you sure you want to remove this competitor?")&&(d(T),await l(T),d(null))},H=T=>{var ne;S(T.id),_({name:T.name,url:T.url||"",plans:((ne=T.plans)==null?void 0:ne.map(ce=>({id:Date.now()+Math.random(),name:ce.name,price:ce.price,currency:ce.currency,billingCycle:ce.billingCycle})))||[]}),$(""),w(T.id)},P=()=>{S(null),_({name:"",url:"",plans:[]}),$("")},F=T=>{const{name:ne,value:ce}=T.target;_(J=>({...J,[ne]:ce})),O&&$("")},q=()=>{if(!M.name.trim()){$("Plan name is required");return}if(!M.price||parseFloat(M.price)<0){$("Price must be 0 or greater");return}_(T=>({...T,plans:[...T.plans,{id:Date.now(),name:M.name.trim(),price:parseFloat(M.price),currency:M.currency,billingCycle:M.billingCycle}]})),L({name:"",price:"",currency:"USD",billingCycle:"monthly"}),$("")},he=T=>{_(ne=>({...ne,plans:ne.plans.filter(ce=>ce.id!==T)}))},le=async()=>{if(!v.name.trim()){$("Competitor name is required");return}if(v.plans.length===0){$("Add at least one pricing plan");return}z(!0);const T=await r(k,{name:v.name.trim(),url:v.url.trim(),plans:v.plans.map(ne=>({name:ne.name,price:ne.price,currency:ne.currency,billingCycle:ne.billingCycle}))});z(!1),T.success?(S(null),_({name:"",url:"",plans:[]}),$("")):$(T.error||"Failed to update competitor")},ye=(T,ne)=>new Intl.NumberFormat("en-US",{style:"currency",currency:ne||"USD",minimumFractionDigits:0,maximumFractionDigits:2}).format(T),U=()=>e.reduce((T,ne)=>{var ce;return T+(((ce=ne.plans)==null?void 0:ce.length)||0)},0);return n.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Competitors"}),n.jsx("p",{className:"text-slate-400",children:"Add competitors and their pricing plans. Revalyze uses this data to benchmark your SaaS pricing."})]}),a&&n.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4 flex items-center justify-between",children:[n.jsx("p",{className:"text-red-400",children:a}),n.jsx("button",{onClick:i,className:"text-red-400 hover:text-red-300 p-1",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-2xl p-6 border border-slate-800",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Add Competitor"}),n.jsxs("form",{onSubmit:I,className:"space-y-5",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"name",className:"block text-sm font-semibold text-slate-300 mb-2",children:["Competitor Name ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("input",{id:"name",name:"name",type:"text",value:c.name,onChange:te,disabled:b,className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all disabled:opacity-50",placeholder:"e.g., Notion, Slack"})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"url",className:"block text-sm font-semibold text-slate-300 mb-2",children:["Website ",n.jsx("span",{className:"text-slate-500 font-normal",children:"(optional)"})]}),n.jsx("input",{id:"url",name:"url",type:"url",value:c.url,onChange:te,disabled:b,className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all disabled:opacity-50",placeholder:"https://competitor.com"})]})]}),n.jsxs("div",{className:"border-t border-slate-700 pt-5",children:[n.jsxs("h4",{className:"text-sm font-semibold text-slate-300 mb-3",children:["Pricing Plans ",n.jsx("span",{className:"text-red-400",children:"*"})]}),u.length>0&&n.jsx("div",{className:"mb-4 space-y-2",children:u.map(T=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-slate-800/50 border border-slate-700",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-white font-medium",children:T.name}),n.jsxs("span",{className:"text-slate-400 ml-2",children:[ye(T.price,T.currency)," / ",T.billingCycle]})]}),n.jsx("button",{type:"button",onClick:()=>ue(T.id),className:"p-1 text-slate-500 hover:text-red-400 transition-colors",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},T.id))}),n.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[n.jsx("div",{className:"flex-1 min-w-[150px]",children:n.jsx("input",{type:"text",value:h.name,onChange:T=>x({...h,name:T.target.value}),disabled:b,className:"w-full px-3 py-2 rounded-lg bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 outline-none text-sm disabled:opacity-50",placeholder:"Plan name (e.g., Pro)"})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("select",{value:h.currency,onChange:T=>x({...h,currency:T.target.value}),disabled:b,className:"w-20 px-2 py-2 rounded-lg bg-slate-900/50 border border-slate-700 text-white text-sm outline-none disabled:opacity-50",children:ud.map(T=>n.jsx("option",{value:T.value,children:T.label},T.value))}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:h.price,onChange:T=>x({...h,price:T.target.value}),disabled:b,className:"w-24 px-3 py-2 rounded-lg bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 outline-none text-sm disabled:opacity-50",placeholder:"Price"})]}),n.jsx("select",{value:h.billingCycle,onChange:T=>x({...h,billingCycle:T.target.value}),disabled:b,className:"px-3 py-2 rounded-lg bg-slate-900/50 border border-slate-700 text-white text-sm outline-none disabled:opacity-50",children:dd.map(T=>n.jsx("option",{value:T.value,children:T.label},T.value))}),n.jsx("button",{type:"button",onClick:me,disabled:b,className:"px-4 py-2 bg-slate-700 text-white rounded-lg text-sm font-medium hover:bg-slate-600 transition-all disabled:opacity-50",children:"+ Add Plan"})]})]}),y&&n.jsx("p",{className:"text-sm text-red-400",children:y}),n.jsx("button",{type:"submit",disabled:b,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl font-semibold hover:from-blue-600 hover:to-indigo-700 hover:scale-105 transition-all shadow-lg shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:b?n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Adding..."]}):"Add Competitor"})]})]}),n.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-2xl border border-slate-800 overflow-hidden",children:[n.jsxs("div",{className:"p-6 border-b border-slate-800 flex items-center justify-between",children:[n.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Your Competitors (",e.length,")"]}),n.jsxs("span",{className:"text-sm text-slate-400",children:[U()," pricing plans total"]})]}),s?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-slate-400",children:"Loading competitors..."})]}):e.length===0?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-slate-800 rounded-2xl flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),n.jsx("p",{className:"text-slate-400 text-lg",children:"You haven't added any competitors yet."}),n.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"Add your first competitor above to start benchmarking your pricing."})]}):n.jsx("div",{className:"divide-y divide-slate-800",children:e.map(T=>{var ne,ce;return n.jsx("div",{className:`${f===T.id?"opacity-50":""}`,children:k!==T.id?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-slate-800/30 transition-colors cursor-pointer",onClick:()=>w(p===T.id?null:T.id),children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center",children:n.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-white font-semibold",children:T.name||"Unnamed"}),n.jsxs("p",{className:"text-slate-500 text-sm",children:[((ne=T.plans)==null?void 0:ne.length)||0," plan(s)",T.url&&n.jsxs(n.Fragment,{children:["  ",n.jsx("a",{href:T.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",onClick:J=>J.stopPropagation(),children:new URL(T.url).hostname})]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:J=>{J.stopPropagation(),H(T)},className:"p-2 text-slate-400 hover:text-blue-400 hover:bg-blue-500/10 rounded-lg transition-all",title:"Edit",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),n.jsx("button",{onClick:J=>{J.stopPropagation(),G(T.id)},disabled:f===T.id,className:"p-2 text-slate-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-all disabled:opacity-50",title:"Delete",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),n.jsx("svg",{className:`w-5 h-5 text-slate-400 transition-transform ${p===T.id?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),p===T.id&&((ce=T.plans)==null?void 0:ce.length)>0&&n.jsx("div",{className:"px-4 pb-4",children:n.jsx("div",{className:"ml-14 space-y-2",children:T.plans.map((J,we)=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-slate-800/30 border border-slate-700/50",children:[n.jsx("span",{className:"text-slate-300",children:J.name}),n.jsxs("span",{className:"text-slate-400",children:[ye(J.price,J.currency)," / ",J.billingCycle]})]},we))})})]}):n.jsx("div",{className:"p-4 bg-slate-800/30",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:"text-lg font-semibold text-white",children:"Edit Competitor"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:P,disabled:ee,className:"px-4 py-2 text-slate-400 hover:text-white border border-slate-600 rounded-lg text-sm font-medium hover:bg-slate-700 transition-all disabled:opacity-50",children:"Cancel"}),n.jsx("button",{onClick:le,disabled:ee,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-all disabled:opacity-50 flex items-center gap-2",children:ee?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Changes"})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:["Competitor Name ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("input",{type:"text",name:"name",value:v.name,onChange:F,disabled:ee,className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 outline-none disabled:opacity-50",placeholder:"e.g., Notion"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Website"}),n.jsx("input",{type:"url",name:"url",value:v.url,onChange:F,disabled:ee,className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 outline-none disabled:opacity-50",placeholder:"https://competitor.com"})]})]}),n.jsxs("div",{className:"border-t border-slate-700 pt-4",children:[n.jsx("h5",{className:"text-sm font-semibold text-slate-300 mb-3",children:"Pricing Plans"}),v.plans.length>0&&n.jsx("div",{className:"mb-4 space-y-2",children:v.plans.map(J=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-slate-800/50 border border-slate-700",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-white font-medium",children:J.name}),n.jsxs("span",{className:"text-slate-400 ml-2",children:[ye(J.price,J.currency)," / ",J.billingCycle]})]}),n.jsx("button",{type:"button",onClick:()=>he(J.id),disabled:ee,className:"p-1 text-slate-500 hover:text-red-400 transition-colors disabled:opacity-50",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},J.id))}),n.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[n.jsx("div",{className:"flex-1 min-w-[150px]",children:n.jsx("input",{type:"text",value:M.name,onChange:J=>L({...M,name:J.target.value}),disabled:ee,className:"w-full px-3 py-2 rounded-lg bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 outline-none text-sm disabled:opacity-50",placeholder:"Plan name"})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("select",{value:M.currency,onChange:J=>L({...M,currency:J.target.value}),disabled:ee,className:"w-20 px-2 py-2 rounded-lg bg-slate-900/50 border border-slate-700 text-white text-sm outline-none disabled:opacity-50",children:ud.map(J=>n.jsx("option",{value:J.value,children:J.label},J.value))}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:M.price,onChange:J=>L({...M,price:J.target.value}),disabled:ee,className:"w-24 px-3 py-2 rounded-lg bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 outline-none text-sm disabled:opacity-50",placeholder:"Price"})]}),n.jsx("select",{value:M.billingCycle,onChange:J=>L({...M,billingCycle:J.target.value}),disabled:ee,className:"px-3 py-2 rounded-lg bg-slate-900/50 border border-slate-700 text-white text-sm outline-none disabled:opacity-50",children:dd.map(J=>n.jsx("option",{value:J.value,children:J.label},J.value))}),n.jsx("button",{type:"button",onClick:q,disabled:ee,className:"px-4 py-2 bg-slate-700 text-white rounded-lg text-sm font-medium hover:bg-slate-600 transition-all disabled:opacity-50",children:"+ Add Plan"})]})]}),O&&n.jsx("p",{className:"text-sm text-red-400",children:O})]})})},T.id)})})]})]})},uv=()=>{const{plans:e,addPlan:t,removePlan:r,updatePlan:l,isLoading:s,error:a,clearError:i}=Sa(),[c,o]=g.useState({name:"",price:"",currency:"USD",interval:"monthly",description:"",stripePriceId:""}),[u,m]=g.useState({}),[h,x]=g.useState(!1),[y,j]=g.useState(null),[b,C]=g.useState(null),[f,d]=g.useState({}),[p,w]=g.useState(!1),k=z=>{const{name:te,value:me}=z.target;o(ue=>({...ue,[te]:me})),u[te]&&m(ue=>({...ue,[te]:""})),a&&i()},S=()=>{const z={};return c.name.trim()||(z.name="Plan name is required"),c.price?(isNaN(c.price)||Number(c.price)<0)&&(z.price="Price must be a non-negative number"):z.price="Price is required",c.interval||(z.interval="Billing interval is required"),m(z),Object.keys(z).length===0},v=async z=>{if(z.preventDefault(),!S())return;x(!0);const te=await t({name:c.name.trim(),price:c.price,currency:c.currency,interval:c.interval,description:c.description.trim(),stripePriceId:c.stripePriceId.trim()});x(!1),te.success&&(o({name:"",price:"",currency:"USD",interval:"monthly",description:"",stripePriceId:""}),m({}))},_=async z=>{confirm("Are you sure you want to remove this plan?")&&(j(z),await r(z),j(null))},M=(z,te,me)=>`${new Intl.NumberFormat("en-US",{style:"currency",currency:te||"USD",minimumFractionDigits:0,maximumFractionDigits:2}).format(z)} / ${me==="monthly"?"month":"year"}`,L=z=>{C(z.id),d({name:z.name,price:z.price,currency:z.currency||"USD",interval:z.interval||"monthly",stripePriceId:z.stripePriceId||""})},O=()=>{C(null),d({})},$=z=>{const{name:te,value:me}=z.target;d(ue=>({...ue,[te]:me}))},ee=async z=>{w(!0);const te=await l(z,f);w(!1),te.success&&(C(null),d({}))};return n.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"My Pricing"}),n.jsx("p",{className:"text-slate-400",children:"Define your current SaaS plans and prices. Revalyze will use these as the baseline for pricing analysis."})]}),a&&n.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4 flex items-center justify-between",children:[n.jsx("p",{className:"text-red-400",children:a}),n.jsx("button",{onClick:i,className:"text-red-400 hover:text-red-300 p-1",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-2xl p-6 border border-slate-800",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Add New Plan"}),n.jsxs("form",{onSubmit:v,className:"space-y-4",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-slate-300 mb-2",children:"Plan Name"}),n.jsx("input",{id:"name",name:"name",type:"text",value:c.name,onChange:k,disabled:h,className:`w-full px-4 py-3 rounded-xl bg-slate-900/50 border ${u.name?"border-red-500":"border-slate-700"} text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all disabled:opacity-50`,placeholder:"e.g., Starter, Pro, Business"}),u.name&&n.jsx("p",{className:"text-sm text-red-400 mt-1",children:u.name})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"price",className:"block text-sm font-semibold text-slate-300 mb-2",children:"Price"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("select",{id:"currency",name:"currency",value:c.currency,onChange:k,disabled:h,className:"w-24 px-3 py-3 rounded-xl bg-slate-900/50 border border-slate-700 text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all appearance-none pr-8 disabled:opacity-50",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23cbd5e1'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.5rem center",backgroundSize:"1rem"},children:[n.jsx("option",{value:"USD",children:"USD"}),n.jsx("option",{value:"EUR",children:"EUR"}),n.jsx("option",{value:"GBP",children:"GBP"}),n.jsx("option",{value:"TRY",children:"TRY"})]}),n.jsx("input",{id:"price",name:"price",type:"number",step:"0.01",min:"0",value:c.price,onChange:k,disabled:h,className:`flex-1 px-4 py-3 rounded-xl bg-slate-900/50 border ${u.price?"border-red-500":"border-slate-700"} text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all disabled:opacity-50`,placeholder:"29.99"})]}),u.price&&n.jsx("p",{className:"text-sm text-red-400 mt-1",children:u.price})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"interval",className:"block text-sm font-semibold text-slate-300 mb-2",children:"Billing Interval"}),n.jsxs("select",{id:"interval",name:"interval",value:c.interval,onChange:k,disabled:h,className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-700 text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all appearance-none pr-10 disabled:opacity-50",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23cbd5e1'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center",backgroundSize:"1.5rem"},children:[n.jsx("option",{value:"monthly",children:"Monthly"}),n.jsx("option",{value:"yearly",children:"Yearly"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"description",className:"block text-sm font-semibold text-slate-300 mb-2",children:["Description ",n.jsx("span",{className:"text-slate-500 font-normal",children:"(optional)"})]}),n.jsx("input",{id:"description",name:"description",type:"text",value:c.description,onChange:k,disabled:h,className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all disabled:opacity-50",placeholder:"Brief description of what's included"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"stripePriceId",className:"block text-sm font-semibold text-slate-300 mb-2",children:["Stripe Price ID ",n.jsx("span",{className:"text-slate-500 font-normal",children:"(optional)"})]}),n.jsx("input",{id:"stripePriceId",name:"stripePriceId",type:"text",value:c.stripePriceId,onChange:k,disabled:h,className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all disabled:opacity-50 font-mono text-sm",placeholder:"price_..."}),n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Used to sync customers and MRR from Stripe. Find this in your Stripe Dashboard > Products."})]}),n.jsx("button",{type:"submit",disabled:h,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl font-semibold hover:from-blue-600 hover:to-indigo-700 hover:scale-105 transition-all shadow-lg shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:h?n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Adding..."]}):"Add Plan"})]})]}),n.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-2xl border border-slate-800 overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-slate-800",children:n.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Your Plans (",e.length,")"]})}),s?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-slate-400",children:"Loading plans..."})]}):e.length===0?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-slate-800 rounded-2xl flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2zM10 8.5a.5.5 0 11-1 0 .5.5 0 011 0zm5 5a.5.5 0 11-1 0 .5.5 0 011 0z"})})}),n.jsx("p",{className:"text-slate-400 text-lg",children:"You haven't defined any plans yet."}),n.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"Add at least one plan to get meaningful pricing suggestions."})]}):n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4 p-6",children:e.map(z=>n.jsx("div",{className:`bg-slate-800/30 rounded-xl p-6 border border-slate-700 hover:border-slate-600 transition-all group ${y===z.id||b===z.id&&p?"opacity-50":""}`,children:b===z.id?n.jsxs("div",{className:"space-y-3",children:[n.jsx("input",{name:"name",type:"text",value:f.name,onChange:$,className:"w-full px-3 py-2 rounded-lg bg-slate-900/50 border border-slate-600 text-white text-sm focus:border-blue-500 outline-none",placeholder:"Plan name"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("select",{name:"currency",value:f.currency,onChange:$,className:"w-20 px-2 py-2 rounded-lg bg-slate-900/50 border border-slate-600 text-white text-sm focus:border-blue-500 outline-none",children:[n.jsx("option",{value:"USD",children:"USD"}),n.jsx("option",{value:"EUR",children:"EUR"}),n.jsx("option",{value:"GBP",children:"GBP"}),n.jsx("option",{value:"TRY",children:"TRY"})]}),n.jsx("input",{name:"price",type:"number",step:"0.01",min:"0",value:f.price,onChange:$,className:"flex-1 px-3 py-2 rounded-lg bg-slate-900/50 border border-slate-600 text-white text-sm focus:border-blue-500 outline-none",placeholder:"Price"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Stripe Price ID"}),n.jsx("input",{name:"stripePriceId",type:"text",value:f.stripePriceId,onChange:$,className:"w-full px-3 py-2 rounded-lg bg-slate-900/50 border border-slate-600 text-white text-sm font-mono focus:border-blue-500 outline-none",placeholder:"price_..."})]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx("button",{onClick:()=>ee(z.id),disabled:p,className:"flex-1 px-3 py-2 bg-blue-500 hover:bg-blue-600 text-white text-sm font-medium rounded-lg transition-colors disabled:opacity-50",children:p?"Saving...":"Save"}),n.jsx("button",{onClick:O,disabled:p,className:"px-3 py-2 bg-slate-700 hover:bg-slate-600 text-white text-sm font-medium rounded-lg transition-colors disabled:opacity-50",children:"Cancel"})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-xl font-bold text-white mb-1",children:z.name}),n.jsx("div",{className:"text-2xl font-bold text-blue-400",children:M(z.price,z.currency,z.interval)})]}),n.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[n.jsx("button",{onClick:()=>L(z),className:"p-2 text-slate-400 hover:text-blue-400 hover:bg-blue-500/10 rounded-lg transition-all",title:"Edit plan",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),n.jsx("button",{onClick:()=>_(z.id),disabled:y===z.id,className:"p-2 text-slate-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-all disabled:opacity-50",title:"Remove plan",children:y===z.id?n.jsxs("svg",{className:"w-5 h-5 animate-spin",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),z.description&&n.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:z.description}),z.stripePriceId?n.jsx("div",{className:"mt-3 pt-3 border-t border-slate-700",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("svg",{className:"w-4 h-4 text-[#635BFF]",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M13.976 9.15c-2.172-.806-3.356-1.426-3.356-2.409 0-.831.683-1.305 1.901-1.305 2.227 0 4.515.858 6.09 1.631l.89-5.494C18.252.975 15.697 0 12.165 0 9.667 0 7.589.654 6.104 1.872 4.56 3.147 3.757 4.992 3.757 7.218c0 4.039 2.467 5.76 6.476 7.219 2.585.92 3.445 1.574 3.445 2.583 0 .98-.84 1.545-2.354 1.545-1.875 0-4.965-.921-6.99-2.109l-.9 5.555C5.175 22.99 8.385 24 11.714 24c2.641 0 4.843-.624 6.328-1.813 1.664-1.305 2.525-3.236 2.525-5.732 0-4.128-2.524-5.851-6.591-7.305z"})}),n.jsx("span",{className:"text-xs text-slate-500 font-mono truncate",title:z.stripePriceId,children:z.stripePriceId})]})}):n.jsx("div",{className:"mt-3 pt-3 border-t border-slate-700",children:n.jsxs("button",{onClick:()=>L(z),className:"text-xs text-amber-400 hover:text-amber-300 flex items-center gap-1",children:[n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Add Stripe Price ID for sync"]})})]})},z.id))})]})]})},dv=[{id:"import",label:"Auto-Import"},{id:"saved",label:"Saved Plans"}],mv=()=>{const[e,t]=g.useState("import"),[r,l]=g.useState(""),[s,a]=g.useState(!1),[i,c]=g.useState([]),[o,u]=g.useState(""),[m,h]=g.useState(!1),[x,y]=g.useState([]),[j,b]=g.useState(""),[C,f]=g.useState(new Set),[d,p]=g.useState(!1),[w,k]=g.useState(""),[S,v]=g.useState(!1),[_,M]=g.useState(!1),[L,O]=g.useState([]),[$,ee]=g.useState(!1);g.useEffect(()=>{e==="saved"&&z()},[e]);const z=async()=>{ee(!0);try{const{data:P}=await kt("/api/pricing-v2/plans");O(P.plans||[])}catch(P){console.error("Failed to load saved plans:",P)}finally{ee(!1)}},te=async()=>{if(r.trim()){a(!0),c([]),u(""),y([]),b(""),M(!1);try{const{data:P}=await Ge("/api/pricing-v2/discover",{website_url:r.trim()}),F=P.pricing_candidates||[];c(F),P.selected_pricing_url?u(P.selected_pricing_url):F.length>0?u(F[0]):p(!0)}catch(P){console.error("Discovery failed:",P),b(P.message||"Failed to discover pricing page"),p(!0)}finally{a(!1)}}},me=async()=>{var P;if(!(!o&&!w)){h(!0),y([]),b(""),f(new Set),M(!1);try{const F={pricing_url:o||r};w.trim()&&(F.manual_text=w.trim());const{data:q}=await Ge("/api/pricing-v2/extract",F);q.error?(b(q.error),p(!0)):((P=q.plans)==null?void 0:P.length)>0?(y(q.plans),f(new Set(q.plans.map((he,le)=>le)))):(b("No pricing plans found on this page."),p(!0))}catch(F){console.error("Extraction failed:",F),b(F.message||"Failed to extract pricing plans"),p(!0)}finally{h(!1)}}},ue=async()=>{const P=x.filter((F,q)=>C.has(q));if(P.length!==0){v(!0),M(!1);try{await Ge("/api/pricing-v2/save",{plans:P,source_url:o||r,website_url:r}),M(!0),y([]),f(new Set)}catch(F){console.error("Save failed:",F),b(F.message||"Failed to save plans")}finally{v(!1)}}},I=P=>{const F=new Set(C);F.has(P)?F.delete(P):F.add(P),f(F)},G=async()=>{if(window.confirm("Delete all saved pricing plans?"))try{await vc("/api/pricing-v2/plans"),O([])}catch(P){console.error("Delete failed:",P)}},H=P=>{const F={monthly:[],yearly:[],unknown:[]};return P.forEach(q=>{const he=q.billing_period||q.billingPeriod||"unknown";F[he]?F[he].push(q):F.unknown.push(q)}),F};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Pricing v2"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Auto-import pricing plans from any website"})]}),n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"-mb-px flex space-x-8",children:dv.map(P=>n.jsx("button",{onClick:()=>t(P.id),className:`
                py-4 px-1 border-b-2 font-medium text-sm
                ${e===P.id?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
              `,children:P.label},P.id))})}),e==="import"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Step 1: Enter Website URL"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("input",{type:"url",value:r,onChange:P=>l(P.target.value),placeholder:"https://example.com",className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),n.jsx("button",{onClick:te,disabled:s||!r.trim(),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Discovering...":"Auto-detect Pricing Page"})]}),n.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Default: https://www.usemotion.com/ (for demo)"})]}),i.length>0&&n.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Step 2: Select Pricing Page"}),n.jsx("div",{className:"space-y-2",children:i.map((P,F)=>n.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-md hover:bg-gray-50 cursor-pointer",children:[n.jsx("input",{type:"radio",name:"pricing-url",checked:o===P,onChange:()=>u(P),className:"text-indigo-600 focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm text-gray-700 break-all",children:P})]},F))}),n.jsx("button",{onClick:me,disabled:m||!o,className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",children:m?"Extracting...":"Extract Pricing Plans"})]}),d&&!i.length&&n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[n.jsx("h2",{className:"text-lg font-medium text-yellow-800 mb-4",children:"Manual Input Required"}),n.jsx("p",{className:"text-sm text-yellow-700 mb-4",children:"Could not auto-detect pricing page. Please paste the pricing page URL or text directly."}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pricing Page URL"}),n.jsx("input",{type:"url",value:o,onChange:P=>u(P.target.value),placeholder:"https://example.com/pricing",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Or paste pricing page text"}),n.jsx("textarea",{value:w,onChange:P=>k(P.target.value),rows:6,placeholder:"Paste the pricing page content here...",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),n.jsx("button",{onClick:me,disabled:m||!o&&!w,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",children:m?"Extracting...":"Extract Pricing Plans"})]})]}),j&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsx("p",{className:"text-sm text-red-700",children:j})}),_&&n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:n.jsx("p",{className:"text-sm text-green-700",children:'Plans saved successfully! View them in the "Saved Plans" tab.'})}),x.length>0&&n.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h2",{className:"text-lg font-medium text-gray-900",children:["Step 3: Review & Save (",x.length," plans found)"]}),n.jsx("button",{onClick:ue,disabled:S||C.size===0,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:S?"Saving...":`Save Selected (${C.size})`})]}),Object.entries(H(x)).map(([P,F])=>F.length>0&&n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3",children:P==="monthly"?" Monthly":P==="yearly"?" Yearly":" Unknown Period"}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:F.map((q,he)=>{const le=x.findIndex(ye=>ye===q);return n.jsx(hv,{plan:q,selected:C.has(le),onToggle:()=>I(le)},le)})})]},P))]})]}),e==="saved"&&n.jsx("div",{className:"space-y-6",children:$?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto"}),n.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading saved plans..."})]}):L.length===0?n.jsxs("div",{className:"text-center py-12 bg-white shadow rounded-lg",children:[n.jsx("p",{className:"text-gray-500",children:"No saved plans yet."}),n.jsx("button",{onClick:()=>t("import"),className:"mt-4 text-indigo-600 hover:text-indigo-800",children:"Import your first plans "})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("h2",{className:"text-lg font-medium text-gray-900",children:["Saved Plans (",L.length,")"]}),n.jsx("button",{onClick:G,className:"text-sm text-red-600 hover:text-red-800",children:"Delete All"})]}),Object.entries(H(L)).map(([P,F])=>F.length>0&&n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3",children:P==="monthly"?" Monthly":P==="yearly"?" Yearly":" Unknown Period"}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:F.map((q,he)=>n.jsx(fv,{plan:q},q.id||he))})]},P))]})})]})},hv=({plan:e,selected:t,onToggle:r})=>{var a,i;const[l,s]=g.useState(!1);return n.jsxs("div",{className:`
        border rounded-lg p-4 cursor-pointer transition-all
        ${t?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"}
      `,onClick:r,children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:e.plan_name||e.planName}),n.jsx("p",{className:"text-lg font-bold text-indigo-600",children:e.price_string||e.priceString||(e.price_amount?`$${e.price_amount}`:"Contact")})]}),n.jsx("input",{type:"checkbox",checked:t,onChange:r,onClick:c=>c.stopPropagation(),className:"h-5 w-5 text-indigo-600 rounded focus:ring-indigo-500"})]}),((a=e.included_units||e.includedUnits)==null?void 0:a.length)>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Included:"}),n.jsx("ul",{className:"text-sm text-gray-600",children:(e.included_units||e.includedUnits).map((c,o)=>{var u;return n.jsxs("li",{children:[" ",(u=c.amount)==null?void 0:u.toLocaleString()," ",c.name,c.period?` /${c.period}`:""]},o)})})]}),((i=e.features)==null?void 0:i.length)>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Features:"}),n.jsxs("ul",{className:"text-sm text-gray-600",children:[e.features.slice(0,3).map((c,o)=>n.jsxs("li",{className:"truncate",children:[" ",c]},o)),e.features.length>3&&n.jsxs("li",{className:"text-gray-400",children:["+",e.features.length-3," more"]})]})]}),e.evidence&&n.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[n.jsx("button",{onClick:c=>{c.stopPropagation(),s(!l)},className:"text-xs text-gray-400 hover:text-gray-600",children:l?" Hide evidence":" Show evidence"}),l&&n.jsxs("div",{className:"mt-2 text-xs text-gray-500 bg-gray-50 p-2 rounded",children:[e.evidence.price_snippet&&n.jsxs("p",{children:[n.jsx("strong",{children:"Price:"}),' "',e.evidence.price_snippet,'"']}),e.evidence.plan_name_snippet&&n.jsxs("p",{children:[n.jsx("strong",{children:"Name:"}),' "',e.evidence.plan_name_snippet,'"']})]})]})]})},fv=({plan:e})=>{var t,r;return n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:e.plan_name}),n.jsx("p",{className:"text-lg font-bold text-indigo-600",children:e.price_string||(e.price_amount?`$${e.price_amount}`:"Contact")})]}),n.jsx("span",{className:`
          text-xs px-2 py-1 rounded-full
          ${e.billing_period==="monthly"?"bg-blue-100 text-blue-700":e.billing_period==="yearly"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}
        `,children:e.billing_period})]}),n.jsxs("p",{className:"mt-2 text-xs text-gray-400 truncate",children:["From: ",e.source_url]}),((t=e.included_units)==null?void 0:t.length)>0&&n.jsx("div",{className:"mt-2",children:n.jsx("ul",{className:"text-sm text-gray-600",children:e.included_units.map((l,s)=>{var a;return n.jsxs("li",{children:[" ",(a=l.amount)==null?void 0:a.toLocaleString()," ",l.name]},s)})})}),((r=e.features)==null?void 0:r.length)>0&&n.jsx("ul",{className:"mt-2 text-sm text-gray-600",children:e.features.slice(0,3).map((l,s)=>n.jsxs("li",{className:"truncate",children:[" ",l]},s))}),n.jsxs("p",{className:"mt-3 text-xs text-gray-400",children:["Extracted: ",new Date(e.extracted_at).toLocaleDateString()]})]})},pv=e=>e?e.replace(/_/g," ").toLowerCase().replace(/\b\w/g,t=>t.toUpperCase()):"",xv=({presets:e,currentPrice:t,onSelect:r,disabled:l})=>{if(!(e!=null&&e.length)||!t)return null;const s=a=>{const i=a.match(/([+-])(\d+)%/);if(!i)return null;const c=i[1]==="+"?1:-1,o=parseInt(i[2]),u=t*(o/100)*c;return Math.round((t+u)*100)/100};return n.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[n.jsx("span",{className:"text-xs text-slate-500 self-center mr-1",children:"Quick:"}),e.map(a=>{const i=s(a),c=a.startsWith("+");return n.jsx("button",{type:"button",onClick:()=>r(i),disabled:l||!i,className:`px-3 py-1 text-xs font-medium rounded-full transition-all disabled:opacity-50 disabled:cursor-not-allowed ${c?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/30 hover:bg-emerald-500/20":"bg-blue-500/10 text-blue-400 border border-blue-500/30 hover:bg-blue-500/20"}`,children:a},a)})]})},gv=({config:e,onDismiss:t})=>{if(!(e!=null&&e.bannerText))return null;const r=e.mode==="informational",l=e.mode==="intermediate_tier";return n.jsx("div",{className:`rounded-xl p-4 mb-4 ${r?"bg-amber-500/10 border border-amber-500/30":l?"bg-purple-500/10 border border-purple-500/30":"bg-blue-500/10 border border-blue-500/30"}`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("svg",{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${r?"text-amber-400":l?"text-purple-400":"text-blue-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("div",{className:"flex-1",children:n.jsx("p",{className:`text-sm ${r?"text-amber-300":l?"text-purple-300":"text-blue-300"}`,children:e.bannerText})}),t&&n.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white p-1",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})},vv=({value:e,onChange:t,disabled:r,customerCountInfo:l,onValidationChange:s})=>{const a=(l==null?void 0:l.source)==="estimated",i=(l==null?void 0:l.source)==="missing"&&!e,c=i&&!e;return g.useEffect(()=>{if(s){const o=e&&parseInt(e)>0;s(o)}},[e,s]),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:["Active Customers on This Plan",a&&n.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-amber-500/20 text-amber-400 rounded-full",children:"Estimated"})]}),n.jsx("input",{type:"number",min:"1",value:e,onChange:t,disabled:r,className:`w-full px-4 py-3 rounded-xl bg-slate-900/50 border text-white placeholder-slate-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all disabled:opacity-50 ${c?"border-amber-500/50 focus:border-amber-500":"border-slate-700 focus:border-blue-500"}`,placeholder:"e.g., 500"}),(l==null?void 0:l.message)&&n.jsxs("p",{className:`mt-1.5 text-xs ${i?"text-amber-400":"text-slate-500"}`,children:[i&&n.jsx("svg",{className:"w-3.5 h-3.5 inline-block mr-1 -mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),l.message]})]})},yv=[{code:"USD",symbol:"$",name:"US Dollar"},{code:"EUR",symbol:"",name:"Euro"},{code:"GBP",symbol:"",name:"British Pound"},{code:"TRY",symbol:"",name:"Turkish Lira"},{code:"JPY",symbol:"",name:"Japanese Yen"},{code:"CAD",symbol:"C$",name:"Canadian Dollar"},{code:"AUD",symbol:"A$",name:"Australian Dollar"},{code:"CHF",symbol:"CHF",name:"Swiss Franc"},{code:"INR",symbol:"",name:"Indian Rupee"},{code:"BRL",symbol:"R$",name:"Brazilian Real"}],bv=({basePlans:e,onCancel:t,addPlan:r,currency:l="EUR"})=>{const[s,a]=g.useState(""),[i,c]=g.useState(""),[o,u]=g.useState(!1),[m,h]=g.useState(null),[x,y]=g.useState(!1),j=e==null?void 0:e[0],b=e==null?void 0:e[1],C=(j==null?void 0:j.currency)||(b==null?void 0:b.currency)||l,[f,d]=g.useState(C),p=j&&b?Math.round((j.price+b.price)/2):null,w=(v,_=f)=>new Intl.NumberFormat("en-US",{style:"currency",currency:_,minimumFractionDigits:0,maximumFractionDigits:2}).format(v),k=s.trim()&&i&&parseFloat(i)>0&&!o,S=async()=>{if(k){u(!0),h(null);try{const v=await r({name:s.trim(),price:parseFloat(i),currency:f,interval:"monthly"});v.success?(y(!0),a(""),c(""),setTimeout(()=>y(!1),3e3)):h(v.error||"Failed to create plan")}catch(v){h(v.message||"Failed to create plan")}finally{u(!1)}}};return n.jsxs("div",{className:"space-y-4 p-4 bg-purple-500/5 rounded-xl border border-purple-500/20",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:"text-sm font-semibold text-purple-400",children:"New Intermediate Tier"}),n.jsx("button",{type:"button",onClick:t,className:"text-xs text-slate-400 hover:text-white",children:"Cancel"})]}),j&&b&&n.jsxs("p",{className:"text-xs text-slate-400",children:["Creating a tier between"," ",n.jsx("span",{className:"text-white",children:j.name})," (",w(j.price,j.currency),") and"," ",n.jsx("span",{className:"text-white",children:b.name})," (",w(b.price,b.currency),")"]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"New Tier Name"}),n.jsx("input",{type:"text",value:s,onChange:v=>a(v.target.value),placeholder:"e.g., Professional",className:"w-full px-3 py-2 rounded-lg bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 outline-none transition-all text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"New Tier Price"}),n.jsxs("div",{className:"flex gap-2 w-full",children:[n.jsx("select",{value:f,onChange:v=>d(v.target.value),className:"w-20 flex-shrink-0 px-2 py-2 rounded-lg bg-slate-900/50 border border-slate-700 text-white focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 outline-none transition-all text-sm appearance-none cursor-pointer",children:yv.map(v=>n.jsx("option",{value:v.code,children:v.code},v.code))}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:i,onChange:v=>c(v.target.value),placeholder:"Enter price",className:"flex-1 min-w-0 px-3 py-2 rounded-lg bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 outline-none transition-all text-sm"})]}),p&&n.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[n.jsxs("p",{className:"text-xs text-slate-500",children:["Midpoint: ",w(p)]}),n.jsx("button",{type:"button",onClick:()=>c(p.toString()),className:"text-xs text-purple-400 hover:text-purple-300 underline",children:"Use this"})]})]}),x&&n.jsxs("div",{className:"p-3 bg-emerald-500/10 border border-emerald-500/30 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("svg",{className:"w-4 h-4 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("p",{className:"text-sm text-emerald-400 font-medium",children:"Plan created successfully!"})]}),n.jsx("p",{className:"text-xs text-emerald-300/70 mt-1",children:"You can now select it from the plans dropdown to run simulations."})]}),m&&n.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/30 rounded-lg",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("svg",{className:"w-4 h-4 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),n.jsx("p",{className:"text-sm text-red-400",children:m})]})}),n.jsxs("div",{className:"pt-2 space-y-3",children:[n.jsx("button",{type:"button",onClick:S,disabled:!k,className:"w-full px-4 py-2.5 bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-lg font-medium text-sm hover:from-purple-600 hover:to-indigo-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Create This Plan"]})}),n.jsx("p",{className:"text-xs text-slate-500 text-center",children:x?"Click Cancel to exit and select your new plan from the dropdown.":"After creating the plan, you can simulate price changes on it."})]}),n.jsx("div",{className:"p-3 bg-slate-800/50 rounded-lg border border-slate-700/50",children:n.jsxs("p",{className:"text-xs text-slate-400",children:[n.jsx("svg",{className:"w-3.5 h-3.5 inline-block mr-1 -mt-0.5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("strong",{className:"text-slate-300",children:"Tip:"})," An intermediate tier helps capture customers who find the gap between your existing plans too large."]})})]})},jv=({actionCode:e,onDismiss:t})=>e?n.jsx("div",{className:"bg-gradient-to-r from-indigo-500/10 to-purple-500/10 border border-indigo-500/30 rounded-xl p-4 mb-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-indigo-400 font-medium mb-0.5",children:"Suggested action from your latest analysis"}),n.jsx("p",{className:"text-white font-medium",children:pv(e)})]})]}),n.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white transition-colors p-1",title:"Dismiss",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}):null,ah=({level:e})=>{const t={low:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",medium:"bg-amber-500/20 text-amber-400 border-amber-500/30",high:"bg-red-500/20 text-red-400 border-red-500/30"};return n.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${t[e]||t.medium}`,children:[(e==null?void 0:e.charAt(0).toUpperCase())+(e==null?void 0:e.slice(1))," Risk"]})},wv=({scenario:e,currency:t,isPriceIncrease:r})=>{const l=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:t||"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(a),s={Conservative:"border-emerald-500/30 bg-emerald-500/5",Base:"border-blue-500/30 bg-blue-500/5",Aggressive:"border-orange-500/30 bg-orange-500/5"};return n.jsxs("div",{className:`rounded-xl p-5 border ${s[e.name]||"border-slate-700"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h4",{className:"text-lg font-semibold text-white",children:e.name}),n.jsx(ah,{level:e.risk_level})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"p-3 rounded-lg bg-slate-800/50",children:[n.jsx("p",{className:"text-xs text-slate-500 mb-1",children:r?"Expected Customer Loss":"Expected Customer Gain"}),n.jsx("p",{className:"text-white font-semibold",children:r?`${e.customer_loss_min_pct}%  ${e.customer_loss_max_pct}%`:`${e.customer_gain_min_pct}%  ${e.customer_gain_max_pct}%`})]}),n.jsxs("div",{className:"p-3 rounded-lg bg-slate-800/50",children:[n.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Projected Customers"}),n.jsxs("p",{className:"text-white font-semibold",children:[e.new_customer_count_min.toLocaleString(),"  ",e.new_customer_count_max.toLocaleString()]})]}),n.jsxs("div",{className:"p-3 rounded-lg bg-slate-800/50",children:[n.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Projected MRR"}),n.jsxs("p",{className:"text-white font-semibold",children:[l(e.new_mrr_min),"  ",l(e.new_mrr_max)]})]}),n.jsxs("div",{className:"p-3 rounded-lg bg-slate-800/50",children:[n.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Projected ARR (12 mo)"}),n.jsxs("p",{className:"text-white font-semibold",children:[l(e.new_arr_min),"  ",l(e.new_arr_max)]})]}),n.jsxs("div",{className:"p-3 rounded-lg bg-slate-800/50",children:[n.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Estimated Churn"}),n.jsxs("p",{className:"text-white font-semibold",children:[e.estimated_churn_min_pct,"%  ",e.estimated_churn_max_pct,"%"]})]})]})]})},Nv=({result:e,onDownloadPdf:t,isPdfLoading:r})=>{var o,u,m,h;if(!e)return null;const l=(x,y)=>new Intl.NumberFormat("en-US",{style:"currency",currency:y||"USD",minimumFractionDigits:0,maximumFractionDigits:2}).format(x),s=e.price_change_pct>=0,a=s?"+":"",i={low:1,medium:2,high:3},c=(o=e.scenarios)==null?void 0:o.reduce((x,y)=>{const j=y.risk_level||"medium";return i[j]>i[x]?j:x},"low");return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-2xl p-6 border border-slate-800",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:e.plan_name}),n.jsxs("div",{className:"flex items-center gap-3 text-lg",children:[n.jsx("span",{className:"text-slate-400",children:l(e.current_price,e.currency)}),n.jsx("svg",{className:"w-5 h-5 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})}),n.jsx("span",{className:"text-white font-semibold",children:l(e.new_price,e.currency)}),n.jsx("span",{className:"text-slate-500",children:"/ month"})]})]}),n.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[n.jsxs("div",{className:`text-2xl font-bold ${s?"text-emerald-400":"text-blue-400"}`,children:[a,(u=e.price_change_pct)==null?void 0:u.toFixed(1),"%"]}),n.jsx(ah,{level:c})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-slate-700/50",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Current Customers"}),n.jsx("p",{className:"text-white font-semibold",children:(m=e.active_customers_on_plan)==null?void 0:m.toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Global MRR"}),n.jsx("p",{className:"text-white font-semibold",children:l(e.global_mrr,e.currency)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Current Churn"}),n.jsxs("p",{className:"text-white font-semibold",children:[e.global_churn_rate,"%"]})]})]}),n.jsx("div",{className:"mt-4 pt-4 border-t border-slate-700/50",children:n.jsx("button",{onClick:t,disabled:r,className:"flex items-center gap-2 px-4 py-2 bg-slate-800 hover:bg-slate-700 text-white text-sm font-medium rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:r?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{children:"Generating PDF..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),n.jsx("span",{children:"Download Simulation PDF"})]})})})]}),n.jsx("div",{className:"grid lg:grid-cols-3 gap-4",children:(h=e.scenarios)==null?void 0:h.map(x=>n.jsx(wv,{scenario:x,currency:e.currency,isPriceIncrease:s},x.name))}),e.ai_narrative&&n.jsxs("div",{className:"bg-gradient-to-br from-purple-500/10 to-blue-500/10 rounded-2xl p-6 border border-purple-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),n.jsx("h4",{className:"text-lg font-semibold text-white",children:"AI Pricing Insights"})]}),n.jsx("div",{className:"text-slate-300 leading-relaxed whitespace-pre-line",children:e.ai_narrative})]})]})},kv=({simulation:e,onClick:t,isActive:r})=>{var a;const l=i=>new Date(i).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),s=e.price_change_pct>=0?"+":"";return n.jsxs("button",{onClick:t,className:`w-full text-left p-3 rounded-lg transition-all ${r?"bg-blue-500/20 border border-blue-500/30":"bg-slate-800/30 hover:bg-slate-800/50 border border-transparent"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("span",{className:"text-white font-medium text-sm",children:e.plan_name}),n.jsxs("span",{className:`text-xs font-medium ${e.price_change_pct>=0?"text-emerald-400":"text-blue-400"}`,children:[s,(a=e.price_change_pct)==null?void 0:a.toFixed(1),"%"]})]}),n.jsx("p",{className:"text-xs text-slate-500",children:l(e.created_at)})]})},Cv=({onUpgrade:e})=>n.jsx("div",{className:"max-w-2xl mx-auto",children:n.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-2xl p-12 border border-slate-800 text-center",children:[n.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-amber-500/20 to-orange-500/20 rounded-2xl flex items-center justify-center mx-auto mb-6 border border-amber-500/30",children:n.jsx("svg",{className:"w-10 h-10 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),n.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"Pricing Simulations Not Available"}),n.jsx("p",{className:"text-slate-400 mb-6 max-w-md mx-auto",children:"Pricing simulations are only available on Growth and Enterprise plans. Upgrade to test new price points in a safe sandbox environment."}),n.jsx("button",{onClick:e,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl font-semibold hover:from-blue-600 hover:to-indigo-700 hover:scale-105 transition-all shadow-lg shadow-blue-500/20",children:"Upgrade Now"})]})}),Sv=({onUpgrade:e,onDismiss:t})=>n.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4 mb-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-red-400 font-semibold mb-1",children:"AI Insight Credits Exhausted"}),n.jsx("p",{className:"text-red-300/80 text-sm mb-3",children:"You've used all your AI Insight Credits for this month on your current plan."}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:e,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium text-sm transition-all",children:"Upgrade Plan"}),n.jsx("button",{onClick:t,className:"text-red-400 hover:text-red-300 text-sm font-medium",children:"Dismiss"})]})]})]})}),Ev=({credits:e,loading:t})=>{if(t||!e)return null;const r=e.remainingCredits<=2,l=e.remainingCredits===0;return n.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm ${l?"bg-red-500/10 border border-red-500/30 text-red-400":r?"bg-amber-500/10 border border-amber-500/30 text-amber-400":"bg-slate-800/50 border border-slate-700 text-slate-400"}`,children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),n.jsxs("span",{children:[e.remainingCredits," credits remaining"]})]})},Pv=()=>{const e=xt(),[t,r]=xc(),{plans:l,isLoading:s,addPlan:a}=Sa(),{credits:i,loading:c,refetch:o}=sh(),u=t.get("action"),[m,h]=g.useState(!0),[x,y]=g.useState(!0),[j,b]=g.useState(""),[C,f]=g.useState(""),[d,p]=g.useState(""),[w,k]=g.useState(""),[S,v]=g.useState(!1),[_,M]=g.useState(!1),[L,O]=g.useState(null),[$,ee]=g.useState(!1),[z,te]=g.useState([]),[me,ue]=g.useState(!1),[I,G]=g.useState(!1),H=()=>{h(!1),t.delete("action"),r(t,{replace:!0})},[P,F]=g.useState(null),[q,he]=g.useState(!0),[le,ye]=g.useState(null),[U,T]=g.useState([]),[ne,ce]=g.useState(!0),[J,we]=g.useState(!1),[Ct,Vt]=g.useState(""),La=(i==null?void 0:i.simulationsEnabled)??!0,Fe=l==null?void 0:l.find(X=>X.id===j),Te=g.useMemo(()=>Kg(u),[u]),Fl=g.useMemo(()=>!Te||!m?null:Te.presetChips,[Te,m]);g.useEffect(()=>{(async()=>{try{const{data:ie}=await sa.get();F(ie)}catch(ie){console.error("Failed to fetch metrics:",ie)}finally{he(!1)}})()},[]),g.useEffect(()=>{(async()=>{try{const{data:ie}=await hi.list(5);T(ie||[])}catch(ie){console.error("Failed to fetch history:",ie)}finally{ce(!1)}})()},[]),g.useEffect(()=>{var ie;if(me||s||q||!(l!=null&&l.length))return;if(!u||!Te){ue(!0);return}if(Te.mode==="intermediate_tier"){ee(!0);const $e=((ie=Te.baseTierSelector)==null?void 0:ie.call(Te,l))||lh(l);te($e),ue(!0);return}if(Te.mode==="informational"||!Te.planSelector){ue(!0);return}const X=Te.planSelector(l);if(X){b(X.id);const $e=cd(X,l,P);O($e),$e.count!==null?p($e.count.toString()):p("")}ue(!0)},[u,Te,l,P,s,q,me]);const Ul=g.useCallback(X=>{if(!X){O(null);return}const ie=cd(X,l,P);O(ie),ie.count!==null?p(ie.count.toString()):p("")},[l,P]),_a=X=>{const ie=X.target.value;b(ie),k(""),f("");const $e=l==null?void 0:l.find(In=>In.id===ie);Ul($e)},Ra=X=>{X&&f(X.toString())},Ma=()=>{ee(!1),te([])},Ta=()=>{if($)return!1;if(!j)return k("Please select a plan"),!1;if(!C||parseFloat(C)<0)return k("Please enter a valid new price"),!1;const X=parseInt(d);return!d||isNaN(X)||X<=0?(k("Please enter a valid number of customers (must be at least 1)"),!1):!0},Dt=g.useMemo(()=>{if($||!j||!C||parseFloat(C)<0)return!1;const X=parseInt(d);return!(!d||isNaN(X)||X<=0)},[$,j,C,d]),Lr=async X=>{if(X.preventDefault(),k(""),G(!1),!!Ta()){v(!0);try{const{data:ie}=await hi.run({planId:j,currentPrice:Fe.price,newPrice:parseFloat(C),currency:Fe.currency||"USD",activeCustomersOnPlan:parseInt(d),globalMrr:(P==null?void 0:P.mrr)||0,globalChurnRate:(P==null?void 0:P.monthly_churn_rate)||5,pricingGoal:(P==null?void 0:P.pricing_goal)||"revenue"});ye(ie),T($e=>[ie,...$e.slice(0,4)]),o()}catch(ie){ie instanceof gc?ie.code==="AI_QUOTA_EXCEEDED"?(G(!0),o()):ie.code==="SIMULATION_NOT_AVAILABLE"&&k("Pricing simulations are only available on Growth and Enterprise plans."):k(ie.message||"Failed to run simulation")}finally{v(!1)}}},Bl=X=>{ye(X)},Dn=async()=>{var X;if(le!=null&&le.id){we(!0),Vt("");try{const{ok:ie,blob:$e}=await hi.exportPdf(le.id);if(ie&&$e){const In=((X=le.plan_name)==null?void 0:X.replace(/\s+/g,"-").toLowerCase())||"simulation",It=new Date(le.created_at).toISOString().split("T")[0].replace(/-/g,""),Ol=`pricing-simulation-${In}-${It}.pdf`;yc($e,Ol)}}catch(ie){console.error("Failed to download PDF:",ie),Vt(ie.message||"Failed to generate PDF")}finally{we(!1)}}},gt=(X,ie)=>new Intl.NumberFormat("en-US",{style:"currency",currency:ie||"USD",minimumFractionDigits:0,maximumFractionDigits:2}).format(X);return c?n.jsx("div",{className:"max-w-7xl mx-auto flex items-center justify-center py-20",children:n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),n.jsx("p",{className:"text-slate-400",children:"Loading..."})]})}):La?n.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Pricing Simulation"}),n.jsx("p",{className:"text-slate-400",children:"Test new price points before rolling them out. See projected impact on customers, MRR, and churn."})]}),n.jsx(Ev,{credits:i,loading:c})]}),u&&m&&n.jsx(jv,{actionCode:u,onDismiss:H}),Te&&x&&Te.bannerText&&n.jsx(gv,{config:Te,onDismiss:()=>y(!1)}),I&&n.jsx(Sv,{onUpgrade:()=>e("/app/billing"),onDismiss:()=>G(!1)}),n.jsxs("div",{className:"grid lg:grid-cols-5 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-2xl p-6 border border-slate-800",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:$?"New Intermediate Tier":"New Simulation"}),$?n.jsx(bv,{basePlans:z,onCancel:Ma,addPlan:a,currency:(P==null?void 0:P.currency)||"EUR"}):n.jsxs("form",{onSubmit:Lr,className:"space-y-5",children:[(Te==null?void 0:Te.guidanceText)&&m&&n.jsx("div",{className:"p-3 rounded-lg bg-slate-800/30 border border-slate-700/50",children:n.jsxs("p",{className:"text-xs text-slate-400 leading-relaxed",children:[n.jsx("svg",{className:"w-3.5 h-3.5 inline-block mr-1.5 -mt-0.5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),Te.guidanceText]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:"Select Plan"}),n.jsxs("select",{value:j,onChange:_a,disabled:s||S,className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-700 text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all disabled:opacity-50",children:[n.jsx("option",{value:"",children:"Choose a plan..."}),l==null?void 0:l.map(X=>n.jsxs("option",{value:X.id,children:[X.name," - ",gt(X.price,X.currency)]},X.id))]}),Fe&&n.jsx("div",{className:"mt-2 p-3 rounded-lg bg-slate-800/50 text-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-slate-400",children:"Current Price"}),n.jsxs("span",{className:"text-white font-medium",children:[gt(Fe.price,Fe.currency)," / ",Fe.interval||"month"]})]})})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-slate-300 mb-2",children:["New Price ",Fe&&n.jsxs("span",{className:"text-slate-500 font-normal",children:["(",Fe.currency||"USD",")"]})]}),n.jsx("input",{type:"number",step:"0.01",min:"0",value:C,onChange:X=>{f(X.target.value),k("")},disabled:S,className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all disabled:opacity-50",placeholder:"Enter new price"}),Fe&&Fl&&n.jsx(xv,{presets:Fl,currentPrice:Fe.price,onSelect:Ra,disabled:S})]}),n.jsx(vv,{value:d,onChange:X=>{p(X.target.value),k(""),(L==null?void 0:L.source)==="estimated"&&O(ie=>({...ie,message:null}))},disabled:S,customerCountInfo:Fe?L:null,onValidationChange:M}),q?n.jsx("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50",children:n.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-slate-500 border-t-transparent rounded-full animate-spin"}),"Loading metrics..."]})}):P?n.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50",children:[n.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Business Metrics (from settings)"}),n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500",children:"MRR"}),n.jsx("p",{className:"text-white font-medium",children:gt(P.mrr||0,P.currency)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Churn"}),n.jsxs("p",{className:"text-white font-medium",children:[P.monthly_churn_rate||0,"%"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Goal"}),n.jsx("p",{className:"text-white font-medium capitalize",children:P.pricing_goal||"Revenue"})]})]})]}):n.jsx("div",{className:"p-4 rounded-xl bg-amber-500/10 border border-amber-500/30",children:n.jsx("p",{className:"text-amber-400 text-sm",children:"No business metrics set. Go to Settings to configure your metrics for better simulations."})}),w&&n.jsx("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/30",children:n.jsx("p",{className:"text-red-400 text-sm",children:w})}),n.jsx("button",{type:"submit",disabled:S||!Dt,className:"w-full px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl font-semibold hover:from-blue-600 hover:to-indigo-700 hover:scale-[1.02] transition-all shadow-lg shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:S?n.jsxs("span",{className:"flex items-center justify-center gap-2",children:[n.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Running Simulation..."]}):"Run Simulation"}),!Dt&&j&&n.jsxs("p",{className:"text-xs text-slate-500 text-center",children:[!C&&"Enter a new price",C&&!d&&"Enter customer count",C&&d&&parseInt(d)<=0&&"Customer count must be at least 1"]})]})]}),!ne&&U.length>0&&n.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-2xl p-6 border border-slate-800",children:[n.jsx("h3",{className:"text-sm font-semibold text-slate-400 mb-3",children:"Recent Simulations"}),n.jsx("div",{className:"space-y-2",children:U.map(X=>n.jsx(kv,{simulation:X,onClick:()=>Bl(X),isActive:(le==null?void 0:le.id)===X.id},X.id))})]})]}),n.jsxs("div",{className:"lg:col-span-3",children:[Ct&&n.jsx("div",{className:"mb-4 p-3 rounded-lg bg-red-500/10 border border-red-500/30",children:n.jsx("p",{className:"text-red-400 text-sm",children:Ct})}),le?n.jsx(Nv,{result:le,onDownloadPdf:Dn,isPdfLoading:J}):n.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-2xl p-12 border border-slate-800 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-slate-800 rounded-2xl flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),n.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Simulations Yet"}),n.jsx("p",{className:"text-slate-400 max-w-sm mx-auto",children:"Select a plan and enter a new price point to see how it might impact your customers, revenue, and churn."})]})]})]})]}):n.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Pricing Simulation"}),n.jsx("p",{className:"text-slate-400",children:"Test new price points before rolling them out. See projected impact on customers, MRR, and churn."})]}),n.jsx(Cv,{onUpgrade:()=>e("/app/billing")})]})},Lv=()=>{const e=xt(),{analyses:t,isLoading:r}=jc(),[l,s]=g.useState(null),[a,i]=g.useState(null),[c,o]=g.useState(null),u=async(y,j)=>{s(y),i(null),o(null);try{const{ok:b,blob:C}=await la.exportPdf(y);if(b&&C){const d=`pricing-report-${new Date(j).toISOString().split("T")[0]}.pdf`;yc(C,d),o(y),setTimeout(()=>o(null),3e3)}}catch(b){console.error("Failed to export PDF:",b),i(b.message||"Failed to export PDF"),setTimeout(()=>i(null),5e3)}finally{s(null)}},m=y=>{const j=new Date(y);return new Intl.DateTimeFormat("en-US",{month:"long",day:"numeric",year:"numeric"}).format(j)},h=y=>{const j=new Date(y);return new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit"}).format(j)},x=y=>{var p,w,k;const j=((p=y.ruleResult)==null?void 0:p.insights)||[],b=j.filter(S=>S.severity==="critical").length,C=j.filter(S=>S.severity==="warning").length,f=j.filter(S=>S.severity==="info").length,d=((k=(w=y.llmOutput)==null?void 0:w.recommendations)==null?void 0:k.length)||0;return{criticalCount:b,warningCount:C,infoCount:f,recommendationCount:d}};return r?n.jsx("div",{className:"max-w-6xl mx-auto",children:n.jsxs("div",{className:"text-center py-20",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-slate-400",children:"Loading reports..."})]})}):!t||t.length===0?n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Reports"}),n.jsx("p",{className:"text-slate-400",children:"Download and manage your pricing analysis reports"})]}),n.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-2xl p-12 border border-slate-800 text-center",children:[n.jsx("div",{className:"w-20 h-20 bg-slate-800 rounded-2xl flex items-center justify-center mx-auto mb-6",children:n.jsx("svg",{className:"w-10 h-10 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),n.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"No reports yet"}),n.jsx("p",{className:"text-slate-400 mb-8 max-w-md mx-auto leading-relaxed",children:"Run your first pricing analysis to generate a report. Once you have analysis data, you can download professional PDF reports from here."}),n.jsx("button",{onClick:()=>e("/app/overview"),className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl font-semibold hover:from-blue-600 hover:to-indigo-700 hover:scale-105 transition-all shadow-lg shadow-blue-500/20",children:"Go to Overview"})]})]}):n.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[a&&n.jsx("div",{className:"fixed bottom-6 right-6 z-50 animate-fade-in-up",children:n.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-red-500/10 border border-red-500/30 rounded-xl shadow-lg backdrop-blur-sm",children:[n.jsx("svg",{className:"w-5 h-5 text-red-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-sm text-red-300",children:a}),n.jsx("button",{onClick:()=>i(null),className:"text-red-400 hover:text-red-300 ml-2",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Reports"}),n.jsx("p",{className:"text-slate-400",children:"Download and manage your pricing analysis reports"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("span",{className:"text-sm text-slate-400 bg-slate-800 px-4 py-2 rounded-lg",children:[t.length," report",t.length!==1?"s":""," available"]}),n.jsxs("button",{onClick:()=>e("/app/analyses"),className:"flex items-center gap-2 px-4 py-2 bg-blue-500/10 text-blue-400 rounded-lg font-medium hover:bg-blue-500/20 transition-all border border-blue-500/20",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Run New Analysis"]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-blue-500/5 to-indigo-500/5 border border-blue-500/20 rounded-xl p-4 flex items-start gap-4",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-white mb-1",children:"PDF Reports"}),n.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:"Each report includes your business snapshot, executive summary, and detailed pricing recommendations. Perfect for sharing with your team or stakeholders."})]})]}),n.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-2xl border border-slate-800 overflow-hidden",children:[n.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 bg-slate-800/50 border-b border-slate-800",children:[n.jsx("div",{className:"col-span-4",children:n.jsx("span",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Report Date"})}),n.jsx("div",{className:"col-span-2",children:n.jsx("span",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Data"})}),n.jsx("div",{className:"col-span-3",children:n.jsx("span",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Insights"})}),n.jsx("div",{className:"col-span-3 text-right",children:n.jsx("span",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Actions"})})]}),n.jsx("div",{className:"divide-y divide-slate-800/50",children:t.map((y,j)=>{var v,_;const{criticalCount:b,warningCount:C,recommendationCount:f}=x(y),d=l===y.id,p=c===y.id,w=j===0,k=((v=y.ruleResult)==null?void 0:v.numPlans)||0,S=((_=y.ruleResult)==null?void 0:_.numCompetitors)||0;return n.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-5 items-center hover:bg-slate-800/20 transition-colors group",children:[n.jsx("div",{className:"col-span-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 ${w?"bg-blue-500/10":"bg-slate-800"}`,children:n.jsx("svg",{className:`w-5 h-5 ${w?"text-blue-400":"text-slate-500"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-semibold text-white",children:m(y.createdAt)}),w&&n.jsx("span",{className:"text-xs font-medium text-blue-400 bg-blue-500/10 px-2 py-0.5 rounded-full",children:"Latest"})]}),n.jsx("span",{className:"text-xs text-slate-500",children:h(y.createdAt)})]})]})}),n.jsx("div",{className:"col-span-2",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-bold text-white",children:k}),n.jsx("div",{className:"text-xs text-slate-500",children:"Plans"})]}),n.jsx("div",{className:"w-px h-8 bg-slate-700"}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-bold text-white",children:S}),n.jsx("div",{className:"text-xs text-slate-500",children:"Competitors"})]})]})}),n.jsx("div",{className:"col-span-3",children:n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[b>0&&n.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-red-400 bg-red-500/10 px-2.5 py-1 rounded-lg",children:[n.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),b," Critical"]}),C>0&&n.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-amber-400 bg-amber-500/10 px-2.5 py-1 rounded-lg",children:[n.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),C," Warning"]}),f>0&&n.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-emerald-400 bg-emerald-500/10 px-2.5 py-1 rounded-lg",children:[n.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),f," Recommendations"]}),b===0&&C===0&&f===0&&n.jsx("span",{className:"text-xs text-slate-500",children:"No insights"})]})}),n.jsx("div",{className:"col-span-3",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsxs("button",{onClick:()=>e("/app/analyses"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-all",children:[n.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View"]}),n.jsx("button",{onClick:()=>u(y.id,y.createdAt),disabled:d,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-semibold rounded-lg transition-all ${p?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/30":d?"bg-slate-800 text-slate-500 cursor-not-allowed":"bg-blue-500/10 text-blue-400 hover:bg-blue-500/20 border border-blue-500/20"}`,children:d?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin w-4 h-4",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Exporting..."]}):p?n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Downloaded!"]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download PDF"]})})]})})]},y.id)})})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 px-2",children:[n.jsx("span",{children:"Reports are generated from your pricing analysis data"}),n.jsx("span",{children:"PDF files include full recommendations and rationale"})]})]})},_v=()=>{const[e,t]=xc(),{profile:r,updateProfile:l}=Ig(),{plans:s,clearPlans:a}=Sa(),{clearCompetitors:i}=bc(),{clearAnalyses:c}=jc(),{metrics:o,saveMetrics:u,isSaving:m,error:h,clearError:x,refetch:y}=th(),[j,b]=g.useState(!1),[C,f]=g.useState({currency:"USD",mrr:"",customers:"",monthly_churn_rate:"",total_active_customers:"",plan_customer_counts:{}}),[d,p]=g.useState(!1),[w,k]=g.useState(!1),[S,v]=g.useState({connected:!1,loading:!0}),[_,M]=g.useState(null),[L,O]=g.useState(null),[$,ee]=g.useState([]),[z,te]=g.useState(null),me=g.useCallback(async()=>{try{const{data:U}=await hs.getStatus();v({...U,loading:!1})}catch(U){console.error("Failed to fetch Stripe status:",U),v({connected:!1,loading:!1})}},[]);g.useEffect(()=>{me()},[me]),g.useEffect(()=>{const U=e.get("stripe");if(U==="connected")te({type:"success",message:"Stripe account connected successfully!"}),me(),e.delete("stripe"),t(e,{replace:!0}),setTimeout(()=>te(null),5e3);else if(U==="error"){const T=e.get("error")||"unknown";te({type:"error",message:`Failed to connect Stripe: ${T}`}),e.delete("stripe"),e.delete("error"),t(e,{replace:!0}),setTimeout(()=>te(null),5e3)}},[e,t,me]);const ue=async()=>{M("connecting"),O(null);try{const{data:U}=await hs.connect();U.url&&(window.location.href=U.url)}catch(U){O(U.message||"Failed to start Stripe connection"),M(null)}},I=async()=>{M("syncing"),O(null),ee([]);try{const{data:U}=await hs.syncMetrics();U.ok&&(te({type:"success",message:"Metrics synced from Stripe!"}),setTimeout(()=>te(null),5e3),y&&y(),me(),U.warnings&&U.warnings.length>0&&ee(U.warnings))}catch(U){O(U.message||"Failed to sync metrics")}finally{M(null)}},G=async()=>{if(confirm("Are you sure you want to disconnect your Stripe account?")){M("disconnecting"),O(null);try{await hs.disconnect(),v({connected:!1,loading:!1}),te({type:"success",message:"Stripe account disconnected"}),setTimeout(()=>te(null),5e3)}catch(U){O(U.message||"Failed to disconnect Stripe")}finally{M(null)}}};g.useEffect(()=>{var U,T,ne,ce;if(o){const J=o.plan_customer_counts||{};f({currency:o.currency||"USD",mrr:((U=o.mrr)==null?void 0:U.toString())||"",customers:((T=o.customers)==null?void 0:T.toString())||"",monthly_churn_rate:((ne=o.monthly_churn_rate)==null?void 0:ne.toString())||"",total_active_customers:((ce=o.total_active_customers)==null?void 0:ce.toString())||"",plan_customer_counts:J}),bn(J)&&k(!0)}},[o]);const H=(U,T)=>{l({[U]:T}),b(!0),setTimeout(()=>{b(!1)},2e3)},P=(U,T)=>{f(ne=>({...ne,[U]:T})),h&&x(),d&&p(!1)},F=(U,T)=>{const ne=T===""?"":parseInt(T)||0;f(ce=>{const J={...ce.plan_customer_counts,[U]:ne};let we=ce.total_active_customers;return bn(J)&&(we=aa(J).toString()),{...ce,plan_customer_counts:J,total_active_customers:we}}),h&&x(),d&&p(!1)},q=bn(C.plan_customer_counts),he=q?aa(C.plan_customer_counts):null,le=async U=>{U.preventDefault();const T={currency:C.currency,mrr:parseFloat(C.mrr)||0,customers:parseInt(C.customers)||0,monthly_churn_rate:parseFloat(C.monthly_churn_rate)||0},ne=q?he:parseInt(C.total_active_customers);if(!isNaN(ne)&&ne>=0&&(T.total_active_customers=ne),C.plan_customer_counts&&Object.keys(C.plan_customer_counts).length>0){const J={};for(const[we,Ct]of Object.entries(C.plan_customer_counts)){const Vt=parseInt(Ct);!isNaN(Vt)&&Vt>=0&&(J[we]=Vt)}Object.keys(J).length>0&&(T.plan_customer_counts=J)}(await u(T)).success&&(p(!0),setTimeout(()=>p(!1),3e3))},ye=()=>{window.confirm("This will clear all local plans, competitors, and analyses. Are you sure?")&&(a(),i(),c(),alert("Demo data has been reset successfully."))};return n.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Settings"}),n.jsx("p",{className:"text-slate-400",children:"Manage your profile, business metrics, and workspace preferences."})]}),n.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-2xl p-8 border border-slate-800",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Profile & Workspace"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Your personal information and company details."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"fullName",className:"block text-sm font-semibold text-slate-300 mb-2",children:"Full Name"}),n.jsx("input",{id:"fullName",type:"text",value:r.fullName,onChange:U=>H("fullName",U.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all",placeholder:"John Doe"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-slate-300 mb-2",children:"Email"}),n.jsx("input",{id:"email",type:"email",value:r.email,onChange:U=>H("email",U.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all",placeholder:"john@example.com"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"role",className:"block text-sm font-semibold text-slate-300 mb-2",children:"Role"}),n.jsx("input",{id:"role",type:"text",value:r.role,onChange:U=>H("role",U.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all",placeholder:"Founder, Head of Product, etc."})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"currency",className:"block text-sm font-semibold text-slate-300 mb-2",children:"Display Currency"}),n.jsxs("select",{id:"currency",value:r.currency,onChange:U=>H("currency",U.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-700 text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all appearance-none pr-10",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23cbd5e1'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center",backgroundSize:"1.5rem"},children:[n.jsx("option",{value:"EUR",children:"EUR ()"}),n.jsx("option",{value:"USD",children:"USD ($)"}),n.jsx("option",{value:"GBP",children:"GBP ()"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"companyName",className:"block text-sm font-semibold text-slate-300 mb-2",children:"Company Name"}),n.jsx("input",{id:"companyName",type:"text",value:r.companyName,onChange:U=>H("companyName",U.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all",placeholder:"Acme Inc."})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"companyWebsite",className:"block text-sm font-semibold text-slate-300 mb-2",children:["Company Website ",n.jsx("span",{className:"text-slate-500 font-normal",children:"(optional)"})]}),n.jsx("input",{id:"companyWebsite",type:"url",value:r.companyWebsite,onChange:U=>H("companyWebsite",U.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all",placeholder:"https://acme.com"})]})]}),j&&n.jsx("div",{className:"mt-6 p-3 bg-blue-500/10 border border-blue-500/20 rounded-xl",children:n.jsx("p",{className:"text-sm text-blue-400",children:"Changes saved locally"})})]}),z&&n.jsxs("div",{className:`fixed top-4 right-4 z-50 px-4 py-3 rounded-xl shadow-lg flex items-center gap-2 ${z.type==="success"?"bg-emerald-500/90 text-white":"bg-red-500/90 text-white"}`,children:[z.type==="success"?n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),n.jsx("span",{className:"font-medium",children:z.message}),n.jsx("button",{onClick:()=>te(null),className:"ml-2 hover:opacity-80",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-2xl p-6 border border-slate-800",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-[#635BFF] rounded-xl flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M13.976 9.15c-2.172-.806-3.356-1.426-3.356-2.409 0-.831.683-1.305 1.901-1.305 2.227 0 4.515.858 6.09 1.631l.89-5.494C18.252.975 15.697 0 12.165 0 9.667 0 7.589.654 6.104 1.872 4.56 3.147 3.757 4.992 3.757 7.218c0 4.039 2.467 5.76 6.476 7.219 2.585.92 3.445 1.574 3.445 2.583 0 .98-.84 1.545-2.354 1.545-1.875 0-4.965-.921-6.99-2.109l-.9 5.555C5.175 22.99 8.385 24 11.714 24c2.641 0 4.843-.624 6.328-1.813 1.664-1.305 2.525-3.236 2.525-5.732 0-4.128-2.524-5.851-6.591-7.305z"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-white",children:"Stripe Integration"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Connect to auto-sync MRR and customer data"})]})]}),!S.loading&&n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${S.connected?"bg-emerald-500/20 text-emerald-400":"bg-slate-700 text-slate-400"}`,children:S.connected?"Connected":"Not connected"})]}),L&&n.jsxs("div",{className:"mt-4 p-3 bg-red-500/10 border border-red-500/30 rounded-xl flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-red-400",children:L}),n.jsx("button",{onClick:()=>O(null),className:"text-red-400 hover:text-red-300 p-1",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),$.length>0&&n.jsxs("div",{className:"mt-4 p-3 bg-amber-500/10 border border-amber-500/30 rounded-xl",children:[n.jsx("p",{className:"text-sm font-medium text-amber-400 mb-1",children:"Sync completed with warnings:"}),n.jsx("ul",{className:"text-sm text-amber-300/80 list-disc list-inside",children:$.map((U,T)=>n.jsx("li",{children:U},T))})]}),n.jsx("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:S.loading?n.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[n.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{className:"text-sm",children:"Loading..."})]}):S.connected?n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:I,disabled:_==="syncing",className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl font-medium hover:from-blue-600 hover:to-indigo-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:_==="syncing"?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Syncing..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Sync from Stripe"]})}),n.jsx("button",{onClick:G,disabled:_==="disconnecting",className:"px-4 py-2 bg-slate-800 text-slate-300 border border-slate-700 rounded-xl font-medium hover:bg-slate-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:_==="disconnecting"?"Disconnecting...":"Disconnect"}),S.last_sync_at&&n.jsxs("span",{className:"text-xs text-slate-500",children:["Last synced: ",new Date(S.last_sync_at).toLocaleString()]})]}):n.jsx("button",{onClick:ue,disabled:_==="connecting",className:"px-4 py-2 bg-[#635BFF] text-white rounded-xl font-medium hover:bg-[#5851DB] transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:_==="connecting"?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Connecting..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),"Connect Stripe"]})})}),!S.connected&&!S.loading&&n.jsx("p",{className:"mt-3 text-xs text-slate-500",children:"Connect your Stripe account to automatically sync MRR, customer counts, and currency data."})]}),n.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-2xl p-8 border border-slate-800",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Business Metrics"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Your current SaaS metrics. These will be used to provide more accurate pricing recommendations."})]}),n.jsxs("form",{onSubmit:le,children:[h&&n.jsxs("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/30 rounded-xl flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-red-400",children:h}),n.jsx("button",{type:"button",onClick:x,className:"text-red-400 hover:text-red-300 p-1",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"metricsCurrency",className:"block text-sm font-semibold text-slate-300 mb-2",children:"Revenue Currency"}),n.jsxs("select",{id:"metricsCurrency",value:C.currency,onChange:U=>P("currency",U.target.value),disabled:m,className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-700 text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all appearance-none pr-10 disabled:opacity-50",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23cbd5e1'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center",backgroundSize:"1.5rem"},children:[n.jsx("option",{value:"USD",children:"USD ($)"}),n.jsx("option",{value:"EUR",children:"EUR ()"}),n.jsx("option",{value:"GBP",children:"GBP ()"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"mrr",className:"block text-sm font-semibold text-slate-300 mb-2",children:"Monthly Recurring Revenue (MRR)"}),n.jsx("input",{id:"mrr",type:"number",step:"0.01",min:"0",value:C.mrr,onChange:U=>P("mrr",U.target.value),disabled:m,className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all disabled:opacity-50",placeholder:"e.g., 15000"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"customers",className:"block text-sm font-semibold text-slate-300 mb-2",children:"Number of Customers"}),n.jsx("input",{id:"customers",type:"number",min:"0",value:C.customers,onChange:U=>P("customers",U.target.value),disabled:m,className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all disabled:opacity-50",placeholder:"e.g., 120"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"churnRate",className:"block text-sm font-semibold text-slate-300 mb-2",children:"Monthly Churn Rate (%)"}),n.jsx("input",{id:"churnRate",type:"number",step:"0.1",min:"0",max:"100",value:C.monthly_churn_rate,onChange:U=>P("monthly_churn_rate",U.target.value),disabled:m,className:"w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all disabled:opacity-50",placeholder:"e.g., 2.5"})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"totalActiveCustomers",className:"block text-sm font-semibold text-slate-300 mb-2",children:["Total Active Customers ",n.jsx("span",{className:"text-slate-500 font-normal",children:"(optional)"}),q&&n.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-blue-500/20 text-blue-400 rounded-full",children:"Auto"})]}),n.jsx("input",{id:"totalActiveCustomers",type:"number",min:"0",value:q?he:C.total_active_customers,onChange:U=>P("total_active_customers",U.target.value),disabled:m||q,className:`w-full px-4 py-3 rounded-xl bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all disabled:opacity-50 ${q?"cursor-not-allowed":""}`,placeholder:"e.g., 500"}),n.jsx("p",{className:"mt-1 text-xs text-slate-500",children:q?"Calculated from customers by plan below.":"Optional. Expand below to enter customers by plan."})]})]}),s&&s.length>0&&n.jsxs("div",{className:"mt-6 border border-slate-700 rounded-xl overflow-hidden",children:[n.jsxs("button",{type:"button",onClick:()=>k(!w),className:"w-full px-4 py-3 flex items-center justify-between bg-slate-800/30 hover:bg-slate-800/50 transition-colors",children:[n.jsxs("span",{className:"text-sm font-medium text-slate-300",children:["Customers by Plan ",n.jsx("span",{className:"text-slate-500 font-normal",children:"(optional)"})]}),n.jsx("svg",{className:`w-5 h-5 text-slate-400 transition-transform ${w?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),w&&n.jsxs("div",{className:"p-4 space-y-4 bg-slate-900/30",children:[n.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Enter the number of active customers on each plan. Total will be calculated automatically."}),s.map(U=>{var ce;const T=Ea(U),ne=((ce=C.plan_customer_counts)==null?void 0:ce[T])??"";return n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("label",{className:"flex-1 text-sm text-slate-300",children:[U.name," customers"]}),n.jsx("input",{type:"number",min:"0",value:ne,onChange:J=>F(T,J.target.value),disabled:m,className:"w-32 px-3 py-2 rounded-lg bg-slate-900/50 border border-slate-700 text-white placeholder-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all text-right disabled:opacity-50",placeholder:"0"})]},T)})]})]}),n.jsxs("div",{className:"mt-6 flex items-center gap-4",children:[n.jsx("button",{type:"submit",disabled:m,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl font-semibold hover:from-blue-600 hover:to-indigo-700 hover:scale-105 transition-all shadow-lg shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:m?n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Metrics"}),d&&n.jsxs("span",{className:"text-sm text-emerald-400 flex items-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Metrics saved successfully"]})]})]})]}),n.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-2xl p-8 border border-slate-800",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Demo Environment"}),n.jsx("p",{className:"text-sm text-slate-400",children:"This environment is currently running in demo mode. You can clear all local pricing data (plans, competitors, and analyses) to start over."})]}),n.jsxs("div",{className:"flex items-start gap-4 p-4 bg-slate-800/30 rounded-xl border border-slate-700 mb-6",children:[n.jsx("svg",{className:"w-5 h-5 text-amber-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-white font-medium mb-1",children:"Warning"}),n.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:"Resetting demo data will permanently delete all plans, competitors, and pricing analyses from your browser. This action cannot be undone."})]})]}),n.jsx("button",{onClick:ye,className:"px-6 py-3 bg-slate-800 text-red-400 border border-red-500/30 rounded-xl font-semibold hover:bg-red-500/10 hover:border-red-500/50 transition-all",children:"Reset Demo Data"}),n.jsx("p",{className:"mt-4 text-sm text-slate-500",children:"This only affects local demo data in your browser. No real accounts or billing data are involved yet."})]}),n.jsx("div",{className:"bg-blue-500/5 backdrop-blur-sm rounded-2xl p-6 border border-blue-500/20",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("svg",{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-white font-semibold mb-1",children:"About Demo Mode"}),n.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:"You're currently using Revalyze in demo mode. All data is stored locally in your browser. Once we launch full accounts and billing, you'll be able to sync your data across devices and collaborate with your team."})]})]})})]})},md=()=>{const e=xt(),[t,r]=xc(),{isAdmin:l,user:s}=$t(),[a,i]=g.useState(null),[c,o]=g.useState(!0),[u,m]=g.useState(null),[h,x]=g.useState(null),[y,j]=g.useState(!1),[b,C]=g.useState(null),[f,d]=g.useState(!0),[p,w]=g.useState(null),k=g.useCallback(async()=>{try{o(!0);const{data:P}=await fi.getStatus();i(P),m(null)}catch(P){console.error("Failed to fetch billing status:",P),m(P.message)}finally{o(!1)}},[]),S=g.useCallback(async()=>{try{d(!0);const{data:P}=await Gm.get();C(P)}catch(P){console.error("Failed to fetch credits:",P)}finally{d(!1)}},[]);g.useEffect(()=>{k(),S()},[k,S]),g.useEffect(()=>{const P=t.get("success"),F=t.get("canceled");P==="1"?(w({type:"success",message:"Subscription updated successfully!"}),k(),S(),t.delete("success"),r(t,{replace:!0}),setTimeout(()=>w(null),5e3)):F==="1"&&(w({type:"warning",message:"Checkout was canceled."}),t.delete("canceled"),r(t,{replace:!0}),setTimeout(()=>w(null),5e3))},[t,r,k,S]),g.useEffect(()=>{l&&e("/app/overview",{replace:!0})},[l,e]);const v=async P=>{x(P),m(null);try{const{data:F}=await fi.createCheckoutSession(P);F.url&&(window.location.href=F.url)}catch(F){console.error("Checkout error:",F),m(F.message||"Failed to start checkout"),x(null)}},_=async()=>{j(!0),m(null);try{const{data:P}=await fi.createPortalSession();P.url&&(window.location.href=P.url)}catch(P){console.error("Portal error:",P),m(P.message||"Failed to open billing portal"),j(!1)}};if(l)return null;const M=(a==null?void 0:a.plan_key)||"free",L=(a==null?void 0:a.status)||"",O=(a==null?void 0:a.cancel_at_period_end)||!1,$=a!=null&&a.current_period_end?new Date(a.current_period_end):null,ee=L==="active"||L==="trialing",z=L==="past_due"||L==="unpaid",te=!!(a!=null&&a.stripe_customer_id),me={free:"Free Preview",starter:"Starter",growth:"Growth",enterprise:"Enterprise",admin:"Admin"}[M]||"Free Preview",ue=(b==null?void 0:b.remaining_credits)??(b==null?void 0:b.remainingCredits)??0,I=(b==null?void 0:b.monthly_credits)??(b==null?void 0:b.monthlyCredits)??0,G=[{key:"starter",name:"Starter",price:69,currency:"",interval:"month",description:"For small SaaS teams",features:["Up to 3 pricing plans","Up to 3 competitors","AI-powered pricing analysis","5 AI Insight Credits / month","PDF export of pricing reports","Email support"],creditNote:"AI analyses only",simulationNote:"Pricing simulations not included",popular:!1},{key:"growth",name:"Growth",price:159,currency:"",interval:"month",description:"For growing SaaS companies",features:["Up to 5 pricing plans","Up to 5 competitors","AI-powered pricing analysis","Pricing simulations (what-if analysis)","20 AI Insight Credits / month","PDF export of analyses & simulations","Priority email support"],creditNote:"AI analyses + simulations",simulationNote:"Includes pricing simulations (what-if analysis)",popular:!0},{key:"enterprise",name:"Enterprise",price:399,currency:"",interval:"month",description:"For larger SaaS companies",features:["7+ pricing plans","10+ competitors","Full AI-powered pricing analysis","Full pricing simulations access","100 AI Insight Credits / month","CSV & Excel export","3 team seats (multi-user access)","Dedicated onboarding & priority support"],creditNote:"AI analyses + simulations",simulationNote:"Full simulations, advanced exports and team seats",popular:!1}],H=P=>M===P.key?{text:"Current Plan",disabled:!0}:{text:"Upgrade",disabled:!1};return n.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 pb-12",children:[p&&n.jsxs("div",{className:`fixed top-4 right-4 z-50 px-4 py-3 rounded-xl shadow-lg flex items-center gap-2 ${p.type==="success"?"bg-emerald-500/90 text-white":p.type==="warning"?"bg-amber-500/90 text-white":"bg-red-500/90 text-white"}`,children:[p.type==="success"?n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),n.jsx("span",{className:"font-medium",children:p.message}),n.jsx("button",{onClick:()=>w(null),className:"ml-2 hover:opacity-80",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Billing & Subscription"}),n.jsx("p",{className:"text-slate-400",children:"Manage your subscription and explore upgrade options."})]}),u&&n.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/30 rounded-xl flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-red-400",children:u}),n.jsx("button",{onClick:()=>m(null),className:"text-red-400 hover:text-red-300 p-1",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsx("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-2xl p-8 border border-slate-800",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-6",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Current Plan"}),c?n.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[n.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{children:"Loading..."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("span",{className:"text-2xl font-bold text-blue-400",children:me}),ee&&n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${L==="trialing"?"bg-purple-500/10 text-purple-400":"bg-emerald-500/10 text-emerald-400"}`,children:L==="trialing"?"Trial":"Active"}),z&&n.jsx("span",{className:"px-3 py-1 bg-red-500/10 text-red-400 rounded-full text-sm font-medium",children:"Payment Issue"})]}),ee&&$&&n.jsx("div",{className:`p-4 rounded-xl border mb-4 ${O?"bg-amber-500/10 border-amber-500/30":"bg-slate-800/30 border-slate-700"}`,children:O?n.jsxs("p",{className:"text-amber-400 text-sm",children:[n.jsx("span",{className:"font-medium",children:"Cancels on:"})," ",$.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}):n.jsxs("p",{className:"text-slate-300 text-sm",children:[n.jsx("span",{className:"font-medium",children:"Renews on:"})," ",$.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})}),z&&n.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500/30 rounded-xl mb-4",children:n.jsxs("p",{className:"text-red-400 text-sm",children:[n.jsx("span",{className:"font-medium",children:"Payment failed."})," ","Please update your payment method to continue using premium features."]})}),te&&n.jsx("button",{onClick:_,disabled:y,className:"px-4 py-2 bg-slate-800 text-white border border-slate-700 rounded-xl font-medium hover:bg-slate-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:y?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Opening..."]}):n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Manage Billing"]})}),!ee&&!z&&M==="free"&&n.jsx("p",{className:"text-slate-400 text-sm mt-4",children:"You're on the free plan. Upgrade below to unlock more features."})]})]}),n.jsxs("div",{className:"lg:w-72 p-5 bg-slate-800/30 rounded-xl border border-slate-700",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),n.jsx("h3",{className:"text-white font-semibold",children:"AI Insight Credits"})]}),f?n.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[n.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),n.jsx("span",{className:"text-sm",children:"Loading..."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[n.jsx("span",{className:`text-3xl font-bold ${ue===0?"text-red-400":"text-white"}`,children:ue}),n.jsxs("span",{className:"text-slate-400",children:["/ ",I]})]}),n.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Credits remaining this month"}),n.jsx("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden mb-3",children:n.jsx("div",{className:`h-full transition-all ${ue===0?"bg-red-500":ue<=2?"bg-amber-500":"bg-blue-500"}`,style:{width:`${I>0?ue/I*100:0}%`}})}),$&&n.jsxs("p",{className:"text-xs text-slate-500",children:["Resets on ",$.toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]})]})]})}),n.jsxs("div",{children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Choose Your Plan"}),n.jsx("p",{className:"text-slate-400",children:"Scale your pricing intelligence as your business grows."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:G.map(P=>{const F=H(P),q=M===P.key;return n.jsxs("div",{className:`relative bg-slate-900/50 backdrop-blur-sm rounded-2xl p-6 border transition-all hover:border-slate-600 ${P.popular?"border-blue-500/50 shadow-xl shadow-blue-500/10":q?"border-emerald-500/50":"border-slate-800"}`,children:[P.popular&&n.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:n.jsx("span",{className:"px-4 py-1 bg-gradient-to-r from-blue-500 to-indigo-600 text-white text-xs font-semibold rounded-full shadow-lg",children:"Recommended"})}),q&&n.jsx("div",{className:"absolute -top-3 right-4",children:n.jsx("span",{className:"px-3 py-1 bg-emerald-500/20 text-emerald-400 text-xs font-semibold rounded-full border border-emerald-500/30",children:"Current"})}),n.jsxs("div",{className:"mb-5",children:[n.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:P.name}),n.jsx("p",{className:"text-sm text-slate-400",children:P.description})]}),n.jsx("div",{className:"mb-5",children:n.jsxs("div",{className:"flex items-baseline gap-1",children:[n.jsxs("span",{className:"text-4xl font-bold text-white",children:[P.currency,P.price]}),n.jsxs("span",{className:"text-slate-400 text-sm",children:["/",P.interval]})]})}),n.jsx("ul",{className:"space-y-2.5 mb-4",children:P.features.map((he,le)=>n.jsxs("li",{className:"flex items-start gap-2.5",children:[n.jsx("svg",{className:"w-4 h-4 text-blue-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M5 13l4 4L19 7"})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-slate-300 text-sm",children:he}),he.includes("AI Insight Credits")&&P.creditNote&&n.jsxs("span",{className:"text-xs text-slate-500 mt-0.5",children:["(",P.creditNote,")"]})]})]},le))}),P.simulationNote&&n.jsx("div",{className:`text-xs mb-4 px-3 py-2 rounded-lg ${P.key==="starter"?"bg-amber-500/10 text-amber-400 border border-amber-500/20":"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20"}`,children:P.simulationNote}),n.jsx("button",{onClick:()=>!F.disabled&&v(P.key),disabled:F.disabled||h===P.key,className:`w-full py-3 rounded-xl font-semibold transition-all disabled:cursor-not-allowed ${F.disabled?"bg-slate-800/50 text-slate-500":P.popular?"bg-gradient-to-r from-blue-500 to-indigo-600 text-white hover:from-blue-600 hover:to-indigo-700 hover:scale-105 shadow-lg shadow-blue-500/20":"bg-slate-800 text-white hover:bg-slate-700"}`,children:h===P.key?n.jsxs("span",{className:"flex items-center justify-center gap-2",children:[n.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Processing..."]}):F.text})]},P.key)})})]}),n.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-2xl p-6 border border-slate-800",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-5",children:"Frequently Asked Questions"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-white font-medium mb-1.5",children:"What are AI Insight Credits?"}),n.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"1 pricing analysis = 1 credit. 1 pricing simulation = 1 credit. Credits are shared between analyses and simulations each month."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-white font-medium mb-1.5",children:"Can I change plans later?"}),n.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Yes. Upgrade or downgrade anytime with prorated billing."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-white font-medium mb-1.5",children:"Is there a free trial?"}),n.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Yes. 14-day free trial on all paid plans, no card required."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-white font-medium mb-1.5",children:"What payment methods do you accept?"}),n.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"All major credit cards and SEPA transfers via Stripe."})]})]})]})]})},Rv=()=>n.jsx(_g,{children:n.jsx(Rg,{children:n.jsx(Tg,{children:n.jsx(Dg,{children:n.jsx(Ag,{children:n.jsx(av,{})})})})})}),Mv=()=>n.jsx(rh,{children:n.jsx(Rv,{})}),Xn=({children:e})=>n.jsx(Lg,{children:e}),Tv=dg([{path:"/",element:n.jsx(Xn,{children:n.jsx(ho,{to:"/login",replace:!0})})},{path:"/login",element:n.jsx(Xn,{children:n.jsx(zg,{})})},{path:"/signup",element:n.jsx(Xn,{children:n.jsx(Fg,{})})},{path:"/onboarding",element:n.jsx(Xn,{children:n.jsx(rh,{children:n.jsx(rv,{})})})},{path:"/app",element:n.jsx(Xn,{children:n.jsx(Mv,{})}),children:[{index:!0,element:n.jsx(ho,{to:"/app/overview",replace:!0})},{path:"overview",element:n.jsx(iv,{})},{path:"analyses",element:n.jsx(ov,{})},{path:"competitors",element:n.jsx(cv,{})},{path:"plans",element:n.jsx(uv,{})},{path:"plans-v2",element:n.jsx(mv,{})},{path:"simulation",element:n.jsx(Pv,{})},{path:"reports",element:n.jsx(Lv,{})},{path:"settings",element:n.jsx(_v,{})},{path:"settings/billing",element:n.jsx(md,{})},{path:"billing",element:n.jsx(md,{})}]}]);xi.createRoot(document.getElementById("root")).render(n.jsx(Cd.StrictMode,{children:n.jsx(yg,{router:Tv})}));
